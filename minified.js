var aa,ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var fa=ca(this);
function ha(a,b){if(b)a:{var d=fa;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];if(!(f in d))break a;d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&ba(d,a,{configurable:!0,writable:!0,value:b})}}ha("Number.isFinite",function(a){return a?a:function(b){return"number"!==typeof b?!1:!isNaN(b)&&Infinity!==b&&-Infinity!==b}});ha("Number.isInteger",function(a){return a?a:function(b){return Number.isFinite(b)?b===Math.floor(b):!1}});
ha("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var d=Math.floor(Math.abs(b));return 0>b?-d:d}});ha("Math.log2",function(a){return a?a:function(b){return Math.log(b)/Math.LN2}});ha("Math.log10",function(a){return a?a:function(b){return Math.log(b)/Math.LN10}});
var m=function(){function a(r,v){r=287867*(r%2147483648^1147483648^v)&2147483647;r^=1111111111;r=287867*r&2147483647;return r/2147483648}function b(r,v){v-=(""+r).length;if(0>=v)return r;for(var w="",H=0;H<v;H++)w+="0";return w+r}function d(r,v,w,H,D){function A(){return""==oa?"":" "}var I=w||(2==v?4:3);if(isNaN(r))return"NaN";if(0>r)return"-"+d(-r);if(Infinity==r)return"Infinity "+(v?"s":" seconds");D||(r=Math.ceil(r));if(1==v){if(315576E5<=r)return r=c(r/315576E5).toString(),r+("1"==r?" millenium":
" millenia");if(31557600<=r)return r=c(r/31557600).toString(),r+("1"==r?" year":" years");if(2332800<=r)return r=c(r/86400).toString(),r+("1"==r?" day":" days")}if(1==w&&!H){if(315576E5<=r)return r=c(r/315576E5).toString(),r+("1"==r?" millenium":" millenia");if(31557600<=r)return r=c(r/31557600).toString(),r+("1"==r?" year":" years");if(2635200<=r)return r=c(r/2635200).toString(),r+("1"==r?" month":" months")}w=r;r=Math.floor(r);var X=D=0,z=0,$a=0,db=0,t=0;!(H&&6>I)&&31557600<=r&&(D=Math.floor(r/
315576E5),r-=315576E5*D);!(H&&6>I)&&31557600<=r&&(X=Math.floor(r/31557600),r-=31557600*X);!(H&&5>I)&&2635200<=r&&(z=Math.floor(r/2635200),r-=2635200*z);!(H&&4>I)&&86400<=r&&($a=Math.floor(r/86400),r-=86400*$a);!(H&&3>I)&&3600<=r&&(db=Math.floor(r/3600),r-=3600*db);!(H&&2>I)&&60<=r&&(t=Math.floor(r/60),r-=60*t);var ya=v?"mm Y M d h m s".split(" "):" millenium; year; month; day; hour; minute; second".split(";"),Ka=v?"mm Y M d h m s".split(" "):" millenia; years; months; days; hours; minutes; seconds".split(";");
if(1==v&&0==db&&0==t&&0==r&&0!=$a&&0==D&&0==X&&0==z)return c($a).toString()+(1==$a?" day":" days");var oa="";if(H)0<D&&(oa+=A()+c(D).toString()+ya[0]),0<X&&(oa+=A()+X+ya[1]),0<z&&(oa+=A()+z+ya[2]),0<$a&&(oa+=A()+$a+ya[3]),0<db&&(oa+=A()+db+ya[4]),0<t&&(oa+=A()+t+ya[5]),0<r&&(oa+=A()+r+ya[6]);else if(v=0,0<D&&(oa+=A()+c(D).toString()+(1==D?ya[0]:Ka[0]),++v>=I)||0<X&&(oa+=A()+X+(1==X?ya[1]:Ka[1]),++v>=I)||0<z&&(oa+=A()+z+(1==z?ya[2]:Ka[2]),++v>=I)||0<$a&&(oa+=A()+$a+(1==$a?ya[3]:Ka[3]),++v>=I)||0<db&&
(oa+=A()+db+(1==db?ya[4]:Ka[4]),++v>=I)||0<t&&(oa+=A()+t+(1==t?ya[5]:Ka[5]),++v>=I)||0<r&&(oa+=A()+r+(1==r?ya[6]:Ka[6]),++v>=I))return oa;""==oa&&(oa=w.toFixed(3)+Ka[6]);return oa}function e(r){var v=Math.floor(r[0]).toString(16),w=Math.floor(r[1]).toString(16);r=Math.floor(r[2]).toString(16);1==v.length&&(v="0"+v);1==w.length&&(w="0"+w);1==r.length&&(r="0"+r);return"#"+v+w+r}function f(r){"black"==r&&(r="#000000");"white"==r&&(r="#ffffff");"red"==r&&(r="#ff0000");"green"==r&&(r="#00ff00");"blue"==
r&&(r="#0000ff");"yellow"==r&&(r="#00ffff");4==r.length&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);return[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]}function g(){try{return"localStorage"in window&&null!==window.localStorage}catch(r){return!1}}function h(r,v){history&&history.replaceState?v?history.replaceState(void 0,void 0,"#"+r+"="+v):window.location.hash&&history.replaceState(void 0,void 0,"#"):v?window.location.hash="#"+r+"="+v:window.location.hash&&(window.location.hash=
"")}function k(r){if(null==r||"object"!=typeof r)return r;if(r instanceof Array){var v=[],w;for(w in r)r.hasOwnProperty(w)&&(v[w]=k(r[w]));return v}if(r instanceof Object){v=new r.constructor;for(w in r)r.hasOwnProperty(w)&&(v[w]=k(r[w]));return v}throw Error("Cloning this object not supported.");}function l(r,v,w,H,D,A){r=p(r,A);r.style.position="absolute";r.style.left=v&&v.length&&"%"==v[v.length-1]?v:Math.floor(v)+"px";r.style.top=w&&w.length&&"%"==w[w.length-1]?w:Math.floor(w)+"px";r.style.width=
H&&H.length&&"%"==H[H.length-1]?H:Math.floor(H)+"px";r.style.height=D&&D.length&&"%"==D[D.length-1]?D:Math.floor(D)+"px";return r}function p(r,v){v=v||document.body;r=document.createElement(r);"doNotAddToParent"!=v&&v.appendChild(r);return r}var q={ep:"doNotAddToParent"};q.Zf=p;q.up=function(r){r=p("span",r);r.style.position="absolute";r.style.left="0px";r.style.top="0px";return r};q.Yf=l;q.sc=function(r){if(r){var v=r.parentNode;v&&v.contains(r)&&v.removeChild(r)}};q.tp=function(r,v,w,H,D){return l("div",
r,v,w,H,D)};q.bp=function(r){for(m.fn(r);r.attributes.length;)r.removeAttribute(r.attributes[r.attributes.length-1].name);r.className=""};q.bind=function(r,v){var w=Array.prototype.slice.call(arguments,1);return function(){return r.apply(this,w.concat(Array.prototype.slice.call(arguments)))}};q.clone=k;q.kq=function(r,v,w){return r.substr(v,w.length)==w};q.bq=function(r,v){r=k(r);for(var w in v)v.hasOwnProperty(w)&&(r[w]=v[w]);return r};q.Yp=function(r,v){v=v||window.location.href;r=r.replace(/[\[\]]/g,
"\\$&");return(r=(new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)")).exec(v))?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null};q.Zp=function(r,v){v=v||window.location.href;r=r.replace(/[\[\]]/g,"\\$&");return(r=(new RegExp("[#&]"+r+"(=([^&#]*)|&|#|$)")).exec(v))?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null};q.hq=h;q.Sp=function(){h("",null)};q.$p=function(){var r=window.location.href,v=r.indexOf("?");0<=v&&(r=r.substr(0,v));v=r.indexOf("#");0<=v&&(r=r.substr(0,v));return r};q.Up=function(){document.selection?
document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()};q.aq=g;q.hg=function(r,v){g()&&(window.localStorage[v]=r?r:"")};q.Hd=function(r,v){return g()&&void 0!=window.localStorage[r]?window.localStorage[r]:v};q.ld=function(r){g()&&window.localStorage.removeItem(r)};q.Dp=function(r){function v(){r();requestAnimationFrame(function(){window.setTimeout(v,w)})}var w=ia;window.setTimeout(v,w)};q.Tp=function(r){r()};q.iq=function(r,v){var w=(new Date).getTime(),H=!1;requestAnimationFrame(function(){H||
(v-=(new Date).getTime()-w,0<v?window.setTimeout(function(){H||r()},v):r())});return function(){H=!0}};q.Vp=function(r){r()};q.Wp=function(r,v){v=v||.5;r=f(r);r[0]=Math.floor(r[0]*v);r[1]=Math.floor(r[1]*v);r[2]=Math.floor(r[2]*v);return e(r)};q.eq=function(r){var v=f(r);r=v[0];var w=v[1];v=v[2];var H=Math.min(Math.min(r,w),v)+Math.max(Math.max(r,w),v);return e([255-H+r,255-H+w,255-H+v])};q.gp=function(r){r=f(r);return 128<.299*r[0]+.587*r[1]+.114*r[2]?"#000":"#fff"};q.hp=function(r){r=f(r);return 128<
.299*r[0]+.587*r[1]+.114*r[2]?e([.25*r[0],.25*r[1],.25*r[2]]):e([255-.25*(255-r[0]),255-.25*(255-r[1]),255-.25*(255-r[2])])};q.R=d;q.gf=function(r,v){r=new Date(1E3*r);var w=""+b(r.getFullYear(),4);v||(w+="-");w+=b(r.getMonth()+1,2);v||(w+="-");w+=b(r.getDate(),2);w=w+(v?"T":" ")+b(r.getHours(),2);v||(w+=":");w+=b(r.getMinutes(),2);v||(w+=":");return w+=b(r.getSeconds(),2)};var n=["","M","MM","MMM"],u=" C CC CCC CD D DC DCC DCCC CM".split(" "),x=" X XX XXX XL L LX LXX LXXX XC".split(" "),y=" I II III IV V VI VII VIII IX".split(" ");
q.Ip=function(r){return 1>r||3999<r?r.toString():n[Math.floor(r/1E3)]+u[Math.floor(r/100)%10]+x[Math.floor(r/10)%10]+y[r%10]};q.Tn=function(r,v,w){var H=0==v;if(2047==v)return r?w?NaN:-Infinity:w?NaN:Infinity;v-=1023;H&&v++;w/=Math.pow(2,52);H||(w+=1);v=w*Math.pow(2,v);r&&(v=-v);return v};q.Xn=function(r){var v=0;0>r&&(r=-r,v=1);if(Infinity==r)return[v,2047,0];if(isNaN(r))return[v,2047,1];if(0==r)return 0>1/r&&(v=1),[v,0,0];for(var w=0;2<=r;)r/=2,w++;for(;1>r;)r*=2,w--;w+=1023;if(1>w)return r=Math.floor(r*
Math.pow(2,52+w-1)),[v,0,r];if(2047<=w)return[v,2047,0];r=Math.floor((r-1)*Math.pow(2,52));return[v,w,r]};q.getTime=function(){return Date.now()/1E3};q.uf=a;q.Lj=function(r,v,w){return a(((v+128&32767)<<15)+(r+128&32767),w)};q.gq=function(r,v,w,H){return a(((w+128&1023)<<20)+((v+128&1023)<<10)+(r+128&1023),H)};q.Qp=function(r){r&&0<r.length&&(r=r[0].toUpperCase()+r.substr(1));return r};q.rp=function(r){r&&0<r.length&&(r=r[0].toLowerCase()+r.substr(1));return r};q.Tc=function(r,v,w,H){r.jg||(r.jg=
[]);20<r.jg.length||(r.jg.push([v,w,H]),r.addEventListener(v,w,H))};q.jb=function(r,v,w,H){void 0==H&&(H="");r.ge||(r.ge={});r.ge[v]||(r.ge[v]={});r.ge[v][H]&&r.removeEventListener(v,r.ge[v][H]);r.ge[v][H]=w;r.addEventListener(v,w,!1)};q.kp=function(r){if(r.jg)return!!r.jg.length;if(r.ge){r=r.ge;for(var v in r)return!0}return!1};q.fn=function(r){if(r.jg){for(var v=r.jg,w=0;w<v.length;w++)r.removeEventListener(v[w][0],v[w][1],v[w][2]);delete r.jg}if(r.ge){v=r.ge;for(var H in v)if(v.hasOwnProperty(H)){w=
v[H];for(var D in w)w.hasOwnProperty(D)&&r.removeEventListener(H,w[D],!1)}delete r.ge}};q.Gh=function(r){return r.shiftKey};q.Si=function(r){return r.ctrlKey||r.metaKey};q.co=function(r){r=r.getBoundingClientRect();var v=[];v[0]=r.left;v[1]=r.top;v[2]=r.right;v[3]=r.bottom;return v};return q}(),B=m.bind,ja=m.tp,la=m.Qp,na=m.rp,pa=m.Si,qa=m.Gh;function ra(a,b,d){b=b||a.clientHeight;d||(a.style.textAlign="center");a.style.verticalAlign="middle";a.style.lineHeight=b+"px";a.j=a}function sa(a,b,d){void 0==b&&(b=1);void 0==d&&(d=1);a.innerHTML="";var e=m.Zf("div",a);e.style.display="table";e.style.width="100%";e.style.height="100%";e=m.Zf("div",e);e.style.display="table-cell";e.style.verticalAlign=1==d?"middle":0==d?"top":"bottom";e.style.textAlign=1==b?"center":0==b?"left":"right";a.j=e}function ta(a,b){a.setAttribute("aria-label",b)}
function ua(a,b){a.setAttribute("role",b)}function E(a,b,d,e){e&&!va()?m.Tc(a,"mousedown",b):m.Tc(a,"click",b);m.Tc(a,"keypress",function(f){"Enter"==f.key&&b(f);f.preventDefault()});a.tabIndex=0;ua(a,"button");d&&ta(a,d)}
function xa(a,b,d,e){e||(e={});if(b){var f=function(g){var h=g&&qa(g);g=g&&pa(g);b(h,g)};e.mp&&!va()?m.jb(a,"mousedown",f,"action"):m.jb(a,"click",f,"action");e.fq||m.jb(a,"keypress",function(g){"Enter"==g.key&&f(void 0);g.preventDefault()},"action");a.tabIndex=0;ua(a,"button");d&&ta(a,d)}e.Ba&&za(a,e.Ba,e.Tj,!e.hb);(e.Ba||e.Zc||e.Le)&&(va()||!e.op)&&Aa(a,function(){Ba(b,d,e)})}var Ca=!1;
function Ba(a,b,d){if(!Ca){Ca=!0;var e=Da({title:"Long press context menu",sb:"efDialogLongPress",Ia:!0,onclose:function(){Ca=!1}}).content,f=0,g=function(){var k=new F(e,.05,f,.95,f+.07);f+=.084;k.a.className="efButton";Ga(k.a);sa(k.a);return k},h=new F(e,.05,f,.95,f+.05);h.a.innerText="Long click allows using shift/ctrl key actions and tooltips on touch interfaces.";f+=.05;f+=.05;a&&(h=g(),xa(h.a,function(){Ha();a(!1,!1,!1)},b,{}),h.a.j.innerText="main: "+la(b));d.Zc&&(h=g(),xa(h.a,function(){Ha();
a(!0,!1,!1)},b,{}),h.a.j.innerText="shift: "+la(d.Zc));d.Le&&(h=g(),xa(h.a,function(){Ha();a(!1,!0,!1)},b,{}),h.a.j.innerText="ctrl: "+la(d.Le));d.pj&&(h=g(),xa(h.a,function(){Ha();a(!0,!0,!1)},b,{}),h.a.j.innerText="shift+ctrl: "+la(d.pj));d.no&&(h=g(),xa(h.a,function(){Ha();a(!1,!1,!0)},b,{}),h.a.j.innerText="other: "+la(d.no));f+=.05;d.Ba&&(b="string"==typeof d.Ba?d.Ba:d.Ba())&&((new F(e,.05,f,.95,f+.05)).a.innerText="Tooltip:",h=new F(e,.05,f+.05,.95,"a"),h.a.innerHTML=b,Ia(h.a))}}
function Ja(a){var b=a.clientX,d=a.clientY;!b&&a.targetTouches&&a.targetTouches[0]&&(b=a.targetTouches[0].clientX,d=a.targetTouches[0].clientY);return[b,d]}
function Aa(a,b){function d(q){a.removeEventListener("click",d,!0);q.preventDefault();q.stopPropagation();q.stopImmediatePropagation();return!1}var e,f=0,g=0,h=va(),k=h?"touchend":"mouseup",l=h?void 0:"mouseleave",p=h?"touchmove":"mousemove";m.Tc(a,h?"touchstart":"mousedown",function(q){!h&&3==q.which||pa(q)||qa(q)||(a.removeEventListener("click",d,!0),q=Ja(q),f=q[0],g=q[1],e&&clearTimeout(e),e=window.setTimeout(function(){e=void 0;a.isConnected&&(b(),m.Tc(a,"click",d,!0))},800))},!0);m.Tc(a,k,function(){e&&
(clearTimeout(e),e=void 0)},!0);l&&m.Tc(a,l,function(){e&&(clearTimeout(e),e=void 0)},!0);m.Tc(a,p,function(q){e&&(q=Ja(q),10<=Math.abs(f-q[0])||10<=Math.abs(g-q[1]))&&(clearTimeout(e),e=void 0)},!0);m.Tc(a,"dragstart",function(){e&&(clearTimeout(e),e=void 0)},!0);a.oncontextmenu=function(q){if(h||3!=q.which)return q.preventDefault(),q.stopPropagation(),q.stopImmediatePropagation(),!1};a.style.nq="none";a.style.webkitUserSelect="none"}
function Ga(a,b){a.style.cursor="pointer";a.style.userSelect="none";a.j&&(a.j.style.userSelect="none");2==b?(m.jb(a,"mouseover",function(){a.style.border="4px solid red"},"buttonstyle"),m.jb(a,"mouseout",function(){a.style.filter=""},"buttonstyle")):b?(m.jb(a,"mouseover",function(){a.style.border="1px solid #0000"},"buttonstyle"),m.jb(a,"mouseout",function(){a.style.border=""},"buttonstyle")):(m.jb(a,"mouseover",function(){a.style.filter="brightness(0.93)"},"buttonstyle"),m.jb(a,"mouseout",function(){a.style.filter=
""},"buttonstyle"))}function La(a,b){a.className=b?"efFlatButton":"efButton";a.j=a;sa(a);Ga(a);a.No=!!b}function Oa(a){a.style.boxSizing="border-box";a.style.border="1px solid black";var b=ja("0%","0%","100%","100%",a);b.style.backgroundColor="red";a.style.display="none";a.style.backgroundColor="#ddd";a.visible=!1;a.On=b}
function Qa(a,b,d){if(0>b)a.visible&&(a.style.display="none",a.visible=!1,a.en=b);else if(1<b&&(b=1),!(void 0!=a.en&&.01>Math.abs(b-a.en))){a.en=b;var e=a.On;a.visible||(a.style.display="",a.visible=!0);e.style.width=100*b+"%";d&&a.cp!=d&&(a.On.style.backgroundColor=d,a.cp=d)}}var Ta=void 0,Ua=0,Va=[],Xa=[],Ya=0,Za=1,ab=3,bb=void 0;
function Da(a){function b(D){if((!G||G.yh)!=!!a.jq){var A=w;D?A=0:A++;D=(new F(p,1-v*(A+1),[1,-.4*v],.99-v*A,[1,-.01],eb)).a}else D=(new F(p,1-v*(w+1),[1,-.4*v],.99-v*w,[1,-.01],eb)).a;w++;return D}a||(a={});var d=a.vb,e=a.names,f=a.Lp,g=a.po,h=a.wp,k=a.cq;Array.isArray(d)||(d=d?[d]:[]);Array.isArray(e)||(e=d?[e||"ok"]:[]);Array.isArray(f)||(f=f?[f]:[]);Array.isArray(g)||(g=g?[g]:[]);Array.isArray(h)||(h=h?[h]:[]);Array.isArray(k)||(k=k?[k]:[]);var l={};0>Ua&&fb();Ua++;gb();bb=a.Qe;hb();jb();var p=
a.size==Ya?new F(kb,.05,.33,.95,.66):a.size==Za?new F(kb,.05,.25,.95,.75):a.size==ab?new F(kb,.05,.05,.95,.9):new F(kb,.05,.12,.95,.9);l.onclose=a.onclose;l.oncancel=a.oncancel;l.Qe=a.Qe;l.lp=!!a.yf;a.yf&&(Ta=a.yf);Va.push(l);p.a.className=a.sb||"efDialog";ua(p.a,"dialog");p.a.setAttribute("aria-modal","true");p.a.style.zIndex=""+(10*Ua+5);l.xg=function(){l.Ji(!0)};l.Ji=function(D){l.lp&&(Ta=void 0);bb=void 0;m.sc(H);for(var A=0;A<Va.length;A++)if(Va[A]==l){Va.splice(A,1);0<A&&(bb=Va[A-1].Qe);break}for(A=
0;A<Xa.length;A++)if(Xa[A]==H){Xa.splice(A,1);break}Ua--;hb();l.zo(D);nb();gb()};l.zo=function(D){ob(p,kb);if(D&&l.oncancel)l.oncancel();if(l.onclose)l.onclose()};(new F(p,0,0,1,[0,.11])).a.className="efDialogTop";var q=new F(p,.89,0,1,[0,.11]);var n=pb("20%","20%","60%","60%",q.a);qb(rb,n);Ga(q.a);xa(q.a,function(D,A){l.xg&&l.xg();A&&fb()},a.title?' close dialog: "'+a.title+'"':"dialog close button",{mp:!0,Ba:"close"});q.a.className="efNoOutline";if(a.pb){var u=new F(p,.78,0,.89,[0,.11]);n=pb("20%",
"20%","60%","60%",u.a);qb(sb,n);Ga(u.a);if("string"==typeof a.pb){var x=a.pb;a.pb=function(){Da({Ia:!0,title:"Help"}).content.a.innerHTML=x}}E(u.a,a.pb,"help");u.a.title="help";n=.22;u=.78}else n=.11,u=.89;var y=a.Em&&0==d.length,r=.88;a.size==Ya&&(r=.8);a.size==Za&&(r=.8);y&&(r=1);l.flex=p;l.a=p.a;y=a.jo||.05;l.icon=new F(p,.11*y,[0,.11*y],.11*(1-y),[0,.11*(1-y)]);a.qo?(l.title=new F(p,n,0,u,[0,.11],ub),l.content=new F(p,.11,[.01,.11],.89,r)):(l.title=new F(p,n,0,u,[0,.11],ub),l.content=new F(p,
.02,[.01,.11],.98,r));a.Ia&&wb(l.content,!1);a.Cp&&wb(l.content,!0);sa(l.title.a);l.Hp=l.title.a.j;a.title&&(l.title.a.j.innerText=a.title,ta(l.title.a,"Dialog: "+a.title));a.icon&&(n=pb("5%","5%","90%","90%",l.icon.a),qb(a.icon,n));for(u=0;u<d.length;u++)if(void 0==d[u]||void 0==e[u])d.splice(u,1),e.splice(u,1),u--;var v=.27;3<d.length+1&&(v=.247);var w=0;if(d)for(u=0;u<d.length;u++){n=b(!1);if(!a.lo||a.Yo)n.style.fontWeight="bold";La(n);n.j.innerText=e[u];xa(n,B(function(D,A){D(A)||l.Ji(!1)},d[u]),
e[u]+" (dialog button)",{Ba:f[u],Zc:g[u],Le:h[u],pj:k[u]})}if(!a.Em){n=b(!0);if(a.lo||a.Yo)n.style.fontWeight="bold";La(n);d=a.Wc||(0<d.length?"cancel":"back");n.j.innerText=d;E(n,l.xg,d+": dialog button")}var H=xb(10*Ua);Xa.push(H);a.xp||(H.onclick=l.xg);window.setTimeout(function(){nb()});q.a.focus();return l}
function xb(a){var b=ja(0,0,window.innerWidth,window.innerHeight);b.style.width="100%";b.style.height="100%";b.style.backgroundColor="rgba(0, 0, 0, 0.35)";b.style.position="fixed";b.style.zIndex=""+a;return b}function fb(){Ta=void 0;for(var a=0;a<Va.length;a++)Va[a].zo(!0);for(a=0;a<Xa.length;a++)m.sc(Xa[a]);Va=[];Xa=[];Ua=0;hb();gb()}
function gb(){0==Ua?(kb.a.style.visibility="hidden",yb(Ab.a,!1)):(kb.a.style.visibility="",yb(Ab.a,!0),Va.length>=Ua&&yb(Va[Ua-1].flex.a,!1),1<Ua&&yb(Va[Ua-2].flex.a,!0))}function Ha(a){if(Va&&0<Va.length){var b=Va[Va.length-1];a?b.xg():b.Ji(a)}}function Bb(){for(;1<Va.length;)Ha()}function yb(a,b){b?(a.setAttribute("aria-hidden",!0),a.setAttribute("inert",!0)):(a.setAttribute("aria-hidden",!1),a.removeAttribute("inert"))}
document.addEventListener("keydown",function(a){if(bb)if(0>=Ua)bb=void 0;else if(bb(a),a.stopImmediatePropagation(),27==a.keyCode||"Escape"==a.code)Eb?jb():Ha(!0)});function va(){return"ontouchstart"in window||0<navigator.Rp||0<navigator.msMaxTouchPoints}var Fb,Gb=void 0;
function Ia(a){var b=G.Od;0==b||1==b?(a.style.backgroundColor="#004",a.style.color="#fff",a.style.border="2px solid #fff"):2==b?(a.style.backgroundColor="#ccce",a.style.color="#000",a.style.border="1px solid #000"):4==b?(a.style.backgroundColor="#840e",a.style.color="#fff",a.style.border="2px solid #fff"):(a.style.backgroundColor="#0008",a.style.color="#fff",a.style.border="")}
function za(a,b,d,e){var f="string"==typeof b;"string"!=typeof b&&b||(b=B(function(p){return p},b));d||(a.setAttribute("aria-description",b()),f||(a.onfocus=function(){a.setAttribute("aria-description",b())}));var g=void 0,h=va();if(h)hb();else{var k=function(p,q){if(G)if(0==G.Od)hb();else if(!g||g!=Fb)if(Fb&&(m.sc(Fb),Gb=Fb=void 0),p){var n=a.getBoundingClientRect(),u=n.y,x=q.clientX+20;n=Math.max(q.clientY+20,n.y+n.height);g=document.createElement("div");g.style.position="fixed";Fb=g;Ia(g);g.style.padding=
"4px";g.style.zIndex="999";g.style.lineHeight="normal";g.style.textAlign="left";g.style.verticalAlign="top";g.style.fontSize="";var y=m.up(g);y.style.position="";y.innerHTML=p;document.body.appendChild(g);q=g.clientWidth;q+=16;var r=Math.max(300,Math.floor(.3*Hb.a.clientWidth));100<p.length&&(r=Math.max(400,Math.floor(.4*Hb.a.clientWidth)));var v=Hb.a.clientWidth;q>r&&(q=r);x+r>v&&(x=v-r);g.style.left=x+"px";g.style.top=n+"px";g.style.width=q+"px";g.onmouseover=function(){l()};n=g.getBoundingClientRect();
x=n.y+n.height;n=n.height;q=window.innerHeight;x>q&&x-q>n-u&&(g.style.top=u-n+"px");d&&(Gb=function(){var w=a.Io();w&&w!=p&&(p=w,y.innerHTML=p)})}},l=function(){Gb=void 0;Fb&&m.sc(Fb);g&&g!=Fb&&m.sc(g);Fb=g=void 0};(function(){a.Io=b;a.Kp&&m.kp(a)||(a.Kp=!0,m.jb(a,"mouseover",function(p){p.shiftKey||pa(p)||(!h||e)&&k(a.Io(),p,!1)},"tooltip"),m.jb(a,"mouseout",function(p){if(!h||e)p=p.toElement||p.relatedTarget,p!=a&&(p&&p.parentNode==a||p&&p.parentNode&&p.parentNode.parentNode==a||p&&p.parentNode&&
p.parentNode.parentNode&&p.parentNode.parentNode.parentNode==a||p&&p.parentNode&&p.parentNode.parentNode&&p.parentNode.parentNode.parentNode&&p.parentNode.parentNode.parentNode.parentNode==a||p!=g&&l())},"tooltip"))})()}}function Lb(a,b,d){xa(a,void 0,void 0,{Ba:b,Tj:d})}function hb(){Fb&&m.sc(Fb);Fb=Gb=void 0}var eb=2,ub=5;
function F(a,b,d,e,f,g,h){this.fontSize=g;this.align=h;this.Ok=!a||a.a==document.body;b.length?(this.Oo=b[0],this.Ro=b[1]||0,this.Po=b[2]||0,this.Qo=void 0==b[3]?1:b[3],this.So=b[4]||0):(this.Oo=b,this.Po=this.Ro=0,this.Qo=1,this.So=0);"a"==d?(this.zn=!0,this.Dn=this.Bn=this.An=this.Cn=this.ic=0):d.length?(this.zn=!1,this.ic=d[0],this.Cn=d[1]||0,this.An=d[2]||0,this.Bn=void 0==d[3]?1:d[3],this.Dn=d[4]||0):(this.zn=!1,this.ic=d,this.An=this.Cn=0,this.Bn=1,this.Dn=0);e.length?(this.To=e[0],this.Wo=
e[1]||0,this.Uo=e[2]||0,this.Vo=void 0==e[3]?1:e[3],this.Xo=e[4]||0):(this.To=e,this.Uo=this.Wo=0,this.Vo=1,this.Xo=0);"a"==f?(this.En=!0,this.In=this.Gn=this.Fn=this.Hn=this.Zj=0):f.length?(this.En=!1,this.Zj=f[0],this.Hn=f[1]||0,this.Fn=f[2]||0,this.Gn=void 0==f[3]?1:f[3],this.In=f[4]||0):(this.En=!1,this.Zj=f,this.Fn=this.Hn=0,this.Gn=1,this.In=0);a&&a.elements.push(this);a=a?a.a:m.ep;this.bb=ja(0,0,0,0,a);this.bb.style.boxSizing="border-box";this.a=this.bb;this.elements=[];this.zn?(this.bb.style.display=
"inline-block",this.a.style.position="relative"):0<this.align&&(b=this.align%3,d=Math.floor(this.align/3),0!=d?(this.bb.style.display="table",this.bb.style.width="100%",this.bb.style.height="100%",this.a=m.Zf("div",this.bb),this.a.style.display="table-cell",this.a.style.verticalAlign=0==d?"top":1==d?"middle":"bottom",this.a.style.textAlign=0==b?"left":1==b?"center":"right"):this.bb.style.textAlign=0==b?"left":1==b?"center":"right");this.En&&(this.a.style.height="");Mb(this,a)}
function Nb(a,b){if(b instanceof F){a.Ok=!1;var d=b.a;b.elements.push(a)}else a.Ok=!0,d=b;d.appendChild(a.bb);a.update(d)}var Ob=void 0,Pb=void 0,Qb=void 0;
function Mb(a,b){a.bb==Ob&&(Ob=void 0);if(a.Ok||!b){var d=window.innerWidth;var e=window.innerHeight;Ob=void 0}else b==Ob?(d=Pb,e=Qb):(d=b.Rn,e=b.Qn,void 0==d&&(d=b.clientWidth),void 0==e&&(e=b.clientHeight),Ob=b,Pb=d,Qb=e);d=[d,e];b=d[0];var f=d[1];d=b*a.Oo+f*a.Ro+Math.min(b,a.Qo*f)*a.Po+a.So;e=f*a.ic+b*a.Cn+Math.min(a.Bn*b,f)*a.An+a.Dn;var g=b*a.To+f*a.Wo+Math.min(b,a.Vo*f)*a.Uo+a.Xo;b=f*a.Zj+b*a.Hn+Math.min(a.Gn*b,f)*a.Fn+a.In;a.bb.style.left=Math.floor(d)+"px";a.bb.style.top=Math.floor(e)+"px";
a.bb.style.width=Math.floor(g-d)+"px";a.bb.style.height=Math.floor(b-e)+"px";a.bb.Rn=Math.floor(g-d);a.bb.Qn=Math.floor(b-e);3==a.fontSize?a.bb.style.fontSize=Math.floor(2*Math.min((g-d)/10,b-e))+"px":(b=1,1==a.fontSize?b=1.4:a.fontSize==eb?b=1.25:4==a.fontSize?b=.9:a.fontSize==ub&&(b=1.5),a.bb.style.fontSize=Math.floor(.021*Math.min(1.3*window.innerWidth,.75*window.innerHeight)*b)+"px")}F.prototype.update=function(a){a?Mb(this,a):this.Ok&&Mb(this,void 0);for(a=0;a<this.elements.length;a++)this.elements[a].update(this.bb)};
function Rb(a){for(var b=0;b<a.elements.length;b++)Rb(a.elements[b]);for(b=0;b<a.bb.children.length;b++){var d=a.bb.children[a.bb.children.length-1-b];if("CANVAS"==la(d.tagName)){var e=d;2E3<Sb.length||(m.bp(e),Sb[Sb.length]=e);a.bb.removeChild(d)}}}function ob(a,b){a.bb==Ob&&(Ob=void 0);Rb(a);m.sc(a.bb);if(b){b=b.elements;for(var d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);break}}}
F.prototype.clear=function(){this.bb==Ob&&(Ob=void 0);Rb(this);for(var a=0;a<this.elements.length;a++)this.elements[a].a==Ob&&(Ob=void 0),m.sc(this.elements[a].a);this.elements=[];this.bb.innerHTML="";this.bb.Rn=void 0;this.bb.Qn=void 0};
function Tb(a){var b=c(0),d=c(Infinity);if(Ub(a.f,0)){var e=a.f.a(G.b.f).i(100),f=a.f.sub(G.b.f).a(Vb.f);b=Xb(b,f);d=Yb(d,e)}Ub(a.B,0)&&(e=a.B.a(G.b.B).i(100),f=a.B.sub(G.b.B).a(Vb.B),b=Xb(b,f),d=Yb(d,e));Ub(a.Y,0)&&(e=a.Y.a(G.b.Y).i(100),f=a.Y.sub(G.b.Y).a(Vb.Y),b=Xb(b,f),d=Yb(d,e));Ub(a.h,0)&&(e=a.h.a(G.b.h).i(100),f=a.h.sub(G.b.h).a(Vb.h),b=Xb(b,f),d=Yb(d,e));Ub(a.K,0)&&(e=a.K.a(G.b.K).i(100),f=a.K.sub(G.b.K).a(Vb.K),b=Xb(b,f),d=Yb(d,e));Ub(a.v,0)&&(e=a.v.a(G.b.v).i(100),f=a.v.sub(G.b.v).a(Vb.v),
b=Xb(b,f),d=Yb(d,e));Ub(a.W,0)&&(e=a.W.a(G.b.W).i(100),f=a.W.sub(G.b.W).a(Vb.W),b=Xb(b,f),d=Yb(d,e));a="";Ub(d,100)&&!Zb(b,Infinity)?a+=m.R(b.valueOf(),!0):(ac(d,.001)&&(d=c(0)),a+=d.toString()+"% of stacks");return a}
function wb(a,b){a.a.style.overflowY="auto";a.a.style.overflowX="hidden";window.setTimeout(function(){a.a.className=a.a.scrollHeight>a.a.clientHeight?"efScrollGradient":"";b&&(new MutationObserver(function(d){d[0]&&(d=d[0].target,d.className=d.scrollHeight>d.clientHeight?"efScrollGradient":"")})).observe(a.a,{childList:!0})})}var Eb=void 0,cc=void 0;function jb(){Eb&&Eb.oi(!1);cc&&(m.sc(cc),cc=void 0)}
function dc(a,b,d,e,f,g){var h=a.a.j?a.a.j:a.a;a.Gf=d;h.innerText=b+": "+e[a.Gf];h=e.length+2;var k=.02*h;g||(a.a.className="efDropDown");var l=new F(kb,.25,.5-k,.75,.5+k);l.a.style.zIndex="1000";l.a.className="efDropDown";var p=!0;l.oi=function(n){n==p||n&&Eb==l||(Eb&&Eb!=l&&Eb.oi(!1),p=n,l.a.style.display=p?"block":"none",Eb=n?l:void 0,p&&l.update(hc),n&&!cc&&(cc=xb(10*(Ua+1))),!n&&cc&&(m.sc(cc),cc=void 0))};l.oi(!1);g=new F(l,0,0,1,1/h);sa(g.a);g.a.j.innerText=b+":";for(g=0;g<=e.length;g++){k=
g==e.length;var q=new F(l,.01,(g+1.01)/h,.99,(g+1.99)/h);Ga(q.a);sa(q.a);q.a.j.innerText=k?"cancel":e[g];q.a.className="efDropDown";k?E(q.a,B(function(){l.oi(!1)},g)):E(q.a,B(function(n){a.Gf=n;a.a.j.innerText=b+": "+e[n];ta(a.a,b+": "+e[n]+" - dropdown");f&&f(n);l.oi(!1)},g))}E(a.a,function(){l.oi(!p)},b+": "+e[d]+" - dropdown")}
function ic(a,b,d,e){var f=Da({size:Ya,vb:function(){d(g.value)},title:a});b&&((new F(f.content,.1,.2,.9,.3)).a.innerText=b);a=new F(f.content,.1,.4,.9,.6);var g=m.Yf("textarea","0","0","100%","100%",a.a);g.onkeydown=function(h){if((13==h.keyCode||"Enter"==h.code)&&!h.shiftKey)return d(g.value),f.Ji(),h.preventDefault(),h.stopPropagation(),!1};e&&(g.value=e,g.select());g.style.fontSize="100%";g.focus()}
function kc(a,b){for(var d=[];a;)d.push(a),a=a.parentElement;for(a=[];b;)a.push(b),b=b.parentElement;for(b=null;;){if(0==d.length||0==a.length)return b;var e=d.pop(),f=a.pop();if(e!=f)return b;b=e}}function lc(a){for(var b=0;a;){var d=0;""!=a.style.zIndex&&(d=parseInt(a.style.zIndex));d||(d=0);b=Math.max(b,d);a=a.parentElement}return b}
function mc(a,b,d,e,f,g,h){var k=kc(a,e);k&&h&&(k=kc(k,h));if(k){var l=a.getBoundingClientRect(),p=e.getBoundingClientRect(),q=k.getBoundingClientRect();b=l.x+b*l.width;d=l.y+d*l.height;f=p.x+f*p.width;g=p.y+g*p.height;b=(b-q.x)/q.width;d=(d-q.y)/q.height;f=(f-q.x)/q.width;g=(g-q.y)/q.height;var n=k.clientWidth,u=k.clientHeight;p=f*n;q=g*u;var x=p-b*n,y=q-d*u,r=Math.atan2(y,x);l=.025*Math.sqrt((f-b)*(f-b)+(g-d)*(g-d));var v=.3*Math.sqrt(x*x+y*y),w=.16*Math.PI;x=p-v*Math.cos(r-w);y=q-v*Math.sin(r-
w);var H=p-v*Math.cos(r+w);r=q-v*Math.sin(r+w);x/=n;y/=u;H/=n;r/=u;w=Math.min(b,f,x,H)-2*l;v=Math.min(d,g,y,r)-2*l;p=Math.max(b,f,x,H)+2*l;q=Math.max(d,g,y,r)+2*l;u=p-w;n=q-v;k=pb(100*w+"%",100*v+"%",100*(p-w)+"%",100*(q-v)+"%",k);p=k.clientWidth;q=k.clientHeight;if(p>q){var D=256;var A=Math.floor(D*q/p)}else A=256,D=Math.floor(A*p/q);k.width=D;k.height=A;k.style.pointerEvents="none";var I=k.getContext("2d");k.className="nonpixelated";b=(b-w)/u*D;d=(d-v)/n*A;p=(f-w)/u*D;q=(g-v)/n*A;x=(x-w)/u*D;y=
(y-v)/n*A;H=(H-w)/u*D;r=(r-v)/n*A;I.lineWidth=l*Math.sqrt(D*D/(u*u)+A*A/(n*n));I.strokeStyle="#f00";I.beginPath();I.moveTo(b,d);I.lineTo(p,q);I.stroke();I.beginPath();I.moveTo(x,y);I.lineTo(p,q);I.lineTo(H,r);I.stroke();a=Math.max(lc(a),lc(e));h&&(a=Math.max(a,lc(h)));a++;k.style.zIndex=a;return k}}var nc=[];
function oc(a,b,d,e,f,g,h){function k(){m.sc(l);l=mc(a,b,d,e,f,g,h);p.Mn=l}var l=mc(a,b,d,e,f,g,h),p={};window.addEventListener("resize",k);p.Mn=l;p.lq=k;p.remove=function(){m.sc(l);window.removeEventListener("resize",k);p.Mn=void 0;p.remove=function(){};for(var q=0;q<nc.length;q++){var n=nc.length-q-1;if(nc[n]==p){nc.splice(n,1);break}}};nc.push(p)}function rc(){for(;0<nc.length;)nc[nc.length-1].remove()}var sc,tc,xc;
function yc(){if(!window.AudioContext&&!window.webkitAudioContext)return!1;sc||(sc=new (window.AudioContext||window.webkitAudioContext));if(!sc)return!1;xc=sc.createGain();if(!xc)return!1;xc.gain.value=1;xc.connect(sc.destination);tc=sc.createBufferSource();if(!tc)return!1;tc.connect(xc);return!0}var zc=[];
function Ac(a){var b=G.volume;if(!zc[a]){if(yc()){var d=sc.sampleRate;for(var e=sc.createBuffer(2,.75*d,d),f=0;f<e.numberOfChannels;f++)for(var g=e.getChannelData(f),h=0;h<e.length;h++){var k=(h+1)/e.length;g[h]=Math.sin(h/d*Math.PI*2*a)*(1-k)*(1-k)*.25}d=e}else d=void 0;zc[a]=d}zc[a]&&(a=zc[a],yc()&&xc&&(xc.gain.value=b,tc.buffer=a,tc.start()))}function Bc(a){if(!a)return"";a=a.substr(0,25);a=a.replace(/\s/g," ");a=a.replace(/</g,"");a=a.replace(/>/g,"");return a=a.replace(/&/g,"")}
function Cc(a,b,d,e,f){function g(){b=!b;h();e(b)}function h(){qb(b?Dc:Ec,p);ta(k.a,d+(b?" (checked)":" (unchecked)"))}var k=new F(a,0,0,[0,1],1),l=new F(a,[0,1.2],0,1,1),p=pb("0%","0%","100%","100%",k.a);f&&Lb(a.a,f);Ga(k.a);ra(l.a,void 0,!0);l.a.j.innerText=d;E(k.a,g);l.a.onclick=g;h()}function Fc(a,b){var d=G.volume,e=m.Yf("input",0,0,"100%","100%",a.a);e.type="range";e.min="0";e.max="1000";e.value=""+Math.floor(1E3*d);e.onchange=function(){b(parseInt(e.value)/1E3)}};function Hc(a,b,d){var e=Math.min(Math.min(a,b),d),f=Math.max(Math.max(a,b),d);if(e==f)return 0;a=(a==f?(b-d)/(f-e):b==f?2+(d-a)/(f-e):4+(a-b)/(f-e))/6;0>a&&(a+=1);return a}
function Ic(a){var b=a[0]/255,d=a[1]/255,e=a[2]/255,f;b-=Math.floor(b);if(0==d)b=f=d=e;else{d=.5>e?e*(1+d):e+d-e*d;e=2*e-d;var g=b+1/3;1<g&&g--;f=b;var h=b-1/3;0>h&&h++;b=g<1/6?e+6*(d-e)*g:.5>g?d:g<2/3?e+(d-e)*(2/3-g)*6:e;f=f<1/6?e+6*(d-e)*f:.5>f?d:f<2/3?e+(d-e)*(2/3-f)*6:e;d=h<1/6?e+6*(d-e)*h:.5>h?d:h<2/3?e+(d-e)*(2/3-h)*6:e}return[Math.floor(255*b),Math.floor(255*f),Math.floor(255*d),a[3]]}
function Jc(a){var b=a[0]/255,d=a[1]/255,e=a[2]/255,f=Math.min(Math.min(b,d),e),g=Math.max(Math.max(b,d),e);f=0==g?0:(g-f)/g;return[Math.floor(255*(0==f?0:Hc(b,d,e))),Math.floor(255*f),Math.floor(255*g),a[3]]}
function Kc(a){var b=a[0]/255,d=a[1]/255,e=a[2]/255;if(0==d)var f=d=e;else{b-=Math.floor(b);b*=6;f=Math.floor(b);var g=b-Math.floor(b);b=e*(1-d);var h=e*(1-d*g);g=e*(1-d*(1-g));switch(f){case 0:f=e;d=g;e=b;break;case 1:f=h;d=e;e=b;break;case 2:f=b;d=e;e=g;break;case 3:f=b;d=h;break;case 4:f=g;d=b;break;default:f=e,d=b,e=h}}return[Math.floor(255*f),Math.floor(255*d),Math.floor(255*e),a[3]]}
function Oc(a){if("#"==a[0]){var b=255;a=a.substr(1);if(6==a.length){var d=parseInt(a.substr(0,2),16);var e=parseInt(a.substr(2,2),16);var f=parseInt(a.substr(4,2),16)}else if(3==a.length)d=17*parseInt(a.substr(0,1),16),e=17*parseInt(a.substr(1,1),16),f=17*parseInt(a.substr(2,1),16);else if(8==a.length)d=parseInt(a.substr(0,2),16),e=parseInt(a.substr(2,2),16),f=parseInt(a.substr(4,2),16),b=parseInt(a.substr(6,2),16);else if(4==a.length)d=17*parseInt(a.substr(0,1),16),e=17*parseInt(a.substr(1,1),16),
f=17*parseInt(a.substr(2,1),16),b=17*parseInt(a.substr(3,1),16);else return;return[d,e,f,b]}a=a.toLowerCase();if("black"==a)return[0,0,0,255];if("silver"==a)return[192,192,192,255];if("gray"==a||"grey"==a)return[128,128,128,255];if("white"==a)return[255,255,255,255];if("maroon"==a)return[128,0,0,255];if("red"==a)return[255,0,0,255];if("purple"==a)return[128,0,128,255];if("fuchsia"==a||"magenta"==a)return[255,0,255,255];if("green"==a)return[0,128,0,255];if("lime"==a)return[0,255,0,255];if("olive"==
a)return[128,128,0,255];if("yellow"==a)return[255,255,0,255];if("navy"==a)return[0,0,128,255];if("blue"==a)return[0,0,255,255];if("teal"==a)return[0,128,128,255];if("aqua"==a||"cyan"==a)return[0,255,255,255];if("orange"==a)return[255,165,0,255];if("transparent"==a)return[0,0,0,0]}
function Pc(a){var b=Math.floor(a[0]).toString(16),d=Math.floor(a[1]).toString(16),e=Math.floor(a[2]).toString(16);a=4<=a.length?Math.floor(a[3]).toString(16):"ff";1==b.length&&(b="0"+b);1==d.length&&(d="0"+d);1==e.length&&(e="0"+e);1==a.length&&(a="0"+a);b="#"+b+d+e;"ff"!=a&&(b+=a);return b}
var Qc=[["p","r","R","P"],["%","s","S","$"],["x","o","O","X"],["[","e","E","]"],["z","y","Y","Z"],["k","l","L","K"],["|","h","H","#"],["q","g","G","Q"],["u","t","T","U"],["(","c","C",")"],["&","a","A","@"],["d","b","B","D"],["j","i","I","J"],["w","v","V","W"],["n","m","M","N"],["{","f","F","}"]];
function Rc(a){var b="#f00 #f40 #f80 #fc0 #ff0 #8f0 #5f0 #0f0 #0f8 #0ff #08f #00f #40f #80f #f0f #f08".split(" "),d=["#400","#822","#a55","#faa"],e=["#000",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"#fff"],f=void 0,g=[],h=[],k=0,l=0,p=0,q=0;if(a)for(var n=a.split(" "),u=0;u<n.length;u++){var x=n[u],y=x.split(":");x=y[0];var r=y[1];if("l0"==x)d[0]=r;else if("l1"==x)d[1]=r;else if("l2"==x)d[2]=r;else if("l3"==x)d[3]=r;else if("hs0"==x)k=parseFloat(r);else if("hs1"==x)l=parseFloat(r);else if("ts0"==
x)p=parseFloat(r);else if("ts1"==x)q=parseFloat(r);else if("h"==x[0]&&"0"==x[1])for(y=0;y<Qc.length;y++){if(x[2]==Qc[y][1]){g[y]=Jc(Oc(r));break}}else if("h"==x[0]&&"1"==x[1])for(y=0;y<Qc.length;y++){if(x[2]==Qc[y][1]){h[y]=Jc(Oc(r));break}}else if("h"==x[0])for(y=0;y<Qc.length;y++){if(x[1]==Qc[y][1]){b[y]=r;break}}else"g0"==x?e[0]=r:"g1"==x?e[1]=r:"g2"==x?e[2]=r:"g3"==x?e[3]=r:"g4"==x?e[4]=r:"g5"==x?e[5]=r:"g6"==x?e[6]=r:"g7"==x?e[7]=r:"g8"==x?e[8]=r:"g9"==x?e[9]=r:"aa"==x&&(f=Jc(Oc(r)))}var v={};
for(u=0;9>=u;u++){for(y=u+1;9>y&&void 0==e[y];)y++;if(y==u+1)n=String.fromCharCode(48+u),v[n]=Oc(e[u]);else{var w=Oc(e[u]);r=Oc(e[y]);var H=y-u;for(x=0;x<H;x++){n=String.fromCharCode(48+u+x);var D=x/H,A=1-D;v[n]=[Math.floor(w[0]*A+r[0]*D),Math.floor(w[1]*A+r[1]*D),Math.floor(w[2]*A+r[2]*D),Math.floor(w[3]*A+r[3]*D)]}u=y-1}}for(u=0;u<Qc.length;u++)for(y=0;4>y;y++)if(n=Qc[u][y],g[u]&&h[u]){w=g[u];H=h[u];e=[];for(x=0;4>x;x++)r=y/3,e[x]=w[x]*(1-r)+H[x]*r;H=Kc([e[0],e[1],e[2]]);v[n]=H;v[n][3]=e[3]}else{e=
Oc(b[u]);w=Oc(d[y]);r=Jc(e);H=r[0];for(H+=((3-y)*k+y*l)/3*255;255<H;)H-=255;for(;0>H;)H+=255;D=w[0]/255;var I=w[1]/255;var X=w[2]/255;A=Math.min(Math.min(D,I),X);var z=Math.max(Math.max(D,I),X);A==z?A=I=0:(I=Hc(D,I,X),D=(z+A)/2,A=.5>D?(z-A)/(z+A):(z-A)/(2-z-A));D=[Math.floor(255*I),Math.floor(255*A),Math.floor(255*D),w[3]];H=Ic([H,D[1]*r[1]/255,D[2]*r[2]/255]);if(p||q)r=((3-y)*p+y*q)/3,0>r?(r=-r,H[0]=Math.floor(H[0]*(1-r)+0*r),H[2]=Math.floor(H[2]*(1-r)+255*r)):(H[0]=Math.floor(H[0]*(1-r)+255*r),
H[2]=Math.floor(H[2]*(1-r)+0*r));v[n]=H;v[n][3]=Math.min(w[3],e[3])}v["+"]=[255,0,0,255];v["-"]=[255,255,0,255];v["*"]=[0,255,0,255];v["/"]=[0,0,255,255];v[" "]=v["."]=[0,0,0,0];if(a)for(n=a.split(" "),u=0;u<n.length;u++)x=n[u],y=x.split(":"),x=y[0],r=y[1],1==x.length&&void 0!=v[x]&&" "!=x&&"."!=x&&(v[x]=Oc(r));if(f)for(x in v)v.hasOwnProperty(x)&&(a=Jc(v[x]),a[1]*=f[1]/255,a[2]*=f[2]/255,a[3]*=f[3]/255,v[x]=Kc(a));return v}var Sc=Rc();
function Tc(a){a=a.trim();var b=Sc;a=a.split("\n");if(":"==a[0][1]||":"==a[0][2]||":"==a[0][3]||":"==a[0][4])b=a[0],a.shift(),b=Rc(b);if(a.length){for(var d=a[0].length,e=a.length,f=[],g=0;g<e;g++){f[g]=[];for(var h=0;h<d;h++){var k=a[g][h];k&&"'"!=k||(k=" ");(k=b[k])||(k=[0,0,0,0]);f[g][h]=k}}return[f,d,e]}}
function Uc(a,b){var d=a[1],e=a[2];a=a[0];var f=b[1],g=b[2];b=b[0];for(var h=Math.max(d,f),k=Math.max(e,g),l=[],p=0;p<k;p++){l[p]=[];for(var q=0;q<h;q++){var n=p<e&&q<d?a[p][q]:[0,0,0,0],u=p<g&&q<f?b[p][q]:[0,0,0,0],x=u[3]/255;l[p][q]=[Math.floor(n[0]*(1-x)+u[0]*x),Math.floor(n[1]*(1-x)+u[1]*x),Math.floor(n[2]*(1-x)+u[2]*x),Math.floor(Math.max(n[3],u[3]))]}}b=[l,h,k];3<a.length&&(b=Vc(b));return b}
function Wc(a){a=a.trim();a=a.split("\n");var b="";a.length&1&&(b=a[0]+"\n",a.shift());for(var d=a[0].length,e=a.length,f=0;f<e;f++){for(var g=0;g<d;g++)b+=a[d-g-1][f];b+="\n"}return b};function Yc(a){for(var b,d,e=0,f=0;f<a.length;f++){e=Math.max(e,a[f].length);for(var g=0;g<a[f].length;g++)if(a[f][g]){b=a[f][g][1];d=a[f][g][2];break}}if(void 0!=b)return[b,d,b*e,d*a.length,e,a.length]}var Sb=[];function Zc(){}aa=Zc.prototype;aa.gk=function(a,b,d,e,f){f=f||document.body;var g=document.createElement("div");g.style.position="absolute";g.style.left=a;g.style.top=b;g.style.width=d;g.style.height=e;f.appendChild(g);return g};aa.Do=function(a){return a};
aa.Ao=function(a,b){b.innerHTML="";b.Nk=a[1];b.Mk=a[2];this.Bl(a,b)};aa.Bo=function(a,b){var d=Yc(a);if(void 0!=d){var e=d[0],f=d[1],g=d[2];d=d[3];b.innerHTML="";b.Nk=g;b.Mk=d;for(g=0;g<a.length;g++)for(d=0;d<a[g].length;d++){var h=a[g][d];if(h){h=h[0];for(var k=0;k<f;k++)for(var l=0;l<e;l++)0!=h[k][l][3]&&this.Mj(d*e+l,g*f+k,Pc(h[k][l]),b)}}}};aa.Bl=function(a,b){var d=a[0],e=a[1];a=a[2];for(var f=0;f<a;f++)for(var g=0;g<e;g++)this.Mj(g,f,Pc(d[f][g]),b)};
aa.Mj=function(a,b,d,e){var f=e.Nk,g=e.Mk,h=document.createElement("div",e);h.style.position="absolute";h.style.left=100*a/f+"%";h.style.top=100*b/g+"%";var k=.1;200<Oc(d)[3]&&(k=.6);h.style.width=100*(a+1)/f-100*a/f+k+"%";h.style.height=100*(b+1)/g-100*b/g+k+"%";h.style.backgroundColor=d;e.appendChild(h)};function $c(){}var ad=[0,498536548,997073096,651767980,1994146192,1802195444,1303535960,1342533948,3988292384,4027552580,3604390888,3412177804,2607071920,2262029012,2685067896,3183342108];
function bd(a){return[Math.floor(a/16777216),Math.floor(a/65536)&255,Math.floor(a/256)&255,a%256]}function cd(a,b){a=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)].concat(b);for(var d=4294967295,e=0;e<a.length;e++)d=ad[(d^a[e])&15]^d>>>4,d=ad[(d^a[e]>>>4)&15]^d>>>4;d^=4294967295;0>d&&(d+=4294967296);return bd(b.length).concat(a).concat(bd(d))}function ed(a,b){b.style.backgroundImage="url(data:image/png;base64,"+a[3]+")";b.style.backgroundSize="100% 100%"}aa=$c.prototype;
aa.gk=function(a,b,d,e,f){f=f||document.body;var g=document.createElement("div");g.style.position="absolute";g.style.left=a;g.style.top=b;g.style.width=d;g.style.height=e;g.className="pixelated";f.appendChild(g);return g};
aa.Do=function(a){var b=a[0],d=a[1],e=a[2],f=[];f=f.concat([137,80,78,71,13,10,26,10]);var g=[];g=g.concat(bd(d));g=g.concat(bd(e));g=g.concat([8,6,0,0,0]);f=f.concat(cd("IHDR",g));g=[];for(var h=0;h<e;h++){g.push(0);for(var k=0;k<d;k++)for(var l=0;4>l;l++)g.push(Math.min(Math.max(0,Math.floor(b[h][k][l])),255))}d=[];for(b=0;b<g.length;)e=g.length,e=Math.min(65535,e),h=65535-e,d=d.concat([b+e<g.length?0:1,e&255,e>>>8,h&255,h>>>8]),d=d.concat(0==b&&e==g.length?g:g.slice(b,b+e)),b+=e;b=[];b=b.concat([120,
1]);b=b.concat(d);d=1;e=0;h=g.length;for(k=0;0<h;){l=Math.min(5552,h);h-=l;for(var p=0;p<l;p++)d+=g[k++],e+=d;d%=65521;e%=65521}b=b.concat(bd(65536*e+d));f=f.concat(cd("IDAT",b));f=f.concat([0,0,0,0,73,69,78,68,174,66,96,130]);g="";for(b=0;b<f.length;b++)g+=String.fromCharCode(f[b]);return[a[0],a[1],a[2],btoa(g)]};aa.Ao=function(a,b){b.innerHTML="";b.Nk=a[1];b.Mk=a[2];ed(a,b)};
aa.Bo=function(a,b){var d=Yc(a);if(void 0!=d){var e=d[2],f=d[3],g=d[4];d=d[5];b.innerHTML="";b.Nk=e;b.Mk=f;for(e=0;e<a.length;e++)for(f=0;f<a[e].length;f++){var h=a[e][f];if(h){var k=100*f/g,l=100*e/d;k=this.gk(k+"%",l+"%",100*(f+1)/g-k+"%",100*(e+1)/d-l+"%",b);ed(h,k)}}}};aa.Bl=function(a,b){b=this.gk(0,0,"100%","100%",b);ed(a,b)};aa.Mj=function(a,b,d,e){(new Zc).Mj(a,b,d,e)};var fd=new $c;function pb(a,b,d,e,f){return fd.gk(a,b,d,e,f)}function Vc(a){return fd.Do(a)}
function J(a){return Vc(Tc(a))}function qb(a,b){fd.Ao(a,b)}function gd(a,b){fd.Bl(a,b)};var hd=[J("l0:#844 l1:#d66 hg:#2f0\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),J("hg:#0f4\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),
J("q:#a30 g:#f70\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),J("q:#8ae g:#acf G:#cef Q:#eef\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),
J("q:#ff8 g:#ffa G:#ffc Q:#ffe\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),J("q:#f88 g:#f44 G:#f22 Q:#f00\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n")],
id=[J("l0:#844 l1:#d66 hg:#2f0\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),J("hg:#0f4\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),
J("q:#a30 g:#f70\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),J("q:#8ae g:#acf G:#cef Q:#eef\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),
J("q:#ff8 g:#ffa G:#ffc Q:#ffe\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),J("q:#f88 g:#f44 G:#f22 Q:#f00\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n")],
jd=[J("l0:#844 l1:#d66 hg:#2f0\n....]...........\n...]g]]]........\n..]]q]qg]]......\n.]gqqqg]]g].....\n..]]]qgggqg]....\n.]gqqqqqqg].....\n]gqgggqgg]].....\n.]]]]gq]ggg]]...\n.]ggqqqqqqqgg]..\n]gqqgg]qgggqqg].\n.]gg]g]q]g]gg]..\n..]gggqqqqggg]..\n.]ggqq]]qgqqgg].\n]gqqgg]]qgggqqg]\n.]gg]]]]q]]ggg].\n..]]....]..]]]..\n"),J("hg:#0f4\n....]...........\n...]g]]]........\n..]]q]qg]]......\n.]gqqqg]]g].....\n..]]]qgggqg]....\n.]gqqqqqqg].....\n]gqgggqgg]].....\n.]]]]gq]ggg]]...\n.]ggqqqqqqqgg]..\n]gqqgg]qgggqqg].\n.]gg]g]q]g]gg]..\n..]gggqqqqggg]..\n.]ggqq]]qgqqgg].\n]gqqgg]]qgggqqg]\n.]gg]]]]q]]ggg].\n..]]....]..]]]..\n"),
J("q:#a30 g:#f70\n....]...........\n...]g]]]........\n..]]q]qg]]......\n.]gqqqg]]g].....\n..]]]qgggqg]....\n.]gqqqqqqg].....\n]gqgggqgg]].....\n.]]]]gq]ggg]]...\n.]ggqqqqqqqgg]..\n]gqqgg]qgggqqg].\n.]gg]g]q]g]gg]..\n..]gggqqqqggg]..\n.]ggqq]]qgqqgg].\n]gqqgg]]qgggqqg]\n.]gg]]]]q]]ggg].\n..]]....]..]]]..\n"),J("q:#8ae g:#acf G:#cef Q:#eef\n....]...........\n...]g]]]........\n..]]q]qg]]......\n.]gqqqg]]g].....\n..]]]qgggqg]....\n.]gqqqqqqg].....\n]gqgggqgg]].....\n.]]]]gq]ggg]]...\n.]ggqqqqqqqgg]..\n]gqqgg]qgggqqg].\n.]gg]g]q]g]gg]..\n..]gggqqqqggg]..\n.]ggqq]]qgqqgg].\n]gqqgg]]qgggqqg]\n.]gg]]]]q]]ggg].\n..]]....]..]]]..\n"),
J("q:#ff8 g:#ffa G:#ffc Q:#ffe\n....]...........\n...]g]]]........\n..]]q]qg]]......\n.]gqqqg]]g].....\n..]]]qgggqg]....\n.]gqqqqqqg].....\n]gqgggqgg]].....\n.]]]]gq]ggg]]...\n.]ggqqqqqqqgg]..\n]gqqgg]qgggqqg].\n.]gg]g]q]g]gg]..\n..]gggqqqqggg]..\n.]ggqq]]qgqqgg].\n]gqqgg]]qgggqqg]\n.]gg]]]]q]]ggg].\n..]]....]..]]]..\n"),J("q:#f88 g:#f44 G:#f22 Q:#f00\n....]...........\n...]g]]]........\n..]]q]qg]]......\n.]gqqqg]]g].....\n..]]]qgggqg]....\n.]gqqqqqqg].....\n]gqgggqgg]].....\n.]]]]gq]ggg]]...\n.]ggqqqqqqqgg]..\n]gqqgg]qgggqqg].\n.]gg]g]q]g]gg]..\n..]gggqqqqggg]..\n.]ggqq]]qgqqgg].\n]gqqgg]]qgggqqg]\n.]gg]]]]q]]ggg].\n..]]....]..]]]..\n")],
kd=[J("0:#000\n....00....00....\n...0TT0..0TT0...\n...0T0T00T0T0...\n...00TTPPTT00...\n.00PPUUTTUUPP00.\n.0RPPPPUUPPPPr0.\n.0RRRUUPPUUrrr0.\n.0RRRTRPPrrtrr0.\n.0RRRTRRrrrtrr0.\n.0RRRTRRrrrtrr0.\n.0RRRTRRrrrtrr0.\n.0RRRTRRrrrtrr0.\n.00RRTRRrrrtr00.\n...00TRRrrr00...\n.....00Rr00.....\n.......00.......\n"),J("0:#000\n....00....00....\n...0AA0..0AA0...\n...0A0A00A0A0...\n...00AAXXAA00...\n.00XX@@AA@@XX00.\n.0OXXXX@@XXXXo0.\n.0OOO@@XX@@ooo0.\n.0OOOAOXXooaoo0.\n.0OOOAOOoooaoo0.\n.0OOOAOOoooaoo0.\n.0OOOAOOoooaoo0.\n.0OOOAOOoooaoo0.\n.00OOAOOoooao00.\n...00AOOooo00...\n.....00Oo00.....\n.......00.......\n"),
J("0:#000\n....00....00....\n...0FF0..0FF0...\n...0F0F00F0F0...\n...00FFQQFF00...\n.00QQ}}FF}}QQ00.\n.0GQQQQ}}QQQQg0.\n.0GGG}}QQ}}ggg0.\n.0GGGFGQQggfgg0.\n.0GGGFGGgggfgg0.\n.0GGGFGGgggfgg0.\n.0GGGFGGgggfgg0.\n.0GGGFGGgggfgg0.\n.00GGFGGgggfg00.\n...00FGGggg00...\n.....00Gg00.....\n.......00.......\n"),J("0:#000\n....00....00....\n...0OO0..0OO0...\n...0O0O00O0O0...\n...00OO@@OO00...\n.00@@XXOOXX@@00.\n.0A@@@@XX@@@@a0.\n.0AAAXX@@XXaaa0.\n.0AAAOA@@aaoaa0.\n.0AAAOAAaaaoaa0.\n.0AAAOAAaaaoaa0.\n.0AAAOAAaaaoaa0.\n.0AAAOAAaaaoaa0.\n.00AAOAAaaaoa00.\n...00OAAaaa00...\n.....00Aa00.....\n.......00.......\n")],
ld=[J("\n................\n.......000......\n......09*90.....\n.....09*9**0....\n....09+***+*0...\n....0P*+*+*r0...\n...0P***+**gr0..\n...099******g0..\n...09*+**g+gg0..\n...0*+*+*+grg0..\n...0+**g+gggr0..\n....0g*gg*gg0...\n....0*g*gggg0...\n.....00ggg00....\n.......000......\n................\n"),J("\n................\n.......000......\n......09@90.....\n.....09@9@@0....\n....0PP@@@PP0...\n....0PPPPPPR0...\n...09@@PPP@A@0..\n...099@@@@@@A0..\n...09@@@@A@AA0..\n...0PP@@@@APR0..\n...0PPPRPRRRR0..\n....0APRRPRA0...\n....0@A@AAAA0...\n.....00AAA00....\n.......000......\n................\n"),
J("\n................\n.......000......\n......0PQ90.....\n.....09P9Q+0....\n....099Q++QQ0...\n....0P+9QQQQ0...\n...0PQQ+QQ++Q0..\n...0P9Q+Q+QQ+0..\n...09++QQ+QG+0..\n...0QQQQQQ++G0..\n...0QQ++QGGGG0..\n....0+QG+QGr0...\n....0+GQ+GrG0...\n.....00+GG00....\n.......000......\n................\n"),J("\n................\n.......000......\n......0---0.....\n.....0---YY0....\n....0--Y-YYY0...\n....0--YYYYY0...\n...09PY-YYYRP0..\n...099PPPPPPR0..\n...09PPPPRPRR0..\n...0PPPPPPRPR0..\n...0@PPRPRRRA0..\n....0A@AA@AA0...\n....0@APAAAA0...\n.....00AAA00....\n.......000......\n................\n")],
nd=J("\n...0000...0000..\n..099900.009990.\n.09N0N90.09N0N90\n.0N0.0N0.0N0.0N0\n.00...09090...00\n.....0099900....\n.....0909090....\n...33099N990....\n..3TQ0090900....\n.33QT300000.....\n3++3Q309990.....\n3ZZ330909090....\n3++300009000....\n.3000999999000..\n.09999000099990.\n.000000..000000.\n"),od=J("0:#dbecc8 1:#c5e591 2:#bda 3:#ba5 4:#d3be9c 5:#cea78b 6:#fff 7:#eef\n0000100022222222\n0000000023322222\n0001100022222222\n0000011022222332\n0000000022332222\n1000000022222232\n0001100022222222\n0000001023222222\n4544444466666666\n4444554466676666\n4445444466666776\n4444444467766666\n4455444466666676\n4444444466666666\n4444544467766666\n4444444466666666\n"),
pd=[J("+:#dbecc8 -:#c5e591\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#dbecc8 -:#c5e591\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#dbecc8 -:#c5e591\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#dbecc8 -:#c5e591\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#dbecc8 -:#c5e591\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],qd=[J("+:#bda -:#ba5\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#bda -:#ba5\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#bda -:#ba5\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#bda -:#ba5\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#bda -:#ba5\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],
rd=[J("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],sd=[J("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],
td=[J("+:#9df -:#aaa\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#9df -:#aaa\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#9df -:#aaa\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#9df -:#aaa\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#9df -:#aaa\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],ud=[J("+:#c42 -:#f63\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#c42 -:#f63\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#c42 -:#f63\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#c42 -:#f63\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#c42 -:#f63\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],
vd=[J("+:#efd -:#ddf\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#efd -:#ddf\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#efd -:#ddf\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),J("+:#efd -:#ddf\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
J("+:#efd -:#ddf\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],wd=[pd,qd,rd,sd,td,ud,vd],xd=[J("\naaaaaaaaaaaaaaaa\naaaaaaaaaaaaaaaa\naaaaaaaaaaaAaaaa\naaaAAaaaaaAaAaAA\naaAaaAAAaaaaaAaa\naaaaaaaaaaaaaaaa\naaaaaaaaaaaaaaaa\naaaaaaaaaaaaAaaa\naaaaaAaaaaaaaAAa\naaaaAaAaaAaaaaaa\naaaaaaaAAaaaaaaa\naaaaaaaaaaaaaaaa\naaAAaaaaaaaAAaaa\naAaaAaAaaaAaaAAa\naaaaaAaaaAaaaaaa\naaaaaaaaaaaaaaaa\n"),
J("\naaaaaaaaaaaaaaaa\naaaaAAaAaaaaaaaa\naaaAaaAaaaAaaaaa\naaaaaaaaaAaAaaAa\naaaaaaaaaaaaAAaa\naaAAaaaaaaaaaaaa\naAaaAaAAaaaaaaaa\naaaaaAaaaaaaAaaA\naaaaaaaaaaaAaAAa\naaaaaaaaaaaaaaaa\naaaaaaAAaaaaaaaa\naaaAaAaaAaaaaaaa\naaaaAaaaaaaAaaaa\naaaaaaaaaAAaAaAa\naAAaAaaaaaaaaAaa\nAaaAaaaaaaaaaaaa\n"),J("\naaaaaaaaaaaaaaaa\naaaaaaaaaaaAAaaa\naaaaaAaaaaaaaAaA\naaAaAaAaaaaaaaAa\naAaAaaaaaaaaaaaa\naaaaaaaaaaaaaaaa\naaaaaaaaaaAaaaaa\naaaaaaaaaAaAaAaa\naaAAaAaaaaaaAaaa\naaaaAaAaaaaaaaaa\naaaaaaaaaaaaaaaa\naaaaaaaaaAaaAaaa\naaaaaaaaAaAAaAaa\naAAaAaaaaaaaaaaa\naaaAaaaaaaaaaaaa\naaaaaaaaaaaaaaaa\n"),
J("\naaaaaaaaaaaaaaaa\naaaaaaaaaaAAAaAa\naaaaaaaaaaaaaAaa\naaaAAaaaaaaaaaaa\naaAaaAaAaaaaaaaa\naaaaaaAaaaaaAaAa\naaaaaaaaaaaAaAaa\naaaaaaaaaaaaaaaa\naaaaaaaAaAaaaaaa\naaaaaaAaAaaaaaaa\naaaaaaaaaaaaaaaa\naAAaAaaaaaaaaaaa\nAaaAaaaaaaAAaaaa\naaaaaaaaaAaaAaaa\naaaaaaaaaaaaaAAa\naaaaaaaaaaaaaaaa\n"),J("\naaaaaaaaAAaaAaaa\naaaaaaaaaaAAaaaa\naaAaaaaaaaaaaaaa\naAaAaAaaaaaAaAaa\naaaaAaaaaaaaAaAa\naaaaaaaaaaaaaaaa\naaaaaaAaAaaaaaaa\naaaaaAaAaAaaaaaa\naaaaaaAaAaaaaaaa\naAAaaaaaaaaAAaAa\naaaAAaaaaaAaaAaa\naaaaaaaaaaaaaaaa\naaaaaaaaaaaAaaaa\naAAaaaaaaaAaAaAa\naaaAaAAaaaaaaAaa\naaaaAaaaaaaaaaaa\n")];
J("\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n");J("\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n");
var yd=J("\n................\n.....000000.....\n...00------00...\n..0----------0..\n..0----00----0..\n.0-----00-----0.\n.0-----00-----0.\n.0-----00-----0.\n.0-----00-----0.\n.0------------0.\n.0-----00-----0.\n..0----00----0..\n..0----------0..\n...00------00...\n.....000000.....\n................\n"),zd=J("\n................\n..........404...\n.........4-0-4..\n........4--0--4.\n........4-----4.\n........4--0--4.\n.........4---4..\n..........444...\n................\n................\n................\n................\n................\n................\n................\n................\n"),
Ad=J("\n................\n................\n................\n........00000...\n.......0-----0..\n..0...0---0---0.\n.0....0---0---0.\n00000.0---0---0.\n.0....0-------0.\n..0...0---0---0.\n.......0-----0..\n........00000...\n................\n................\n................\n................\n"),Bd=J("\naa:#f00a\n...........0....\n..........090...\n.........09990..\n........0999990.\n.......000090000\n..........090...\n..........090...\n..........090...\n..........000...\n................\n................\n................\n................\n................\n................\n................\n"),
Cd=J("\n............0...\n...........0Z0..\n..........0ZZZ0.\n.........000Z000\n...........0Z0..\n...........0Z0..\n...........000..\n................\n................\n................\n................\n................\n................\n................\n................\n................\n"),Dd=J("\n................\n................\n................\n................\n........X.......\n.......XOO......\n.......XOO......\n......XOOOo.....\n.......OOo......\n.......OOo......\n........o.......\n................\n................\n................\n................\n................\n");
J("\n................\n................\n................\n................\n................\n................\n................\n................\n...OOoo...OOoo..\n..Ooooxx.Ooooxx.\n...oxxx...oxxx..\n................\n......OOoo......\n.....Ooooxx.....\n......oxxx......\n................\n");J("\n................\n................\n................\n................\n................\n................\n.......22.......\n......2110......\n......2100......\n.......00.......\n................\n................\n................\n................\n................\n................\n");
J("\n................\n................\n................\n................\n...22...........\n..2110....22....\n..2100...2110...\n...00....2100...\n..........00....\n......22........\n.....2110.......\n.....2100.......\n......00........\n................\n................\n................\n");
var Ed=J("\n................\n................\n................\n........x.......\n.......xx.......\n......xxoo......\n......xooo......\n.....xxoooO.....\n.....xooOOO.....\n.....ooOOPO.....\n.....oOOPXO.....\n.....oOPX]O.....\n......oOOO......\n................\n................\n................\n"),Fd=J("\n................\n................\n....o....OO.....\n...o....XOXO....\n..oox...OXOo....\n.oooxx...ooOOX..\n.]eee[.....XOXO.\n.]eee[.....OXOo.\n.eeee[......oo..\n..ee[...........\n...[......O.....\n.........OOo....\n........sss%%...\n........sss%%...\n.........sx%....\n................\n"),
Gd=J("\n................\n................\n......aaaa......\n....aa@@@@a.....\n...a@@@@@@@aaa..\n...a@@@@@@@@@@a.\n.aa@@@@@@@@@@@a.\na@@@@@@@@@@@@@@a\na@@@@@@@@@@@@@@a\n.a@@@aaa@a@@@@a.\n..aa........aa..\n.....a.aaaa.....\n................\n....aaaaa.aa....\n................\n................\n"),Hd=J("\n+:#ff08\n................\n................\n......+---+.....\n.....-ZZZZZ-....\n....-ZZZZZZZ-...\n...+ZZZZZZZZZ+..\n...-ZZZZZZZZZ-..\n...-ZZZZZZZZZ-..\n...-ZZZZZZZZZ-..\n...+ZZZZZZZZZ+..\n....-ZZZZZZZ-...\n.....-ZZZZZ-....\n......+---+.....\n................\n................\n................\n"),
Id=J("\n................\n...............+\n..............+-\n.......0......+-\n......0.0....+-*\n......0.0...+-**\ny....0...0..+-*/\n.y..0.....0+-*/I\n..y0+++++++-*/IM\n...y********/IMM\n..0MMMMMMMMMMM..\n..0.........0...\n.0000000000000..\n................\n................\n................\n"),Jd=J("\n......aaaa......\n....aa@@@@a.....\n...a@@@@@@@aaa..\n...a@@@@@@@@@@a.\n.aa@@@@@@@@@@@a.\na@@@@@@@@@@@@@@a\na@@@@@@@@@@@@@@a\n.a@@aaay-yaa@@a.\n..aa..y-y...aa..\n.....y-yyy......\n....y-----y.....\n....yyyy-y......\n....y-y-y.......\n....y--y........\n....y---y.......\n....yyyyy.......\n"),
Kd=J("\n.......0000000..\n.......09----0..\n......09----0...\n......09---0....\n.....09---0.....\n.....09--0000...\n....09----Y0....\n....000--Y0.....\n......0-Y0......\n.....0-Y0.......\n.....0Y0........\n....0Y0.........\n....00..........\n...00...........\n...0............\n................\n"),Ld=[J(" hm:#999\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
J(" hm:#c70\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
J(" hm:#cfa\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),J(" hm:#fe0\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),J(" hm:#00f\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
J(" hm:#0f0\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),J(" hm:#f00\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n")],Nd=[J(" hm:#999\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
J(" hm:#c70\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
J(" hm:#cfa\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),J(" hm:#fe0\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),J(" hm:#00f\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
J(" hm:#0f0\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),J(" hm:#f00\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n")],Od=[J(" hm:#999\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
J(" hm:#c70\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),J(" N:#eee M:#bbb m:#888 n:#555\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
J(" hm:#cfa\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),J(" hm:#fe0\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),J(" hm:#00f\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
J(" hm:#0f0\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),J(" hm:#f00\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n")],Pd=[J(" hm:#999\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
J(" hm:#c70\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
J(" hm:#cfa\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),J(" hm:#fe0\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),J(" hm:#00f\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
J(" hm:#0f0\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),J(" hm:#f00\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n")],Qd=[J(" hm:#999\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
J(" hm:#c70\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
J(" hm:#cfa\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),J(" hm:#fe0\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),J(" hm:#00f\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
J(" hm:#0f0\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),J(" hm:#f00\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n")],Rd=[J(" hm:#999\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),
J(" hm:#c70\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),
J(" hm:#cfa\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),J(" hm:#fe0\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),J(" hm:#00f\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),
J(" hm:#0f0\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),J(" hm:#f00\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n.........0......\n.....NNM0.0.....\n....NMMmmm.0....\n...NMMmmmm.hh...\n...NMMmmmnHhh...\n..NMMmmmmnHhh...\n..NMMmmmnnHh|...\n..NMmmmmnnHh|...\n..NMmmmnnn.|....\n..NMmmmnn.......\n..NMmmnn........\n..NMmmn.........\n...Mmnn.........\n....Mn..........\n................\n")],Sd=[J(" hm:#999\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),
J(" hm:#c70\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),
J(" hm:#cfa\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),J(" hm:#fe0\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),J(" hm:#00f\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),
J(" hm:#0f0\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),J(" hm:#f00\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n................\n.....NM.M.......\n....NMMmNM......\n...NMMMmNMm.....\n...NMMMmMmm.....\n...NMMMMmmn.....\n...NMMMmmnn.....\n....MMmmnn......\n.....mmnn.......\n................\n................\n")],Td=[J(" hm:#999\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),
J(" hm:#c70\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),
J(" hm:#cfa\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),J(" hm:#fe0\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),J(" hm:#00f\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),
J(" hm:#0f0\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),J(" hm:#f00\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n.....YY.........\n.....Yyy........\n......yy.00.....\n........0..0....\n......mMm.......\n.....MMmmn......\n.....MMMnn......\n.....Mnnmnn.....\n....NMmMnnn.....\n...NMmMmmnnn....\n...MMMmMmmmnn...\n...MMmNmmnnmn...\n...MmNmMmmnn....\n......Nmmn......\n................\n")],Ud=[J(" hm:#999\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),
J(" hm:#c70\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),
J(" hm:#cfa\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),J(" hm:#fe0\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),J(" hm:#00f\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),
J(" hm:#0f0\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),J(" hm:#f00\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n........|.......\n.......|........\n.......|........\n.....MMMm.......\n....MMNMmm......\n....NMMmmm......\n...MMMmmMmn.....\n...NMNmmmnn.....\n...MMMmMmnm.....\n...MNMmmmnn.....\n...MMMmMnmn.....\n....MNmmnn......\n....MMMmmn......\n.....mmmn.......\n................\n")],Vd=[J(" hm:#999\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),
J(" hm:#c70\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),J(" N:#eee M:#bbb m:#888 n:#555\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),
J(" hm:#cfa\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),J(" hm:#fe0\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),J(" hm:#00f\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),
J(" hm:#0f0\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),J(" hm:#f00\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n.....nn00.......\n....nNNNN0000...\n...nNNm0000mmn..\n...nmmmmmM00mn..\n...nmmmmMN0m0...\n..nmmmmMNN0mn...\n..nmmmMNNNnmn...\n..nmmMNNNnmmn...\n..nmMNNNNnmn....\n....mNNNnmn.....\n.....mmm........\n................\n................\n")],Wd=[J(" hm:#999\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),
J(" hm:#c70\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),J(" N:#eee M:#bbb m:#888 n:#555\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),
J(" hm:#cfa\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),J(" hm:#fe0\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),J(" N:#fee M:#ecc m:#dbb n:#caa\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),
J(" N:#c8f M:#b7e m:#86d n:#75b\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),J(" hm:#00f\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),
J(" hm:#0f0\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),J(" hm:#f00\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n"),
J(" N:#fff M:#eee m:#ddd n:#ccc\n.......M........\n......NM........\n......NM........\n......NM...M....\n......NN...M....\n.....MMMm..M....\n.N..MMMmmmMM....\n.N..MMmMmmm.....\n.NNMMMNmmmm.M...\n..NNMMNmmmn.M...\n...NMNNMmmmnM...\n.N.MMNNMmnnn....\n.N.MMMNmmmnn.M..\n.NNMMMmmnmnnM...\n..NNMMMmmnnM....\n.....Mmnnn......\n")],Xd=[Ld,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd],Yd=[J("\n................\n................\n................\n................\n................\n................\n.......444......\n.....444342.....\n....44332221....\n...4442322121...\n..443232122111..\n.4342222111212..\n................\n................\n................\n................\n"),
J("\n................\n................\n................\n................\n.......444......\n......444222....\n.....44333222...\n....434332221...\n...44433333221..\n..4433333322211.\n.43433342333221.\n.443.3431233221.\n......43........\n................\n................\n................\n"),J("\n................\n................\n................\n................\n.........422....\n.........4442...\n........444222..\n.......4443322..\n..4422.44332322.\n..4322243333222.\n.44332233332332.\n.44332223.......\n.4332332........\n................\n................\n................\n"),
J("\n................\n................\n................\n................\n......443.......\n......4332......\n.....443221.....\n...44433221.....\n..4443432211....\n..4443322211....\n.44433332221....\n.444433222111...\n.443332332111...\n..43333311......\n................\n................\n")],Zd=J("\n.......77.......\n...7..7553..7...\n..757.7553.753..\n.75557555575553.\n..755555555553..\n...7555335553...\n.775553..355533.\n755553....755553\n755553....755553\n.335553..755533.\n...7555775553...\n..755555555553..\n.75553555535553.\n..353.3553.353..\n...3..3553..3...\n.......33.......\n"),
$d=J("#:#4b4\n................\n................\n................\n................\n................\n................\n................\n..###########...\n...#hhhhhhh#....\n....#hhhhh#.....\n.....#hhh#......\n......#h#.......\n.......#........\n................\n................\n................\n"),ae=J("\n................\n................\n................\n................\n................\n................\n................\n..55555555555...\n...533333335....\n....5333335.....\n.....53335......\n......535.......\n.......5........\n................\n................\n................\n"),
ce=J("#:#4b4\n.......5........\n......555.......\n.....55.55......\n......555.......\n.......5........\n................\n................\n..###########...\n...#hhhhhhh#....\n....#hhhhh#.....\n.....#hhh#......\n......#h#.......\n.......#........\n................\n................\n................\n"),de=J("\n.......5........\n......555.......\n.....55.55......\n......555.......\n.......5........\n................\n................\n..55555555555...\n...533333335....\n....5333335.....\n.....53335......\n......535.......\n.......5........\n................\n................\n................\n"),
ee=J("\n................\n................\n................\n................\n.....0....0.....\n....00....00....\n...0900000090...\n..099999999990..\n...0900000090...\n....00....00....\n.....0....0.....\n................\n................\n................\n................\n................\n"),fe=J("\n................\n................\n................\n..7777..7777....\n..7553..7553....\n..7553..7553....\n..7553..7553....\n..7553..7553....\n..7553..7553....\n..7553..7553....\n..7553..7553....\n..7553..7553....\n..7333..7333....\n................\n................\n................\n"),
ge=J("\n................\n................\n................\n..PPPP..PPPP....\n..Prrp..Prrp....\n..Prrp..Prrp....\n..Prrp..Prrp....\n..Prrp..Prrp....\n..Prrp..Prrp....\n..Prrp..Prrp....\n..Prrp..Prrp....\n..Prrp..Prrp....\n..Pppp..Pppp....\n................\n................\n................\n"),rb=J("\n666......666\n6336....6330\n63336..63330\n.6333663330.\n..63333330..\n...633330...\n...633330...\n..63333330..\n.6333003330.\n63330..03330\n6330....0330\n600......000\n"),sb=J("\n....9999....\n...955550...\n..95000050..\n..950..950..\n..900..950..\n......9500..\n.....9500...\n.....950....\n.....900....\n............\n.....990....\n.....900....\n"),
he=J("\n................\n................\n....&&&&&&&.....\n...&.......&....\n..&.........&...\n..&989898989&...\n...&9898989&....\n....&&898&&.....\n......&8&.......\n....&&.9.&&.....\n...&...8...&....\n..&...898...&...\n..&..89898..&...\n...&8989898&....\n....&&&&&&&.....\n................\n"),ie=J("\n+:#f80 *:#e70 -:#d60\n..........++*--.\n..........+999-.\n..........+989-.\n...........+9-..\n............*...\n...........+9-..\n..........+989-.\n..........+898-.\n..........++*--.\n................\n................\n................\n................\n................\n................\n................\n"),
je=J("\n................\n................\n......000.......\n....0099900.....\n...099000990....\n..09000900090...\n..09000000090...\n.0900099000090..\n.0900009000090..\n.0900009000090..\n..09009990090...\n..09000000090...\n...099000990....\n....0099900.....\n......000.......\n................\n"),ke=J("\n................\n.0........RRRR..\n.0..........RR..\n.0.........R.R..\n.0....R...R..R..\n.0...R.R.R......\n.0..R...R...00..\n.0.R........00..\n.0....00....00..\n.0....00.00.00..\n.0.00.00.00.00..\n.0.00.00.00.00..\n.0.00.00.00.00..\n.0.00.00.00.00..\n.00000000000000.\n................\n"),
Dc=J("\n000000000\n088888880\n089999090\n089990090\n080900990\n080009990\n089099990\n089999990\n000000000\n"),Ec=J("\n000000000\n088888880\n089999990\n089999990\n089999990\n089999990\n089999990\n089999990\n000000000\n"),le=J("\n....aaaaa.......\n...aAAAAAaa.....\n..aA@@@@@AAa....\n..A@.....@@AXO..\n.aA@..o....XOoo.\naA@oooaaa.XOoooo\naAoo0oAAAXOooooo\naAoooo@@@XOooooo\naA@.Xoo..XOo@oo.\naA@ooooo.XOoAa..\naA@.XXooOOooA@..\naA@..XXooooAa@A.\n.aA@ooooaaaa.@Aa\n..aAA@@@@@@@@Aa.\n...aaAAAAAAAAa..\n.....aaaaaaaa...\n"),
me=J("\n................\n................\n................\n................\n................\n....22...22.....\n...2111.2111....\n..21..111..10...\n..21...1...10...\n..21..111..10...\n...1110.1110....\n....00...00.....\n................\n................\n................\n................\n"),ne=J("\n................\n................\n......ooooo.....\n.....oXX9XXo....\n.....oXXXXXXo...\n...ooXXoXXhXXo..\n..oXXXo.oXXXXo..\n.oXXXXXoXXX-Xo..\n.oXXaXXXXXXXXXo.\n..oXXXXXXXX$XXo.\n...oXXmXXXXXXo..\n....oXXXX+XXXo..\n.....oooXXXXo...\n........oooo....\n................\n................\n"),
oe=J("\n..PPPPP..PPPPP..\n..PRRRRr.PRrrr..\n..PR..rr.PR.....\n..PRRRr..PRRr...\n..PRRRr..PRrr...\n..PR..Rr.PR.....\n..PRRRrr.PRRRr..\n..rrrrr..rrrrr..\n................\n..PPPPPP.PPPPP..\n..PRRrrr.PRRRr..\n....Rr...PR.Rr..\n....Rr...PRRRr..\n....Rr...PRRRr..\n....Rr...Pr.Rr..\n....rr...rr.rr..\n");function qe(a,b,d,e,f){a=J(a);b=J(b);d=J(d);var g=J(e);e=Vc(Uc(Tc(e),Tc(f)));return[a,b,d,g,e]}function se(a,b,d,e,f){a=J(a);b=J(b);d=J(d);e=J(e);f=J(f);return[a,b,d,e,f]}function te(a,b,d,e,f){a=J(a);b=J(b);var g=J(d);e=Vc(Uc(Tc(d),Tc(e)));d=Vc(Uc(Tc(d),Tc(f)));return[a,b,g,e,d]}
var ue=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n",
"\n................\n................\n................\n........ox......\n........ox......\n........ox......\n........ox......\n.......oxx......\n......oxx.......\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n","\n...........qq...\n..........qgg...\n.....oxxx.gg....\n....oxxoxx......\n...oxx..ox......\n...ox...ox......\n........ox......\n.......oxx......\n......oxx.......\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n..PP............\n.PRRR...........\n.PRRr...........\n..Rr............\n................\n................\n................\n................\n................\n................\n"),ve=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.............||.\n............|tt.\n........||t.tt..\n........|tut....\n...........u....\n...........u....\n...........u....\n............u...\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....tt..tt.....\n.....t|.tt|.....\n.....t|.t|......\n......uu........\n...ttt..u.......\n...t||...u......\n..........u.....\n..........u.....\n...........u....\n...........u....\n...........u....\n............u...\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.|||||..........\n.tt||||..|||....\n..tttt|.||||||..\n......uttttttt..\n....||..utttt...\n....||t..u......\n...||tt...u.....\n...||tt...u.....\n...|tt.....u....\n....tt.....u....\n...........u....\n............u...\n................\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n...0i...........\n...i0....i0.....\n......0i.0i.....\n......i0....i0..\n............0i..\n.....i0.........\n.....0i.i0......\n..i0....0i......\n..0i............\n................\n................\n................\n"),
we=qe("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....HH.H.......\n......h.Hh......\n.......x........\n.......x........\n.......x........\n.......x........\n.......x........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n....H...........\n...HHH.....HH...\n....Hh....HHh...\n.....h...xHh....\n.....x...x......\n.....x...x......\n......x..x......\n......x.x.......\n......x.x.......\n.......x........\n.......x........\n.......x........\n.......x........\n.......x........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..HH............\n..HHHh.HH.......\n...hhhHHhx......\n.....xHh.xHHH...\n.....xhh.HHHhh..\n....HHx..xhhh...\n...HHhx.x.......\n..HHhhx.x.......\n...hh..xHHH.....\n.......xhhhh....\n.......x.hh.....\n.......x........\n.......x........\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n......AA........\n......Aa..Aa....\n..........AA....\n................\n.AA.............\n.aA.............\n................\n.........Aa..AA.\n.........AA..aA.\n.....AA.........\n.AA..aA.........\n.Aa.........aA..\n............AA..\n................\n................\n"),xe=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.........G......\n........oo......\n.....G..o.G.....\n......o.oo......\n......oOo.......\n.......Oo.......\n.......Oo.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n........o..to...\n.......to...o...\n........ot.oo...\n....o...o..o....\n...t.o..o.oot...\n.....o..o.o.....\n.....o..o.o.....\n......o.oo.t....\n.....to.o.......\n......o.oot.....\n......oOo.......\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......tu..tt.tu.\n......uuo.uuotuu\n.tt..tt.o..uo...\n.tuu.tu.o..oott.\n....ouu.o..o.tuu\n...tto..o.oo....\n..ttuo.ttuottt..\n..uu.ottuuotuu..\n....tto.oo...u..\n......ottu......\n...ttuouuott....\n...uuuoOo.tuu...\n.......Oo.......\n.......Oo.......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88 hf:#802\n.........}F.....\n.}F.}F...Ff.....\n.Ff.Ff.....}F...\n...}F......Ff...\n...Ff.}F........\n......Ff}F......\n........Ff..}F..\n............Ff..\n..............}F\n.........}F.}FFf\n.}F......Ff.Ff..\n.Ff.......}F....\n....}F....Ff....\n..}FFf..........\n..Ff............\n................\n"),
ye=qe("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......Oo.......\n.......Oo.......\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n..........OOO...\n..hOO....O..hh..\n..h..O..O.......\n......OoO.......\n..OOOOOOoOOOO...\n.Oh....Oo....O..\n.h.....Oo....h..\n.......Oo.....h.\n.......Oo.......\n.......Oo.......\n.......Oo.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....L.......L...\n...LLh......Lh..\n...hhh....OOhhh.\n...OO....Lhh....\n.....OO.OLh.....\n.....LLhOh......\n..OOOLLhOOOOOO..\n.OO..OhOO....O..\n.LLh..OOLLh.LLh.\n.LLh...OLLh.LLh.\n..h....Ooh...h..\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........+.+..\n...........r+r..\n.....r.r...+R+..\n.....+R+...r+r..\n.....r+r....r...\n..+.+.r+..+.+...\n..r+rr+r..r+r...\n..+r+.r....R+...\n..R+......r+....\n..+r+.....+R+...\n...+.......+....\n................\n................\n"),ze=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.........u......\n......g.u.......\n.......gu.......\n.......ou.......\n.......ox.......\n.......ox.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.........u......\n......g.u.u.....\n.....g.gx.u.....\n.....g.ox.u.....\n....g..ox.u.....\n.....g.ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n....hh....hhh...\n...huu...huu....\n......uuuu......\n.....uuhuuu..hh.\n....u.huu..u.hu.\n..hu..huuu..uhu.\n.huu..uoxu..u...\n.huu..uox.u.u...\n...u..uox.u..uh.\n..|..u.hh.uh.uhu\nhhu..u.hu.hu.uhu\nhuu..u.hu.hu.u..\n..u..u.ox....u..\n.....u.ox.......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........Pr...\n.....Pr....Rr...\n.....Rr....rp...\n.....rp.........\n................\nPr.........Pr...\nRr.........Rr...\nrp.Pr......rp...\n...Rr...Pr......\n...rp...Rr......\n........rp......\n................\n................\n"),
Ae=qe("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.......o........\n.......o........\n.....g.o........\n......o.........\n......o.........\n......o.........\n.....o..........\n.....o..........\n.....o..........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.........o......\n........o.......\n......g.o.......\n.....gg.o.......\n.......o........\n.......o........\n.......o........\n......o.gg......\n....g.o.g.......\n...gg.o.........\n.....o..........\n.....o..........\n.....o..........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.........o......\n......g.o.gg....\n.....gg.o.g.....\n....ggg.o.......\n.......o.gg.....\n.....g.o.g......\n....gg.o........\n....g.o.ggg.....\n...gg.o.gg......\n..ggg.o.g.......\n.....o..........\n.....o..........\n.....o..........\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n.........LKL....\n.........LKL....\n.........LKL....\n....LKL.........\n....LKL.LKL.....\n....LKL.LKL.....\n........LKL.....\n...LKL..........\n...LKL..........\n...LKL.LKL......\n.......LKL......\n.......LKL......\n................\n................\n"),Be=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n....oo.oxoo.....\n......oox.......\n.......ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n...........ooo..\n.....oooxoo.....\n..ooo..ox.......\n.......ox.......\n.......ox.......\n....oo.oxoo.....\n..oo..oox..ooo..\n.......ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n..........g.....\n....g....gg.....\n...gg...ggg.....\n..ggg......ooo..\n.....oooxoo...gg\n..ooo..ox..g..g.\ngg...ggox..gg...\n.g...g.ox..ggg..\n....oo.oxoo.....\n..oo..oox..ooo..\ngg.ggg.oxgg...gg\n.g..gg.ox.g...g.\n.....g.ox.......\n.......ox.......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n.........FfFfFf.\n.FfFfFf..f{f{f{.\n.f{f{f{...FfFf..\n..FfFf....f{f{..\n..f{f{.....Ff...\n...Ff......f{...\n...f{...........\n................\n................\n................\n"),
Ce=qe("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......f........\n.......f........\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......f..f.....\n....f..f..f.....\n....f..f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..hh...f..hhh...\n..hhh..hh.fhh...\n....f..hhhf.....\n.....f.f..f.....\n.....f.f..hhh...\n..hhhf.hhhfhh...\n..hh.f.fhhf.....\n.....f.f.f......\n...hhh.f.f......\n...hhf.fhhh.....\n.....f.f.hh.....\n.....f.f.f......\n.....f.f.f......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........@A...\n...........Aa...\n...@A......Aa...\n...Aa...........\n...Aa...@A......\n........Aa......\n........Aa.@A...\n...........Aa...\n.....@A....Aa...\n.....Aa.........\n.....Aa.........\n................\n................\n"),De=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n......|.|.......\n.......||||.....\n........|.......\n........|.......\n........|.......\n........|.......\n........|.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n......h....h....\n......e.h..e....\n.......e..e.....\n...e..he.e......\n....ee..e..eeh..\n....h.eeeee.....\n........e.......\n........e.......\n........e.......\n........e.......\n........e.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....h.h..h...h..\n.....hhhh.h.h...\n......o....o....\n.h..h.o.hh.ohh..\n..h.h.ho..o....h\n..oo..ho.o.hh.h.\n..h.oo..o..ooo..\n.h..h.ooooo.h.h.\n....h...oh.h.hh.\n......hho.h.h...\n........o.......\n........o.......\n........o.......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n..DB............\n..Bb..DB....DB..\n......Bb....Bb..\n.........DB.....\n..DB.....Bb.DB..\n..Bb..DB....Bb..\n......Bb...DB...\n...DB......Bb...\n...Bb.DB.DB...DB\n......Bb.Bb...Bb\n................\n......DB........\n......Bb........\n................\n................\n"),
Ee=qe("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......T....T...\n..T..UTT...TT...\n..T...UT....T...\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\nUTT....T....T...\n.TTUT..TTt..TUt.\n..Tt...Tt.UTTt..\n..T..UTT...TT...\n..T...UT....T...\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\nU...T...........\nUT.TtU...TU...T.\n.UTt.UT.TtUT.Tt.\n..T...TTt..TTt..\nUTT....T....T...\n.TTUT..TTT..TUT.\n..TT...TT.UTTT..\n..T..UTT...TT...\n..T...UT....T...\n................\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n................\n................\n................\n..P+..P+...P+...\nP+++..++P+.++P+.\n++.P+...++P+.++.\n...++.....++....\n................\n................\n................\n"),Fe=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n......L..L......\n......O..o......\n.......O.o......\n.......OOo......\n.......Oo.......\n.......OO.......\n.......Oo.......\n.......Oo.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n......oL........\n.....Lo.........\n.......o........\n....LO..o.oo....\n......O.oo..L...\n.....L.OO.......\n.......Oo.......\n.......OO.......\n.......Oo.......\n.......OO.......\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n...LL..LLL......\n...LLGoLLLG.....\n...GG.o.LGG.....\n......o.........\n..OOO..o...oo...\n..L..O..o.o.LL..\n.LL...O.ooL.LLG.\n.LG.LL.OoLLG.LG.\n.LG.LG.OoLGG.GG.\n....LG.OO.......\n....G..Oo.......\n.......OO.......\n.......Oo.......\n.......Oo.......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n....r0....2p....\n....2p.2p.r0....\n....p0.r0.0p....\n.....p.0p..0....\n2p.....p.....r0.\nr0..2p.......2p.\n0p..r0.2p.2p.p0.\n.0..0p.r0.r0.0..\n....p0.0p.0p....\n.......p..p0....\n................\n................\n................\n................\n"),
Ge=qe("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.........l......\n..llxl...xl.....\n....x.l.lllxl...\n....xllxlx.x....\n....x..x...x....\n.......x...x....\n.......x........\n.......x........\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..ll.ll.ll......\n...lxllxlllxl...\n....x..x...x....\n..llxllxll.x....\n.lllx.lxlxlxll..\n.ll.x..x.llxlll.\n....x..x.x.x....\n....x..x...x....\n.......x...x....\n.......x........\n.......x........\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.......ll.lll...\n......lllxllll..\n.ll.ll...x......\nlllxlll..x......\n...x...x.llxll..\n....x..xlllxlll.\n....x..x.x.x....\n..llxllxll.x....\n.lllx.lxlxlxll..\n.ll.x..x.llxlll.\n....x..x.x.x....\n....x..x...x....\n.......x...x....\n.......x........\n.......x........\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n.........S......\n........S.......\n...S..$$Sss.S...\n..S...$$Sss.S...\n$$Sss.$$Sss..S..\n$$Sss..$Ss.$$Sss\n.$Ss....S..$$Sss\n..S..S.....$$Sss\n....$$Sss...$Ss.\n....$$Sss....S..\n.....$Ss........\n......S.........\n................\n"),Me=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.HH.............\n.hhH............\n..hh.hHH........\n....h|hH........\n....|...........\n....|...........\n....|...........\n...|............\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....hh..hh.....\n.....Hhh.Hh.....\n......Hh.Hh.....\n........||......\n.......|..hhh...\n......|...HHh...\n.....|..........\n.....|..........\n....|...........\n....|...........\n....|...........\n...|............\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..........HHHHH.\n....HHH..HHHHhh.\n..HHHHHH.Hhhhh..\n..hhhhhhh|......\n...hhhh|..HH....\n......|..hHH....\n.....|...hhHH...\n.....|...hhHH...\n....|.....hhH...\n....|.....hh....\n....|...........\n...|............\n................\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n...........fF...\n.....Ff....Ff...\n.....fF.fF.fF...\n..Ff.Ff.Ff......\n..fF....fF......\n..Ff.....Ff.....\n......Ff.fF.....\n......fF.Ff.Ff..\n......Ff....fF..\n............Ff..\n................\n................\n"),
Ne=qe("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......Hh.Hh.....\n...hh.hhhhh.hhh.\n....h...h....h..\n....h...h....h..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n.......HH.Hh....\n.......Hhhhh....\n.........h.Hh.Hh\n..HH.hh..h.hhhhh\n..Hhhhh.hh...h..\n....h...h....h..\n....h...h....h..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n......H....HH...\n....HHhhh.Hhh|..\n.....hhhhhhh|...\n........|hh.....\n.HH..hhh.h.HH.H.\n.Hhhhhh|.hHhhhh|\n...hh....hhhhh||\n....h...hh...h..\n....h...h....h..\n....h...h....h..\n................\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n................\n.......+P+......\n......P+++P.....\n......+P+P+.PP+.\n.P++..P++++P+++P\nP+P+P..+P+.++P++\n+++++...+...+++.\n.P+P.........+..\n..+.............\n................\n"),Oe=qe("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......hxh......\n......h.x.h.....\n........x.......\n........x.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......hx........\n......|.xx|.....\n........x.|.....\n........x.......\n........x.......\n.......xxx......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.......x........\n......|||.......\n....h|.x|.h|....\n....h..x.hh||...\n....||x...|.....\nh.|x||x....x....\nh|||.xx..xx||...\n||.||.xxx...h|..\n.|.|...x....h|..\n...h|...x...||..\n...||...x.......\n....|...x.......\n........x.......\n.......xxx......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n......|.........\n......|]E.......\n...]E|.EE.......\n...EE|.EE...|]E.\n..|EE|......|EE.\n..|..|]E..]E|...\n]E|...EE..EE|]E.\nEE|]E.EE..EE|EE.\nEE.EE.......|EE.\n.E.EE........E..\n................\n................\n................\n"),
Pe=qe("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......Ee.......\n.......Ee.......\n.......Ee.......\n.......Ee.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n...EEE..........\n..tt..E....EEt..\n.......E..E..t..\n.......EEE......\n...EEEEEEEEEEE..\n..E....Ee....tE.\n..t....Ee.....t.\n.t.....Ee.......\n.......Ee.......\n.......Ee.......\n.......Ee.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n...T.......T....\n..tT......tTT...\n.tttee....ttt...\n....ttT....ee...\n.....tTe.ee.....\n......tetTT.....\n..eeeeeetTTeee..\n..e....eete..ee.\n.tTT.tTTee..tTT.\n.tTT.tTTe...tTT.\n..t...tEe....t..\n.......Ee.......\n.......Ee.......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88 P:#fdd\n................\n................\n................\n..9.9...........\n..P9P...........\n..9P9...P.P.....\n..P9P...9P9.....\n...P....P9P.....\n...9.9..9P.9.9..\n...P9P..P9PP9P..\n...9P....P.9P9..\n....9P......9P..\n...9P9.....9P9..\n....9.......9...\n................\n................\n"),Qe=se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n........M.......\n.......MMm......\n.......MMm......\n........m.......\n........I.......\n......I.II......\n.......II.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n........X.......\n.......Nhm......\n.......NMm......\n.......NMm......\n........M.......\n........I.......\n........I.......\n.....I..I.I.....\n......I.II......\n.......II.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n........X.......\n......NMXMN.....\n.....MNNMNMm....\n......MNMMm.....\n.......MMm......\n........I.......\n........I.......\n.....II.I.IIi...\n.......III......\n........I.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.........NNM....\n.....NN.NNNM....\n....NNNMNNM.....\n....MMMXXXNNN...\n.....NNXHXNNNM..\n....NNNXXXMMM...\n....NNNMNNN.....\n....MMM.NNNM....\n........MMM.....\n........I.......\n...IIi..I..IIIi.\n....iii.I.Iiii..\n.......III......\n........I.......\n................\n"),
Re=se("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n....h...........\n...hhh..........\n....h|..........\n.....hhhh.......\n...hh|h||h......\n...h|h.hh.......\n....hh..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n...hh...........\n...hhh..........\n...h|h..........\n....h|..........\n.....hh.hhh.....\n..hhh|h|||h.....\n..h||h.hhhh.....\n..hhhh..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.......|........\n.......h........\n........h.......\n...hh...h.......\n...hhh..h.......\n...h|h.h........\n....h|..........\n.....hh.hhh.....\n..hhh|h|||h.....\n..h||h.hhhh.....\n..hhhh..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......89.8......\n......989.......\n.....88h........\n.......h........\n........h.......\n...hh...h.......\n...hhh..h.......\n...h|h.h........\n....h|..........\n.....hh.hhh.....\n..hhh|h|||h.....\n..h||h.hhhh.....\n..hhhh..........\n................\n................\n"),Se=se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n........q.......\n.......qq.......\n........qq......\n........q.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........q.......\n.......qqq......\n........q.......\n........q.......\n........q.q.....\n.......qq.qq....\n........qq......\n........q.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n........A.......\n.......vAv......\n........v.......\n........q.......\n........q...q...\n......q.q.q.qq..\n.....qq.q.qq....\n.......qq.qqq...\n........qq......\n........q.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n........A.......\n.......A@A......\n.......A@A......\n.....AA.v.AA....\n....A@@vVv@@A...\n.....AA.v.AA....\n.......A@A......\n.......A@A......\n........A.......\n........q...q...\n......q.q.q.qq..\n.....qq.q.qq....\n.......qq.qqq...\n........qq......\n........q.......\n................\n"),
Te=se("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n....hh....hh....\n....hh....hh....\n.....h....h.....\n.....h...h......\n.....h...h......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n...........Z....\n...........h....\n.....Z.....h....\n.....h....h.....\n.....h...h......\n.....h...h......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa 9:#fffafa 8:#efeaea 7:#ff0 X:#fe0\n................\n................\n................\n................\n................\n...........9....\n..........979...\n....9....97X79..\n...979....979...\n..97X79....9....\n...979.....h....\n....9......h....\n.....h....h.....\n.....h...h......\n.....h...h......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa 9:#fffafa 8:#efeaea 7:#ff0 X:#fe0\n................\n....9...........\n..98989.........\n..88788....9....\n.997X799.98989..\n..88788..88788..\n..98989.997X799.\n....9....88788..\n....h....98989..\n....h......9....\n....h......h....\n....h......h....\n.....h....h.....\n.....h...h......\n.....h...h......\n................\n"),Ue=se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n......|.........\n.....h|...|.....\n.....||..|......\n......|..|......\n......|..|......\n......|||.......\n....|h.||.h|....\n.....||||||h....\n.....h||||......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n....h|....h.....\n....h|....h|....\n...||||...||....\n....||....|.....\n.....|....|.....\n......|..|......\n......|..|......\n......|..|......\n....h.|||..h....\n....|h.||.h|....\n.....||||||h....\n.....h||||......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n....ZX..........\n....XZ....h|....\n....h|....h|....\n...||||..||||...\n....||....||....\n.....|....|.....\n.....|....|.....\n......|..|......\n......|..|......\n......|..|...h..\n..h.h.|||..h.||.\n...||h.||.h|||..\n...h|||||||h.h..\n.....h||||......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n...989.....X-...\n..98989..-XOX--.\n..89898.-XOOO-X.\n..98979..--X-X..\n...979...X.|.-X.\n....||....||....\n.....|....|.....\n.....|....|.....\n......|..|......\n......|..|......\n......|..|...h..\n..h.h.|||..h.||.\n...||h.||.h|||..\n...h|||||||h.h..\n.....h||||......\n................\n"),
Ve=se("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......h........\n.....h.h.|......\n.....h.h|.......\n......hh|.......\n.......h........\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.......h........\n......hh|.......\n......hh|.......\n......hh|.......\n.......h........\n.......h........\n.......h........\n.....h.h.|......\n.....h.h|.......\n......hh|.......\n.......h........\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......v........\n......vvv.......\n.....vhvvv......\n.....vhvv.......\n......hh|.......\n.......h........\n.......h........\n.......h........\n.....h.h.|......\n.....h.h|.......\n......hh|.......\n.......h........\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.....i...i......\n.....id.id......\n.....iiidd......\n...vvviddvvv....\n..vv--vvv--ii...\n..vivvv-vviii...\n..i..v---i..i...\n.....vvvvi......\n......vvi.......\n.......i........\n.......h........\n.....h.h.|......\n.....h.h|.......\n......hh|.......\n.......h........\n"),We=se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....v....I.....\n.....g..v.v.....\n..g..g..g.g.....\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g.....g....g..\n.............g..\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.....I....v.....\n....Iv..III.....\n.Iv..II.v.v.II..\n..II.v.II.II.v..\n..v..g..v.v..I..\n..g..g..g.g..v..\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g.....g....g..\n.............g..\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.....v...III....\n..v.III.v.v.....\n.III.v.IIIII.v..\n..v.III.v.v.III.\n.III.v.IIIII.v..\n..v..gG.v.v.III.\n..g..g..gGg..v..\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g.....g....g..\n.............g..\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....I..........\n..I.JvI.I.I.....\n.JvIIIvJvJvI.I..\n.IIvJvIIIIIvJvI.\n.JvIIIvJvJvIIIv.\n.IIv.v.IIIIvJvI.\n..v.GgG.v.v.IIv.\n.GgG.g.GgGgG.v..\n..g..g..g.g.GgG.\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g.....g....g..\n.............g..\n................\n"),
Xe=se("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n........mh......\n..........h.....\n...........h....\n...........h....\n...........h....\n...........h....\n...........h....\n...........h....\n.......h|.h.|h..\n.......|h|h|h|..\n........|h|h|...\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..hMhhh....M....\n...m...hh.m.....\n.........h......\n..........h.....\n...........h....\n...........h....\n...........h....\n...........h....\n....||||...h....\n....||h||..h.||.\n.....||h|.h.|hh|\n......||h|h|h||.\n.........h|h||..\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......M...M.....\n..hMhhh..mMm....\n..mMm..hmmNmm...\n.mmNmm...MMM....\n..MMM.....h.....\n...........h....\n...........h....\n..........Mh....\n...........h....\n....||||...h....\n....||h||..h.||.\n.....||h|.h.|hh|\n......||h|h|h||.\n.........h|h||..\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n....MMM.........\n....mNm...M.....\n..hMhhh..mMm....\n..mMm..hmmMmm...\n.mmMmm.mmmNmmm..\nmmmNmmm.mMMMm...\n.mMMMm..MM.MMM..\n.MM.MM...mMh....\n.........NMh....\n.........mMh....\n....||||...h....\n....||h||..h.||.\n.....||h|.h.|hh|\n......||h|h|h||.\n.........h|h||..\n................\n");
se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n........G.......\n........GG......\n........G.......\n.......GG.......\n........GG......\n........G.......\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.......KQK......\n......GQKQg.....\n.......GGg......\n........G.......\n........G.......\n........GG......\n........G.......\n.......GG.......\n........GG......\n........G.......\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n........G#......\n.....--o-G......\n......-x-##.....\n.....--ox-G.....\n.......-oG#.....\n......--G.......\n........G.......\n........GG......\n......G.G.......\n.......GG.G.....\n........GG......\n........G.......\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa +:#ff0b\n......+.-.+.....\n.....+-----+....\n....+---X---+...\n.....--OxO--....\n....--XxxxX--...\n.....--OxO--....\n....+---X---+...\n.....+-----+....\n......+.-.+.....\n........G.......\n........GGG.....\n.....GG.G.......\n.......GG.GG....\n........GG......\n........G.......\n........G.......\n");
var Ye=se("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......9]EE......\n......9]EE......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......XOox......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n......Ooxx......\n......XOox......\n......XOox......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....XOOoxx.....\n....XXXOOoxx....\n....XXXOOoxx....\n....XXXOOoxx....\n....XXXOOoxx....\n......9]EE......\n......9]EE......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n"),Ze=se("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......oO.......\n.......9o.......\n.......9O.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......oO.......\n.......Oo.......\n.......oO.......\n.......9X.......\n.......9X.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.......Oo.......\n.......XOo......\n......oOo.......\n.......oO.......\n.......9X.......\n.......9X.......\n.......9X.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......Oo.......\n......XoXO......\n......OXOo......\n......oOoO......\n......OXOX......\n......oOoo......\n......XoOX......\n......oOXo......\n.......oO.......\n.......9X.......\n.......9X.......\n.......9X.......\n.......9X.......\n................\n"),
$e=se("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.......Xo.......\n......XOOo......\n.......7O.......\n.......X7.......\n.......7O.......\n................\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......Xo.......\n......XOOo......\n......XOOo......\n......XOOo......\n.......7O.......\n.......X7.......\n.......7O.......\n.......X7.......\n.......7O.......\n.......X7.......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......Xo.......\n......XOOo......\n......XOOo......\n......XOOo......\n......X7O6......\n......8O7o......\n......X7O6......\n......8O7o......\n......X7O6......\n.......O7.......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......XOOo......\n.....XOOOOo.....\n.....XOOOOo.....\n.....XOOOOo.....\n.....XOOOOo.....\n......X7O6......\n......8O7o......\n......X7O6......\n......8O7o......\n......X7O6......\n......8O7o......\n......X7O6......\n.......O7.......\n................\n................\n"),af=se("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......986.......\n......986.......\n......986.......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......P++.......\n......+9r.......\n......986.......\n......986.......\n......986.......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......P9+r......\n.....P+++9r.....\n.....P9+9+9.....\n.....66666r.....\n......986.......\n......986.......\n......986.......\n......986.......\n......986.......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....P9+9+......\n....P++9+++.....\n...P+9+++9+r....\n...P9+9+9+9r....\n...P+68686+r....\n......984.......\n.....98884......\n......984.......\n......984.......\n......984.......\n................\n................\n"),
bf=se("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n....X8..........\n...9X8o.........\n...9987.........\n....97..........\n..........X.....\n....9....987....\n...X98...987....\n....9...........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n..99..99........\n...9X8o.........\n...9987.........\n....97...9X.o7..\n..99..9889988...\n...99O8...987...\n...X9O....987...\n....98..........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n...99988........\n..99X8o87.......\n...9X8o.........\n...9987...998...\n....97...9XOo7..\n..99999889988...\n..X99O88..987...\n..9X9O8...987...\n...998..........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n..999988........\n.99998888.......\n99X9O88o87......\n.89XO8o87.9998..\n..8XO8o..X9O888.\n...9987.99XO8oo.\n....97...9XOo7..\n..99999889987...\n.9X99O88o.987...\n.89X9O8o9.887...\n..8X9O7o........\n...9987.........\n"),ef=se("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.....XOOoox.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....XOOoox.....\n.....XOOoox.....\n.....XOOoox.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n..XXXOOOooooxx..\n.XXXXOOOOooxoxx.\n.XXXOOOOooooxxx.\n.XXXXOOoOooooxx.\n.XXXOXOOooooxxx.\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n"),
ff=se("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n........o.......\n...oo..OO...oo..\n...OO..Ee...OO..\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.........o......\n........OOO.....\n...oo...Ee......\n..OOOO.EEe......\n...Ee..Ee...OO..\n...Ee..Ee...Ee..\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.........oo.....\n........OOOO....\n...oo....Ee.....\n..OOOO...Ee.....\n...Ee...EEe.....\n...Ee...Ee..oo..\n...Ee..EEe.OOOO.\n...Ee..Ee...Ee..\n...Ee..Ee...Ee..\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.........oo.....\n...oo...ooooo...\n..oooo.OXOOXOO..\n..OXOX...Ee.....\n.OOOOOO..Ee.....\n...Ee....Ee.....\n...Ee....Ee.oo..\n...Ee...EEeoooo.\n...Ee...EeXOXOXO\n...Ee..EEe..Ee..\n...Ee..Ee...Ee..\n...Ee..Ee...Ee..\n................\n"),gf=se("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.....00.........\n....0o300.......\n....030o30......\n.....003x0......\n.......00.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n........00......\n.......0o30.....\n....000o330.....\n....0o30330.....\n....030300......\n.....003x0......\n.......000......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n......0000......\n.....030o00.....\n....0o30o30.....\n....000o330.....\n....03x03x0.....\n....030o000.....\n.....00o30......\n.......000......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n....00..00......\n...0oo00330.....\n...0o30o0330....\n...0330o3000....\n..0o00o33030....\n..033303x030....\n..0300o0030.....\n...030o3030.....\n....000000......\n................\n"),
hf=te("\n................\n................\n................\n................\n................\n................\n................\n........xo......\n........oo......\n...xo...........\n...oo...........\n..........xo....\n..........oo....\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n........h.......\n.......hhh......\n........h.......\n.......hhh......\n........h.......\n.......Oo.......\n.....hh.Oo......\n....hhh..Oo.....\n...hhh...Oo.....\n...hh....Oo.....\n.........Oo.....\n.........Oo.....\n.........Oo.....\n.........Oo.....\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n........Hh......\n.....o.Hhh......\n...HhOohh.......\n..Hhh.ho.....Hh.\n.Hhh.Hhho...Hhh.\n.hh...h.Oo.Hhh..\n.....HhhOo.hh...\n......h..Oo.H.h.\n.........Oohhhhh\n.........Oo.h.h.\n.........Oo.....\n.........Oo.....\n.........Oo.....\n.........Ooo....\n........OOoo....\n.......OOOooo...\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..L....L........\n.LLl..LLl.......\n.KKH..KKH.......\n.KKH..KKH...L...\n..H....H...LLl..\n...........KKH..\n...........KKH..\n............H...\n................\n................\n................\n",
"l0:#744 l1:#b44 l2:#e66 l3:#f77 ts1:1 aa:#b22f\n................\n................\n................\n................\n................\n..o....o........\n.oox..oox.......\n.ee[..ee[.......\n.ee[..ee[...o...\n..[....[...oox..\n...........ee[..\n...........ee[..\n............[...\n................\n................\n................\n"),jf=te("\n................\n................\n................\n................\n................\n....Oo..........\n....oo..........\n................\n................\n...........Oo...\n...Oo......oo...\n...oo...........\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n......o..o......\n.......o.o......\n.......o.o......\n.......o.o......\n.......o..o.....\n.......o..o.....\n........o.o.....\n........o.o.....\n........o.o.....\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n...........H....\n........o.Hh....\n..H..o..o.h.....\n...HHo..oH......\n....ho..oH..HHh.\n.HHhh.o.o.HHHh..\n....h.o..o......\n..Hh...o.oHH....\n.......o.o.HH...\n.HHHH..o.o..hh..\n...HHHHo..o.....\n......ho..o.....\n....Hhh.o.o.....\n...Hh...o.o.....\n........o.o.....\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.....9..........\n.....99.........\n....9PP99.......\n...99PR9........\n.....99...9.....\n.....9....99....\n....9....9PP99..\n....99..99PR9...\n...9RP99..99....\n..99PP9...9.....\n....99..........\n.....9..........\n................\n................\n................\n","l0:#744 l1:#b44 l2:#e66 l3:#f77\n................\n.....E..........\n....EOE.........\n...EOooE........\n...EOooE........\n...EOooE........\n....EoE....E....\n.....EE...EOE...\n.....EOE.EOooE..\n....EOooEEOooE..\n....EOooEEOooE..\n....EOooE.EoE...\n.....EoE...E....\n......E.........\n................\n................\n"),
kf=te("\n................\n................\n................\n................\n................\n................\n................\n........xo......\n........oo......\n...xo...........\n...oo...........\n..........xo....\n..........oo....\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n..........Hh....\n.....hH..hHH....\n.....HHh.Hh.....\n......hHx.......\n........x.......\n........x.......\n........x.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.......hH.......\n.hH.hH.HHh......\n.HHhHHh.hH.x....\n..hH.hH...x..Hh.\n....x..x0x..hHH.\n.....x.x0...Hh..\n...hH.xx0..x....\n..HHh.Hh0.x.....\n..hH..hHHx.Hh...\n.......Hh..hHH..\n.......x0...Hh..\n.......x0.......\n.......x0.......\n......xx00......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n...%............\n..%.......%.....\n..%........%....\n.s%0.......%....\n.%%%......s%0...\n.s%0......%%%...\n..%.......s%0...\n...........%....\n................\n................\n................\n",
"l0:#744 l1:#b44 l2:#e66 l3:#f77\n................\n................\n................\n................\n................\n...%............\n..%.......%.....\n..%........%....\n.%%%.......%....\n%%s%%....%%%%%..\n%Ss.%...%%%.%%%.\n.Ss.....%Ss.Ss%.\n.s.......Ss.ss..\n..........s..s..\n................\n................\n"),lf=te("\n................\n................\n................\n................\n................\n....Oo..........\n....oo..........\n................\n................\n...........Oo...\n...Oo......oo...\n...oo...........\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....hh..h......\n.....hh..hh.....\n......OOooo.....\n....hh.Ooo.hh...\n.....h.Oox.hh...\n.......Ooo......\n.......Ooo......\n.......Oox......\n.......ooo......\n.......Ooo......\n......Oooxo.....\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.Hh.Hh..Hh.h.Hh.\n...OOhOOoooooo..\n..H.hXOOooHh.Hh.\n.Hh.hhOOooxh.hh.\n.....XOOoxx.....\n.....XOOoox.....\n.....XOooox.....\n.....XOOoxx.....\n.....XXOoox.....\n.....XOOoox.....\n.....XOOoxx.....\n.....XOooox.....\n....XXOOoox.....\n...XXOOOoxxx....\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n.++.++..........\n.++-++..........\n..---...........\n.++-++..++.++...\n.++.++..++-++...\n.........---....\n..++.++.++-++...\n..++-++.++.++...\n...---..........\n..++-++.........\n..++.++.........\n................\n................\n","l0:#744 l1:#b44 l2:#e66 l3:#f77\n................\n................\n................\n.......x0.......\n.......00.......\n..........x0....\n....x0.x0.00....\n....00.00.......\n................\n......x0..x0....\n...x0.00..00....\n...00...........\n.....x0...x0....\n.....00.x000....\n........00......\n................\n"),
mf=te("\n................\n................\n................\n................\n................\n................\n................\n........xo......\n........oo......\n...xo...........\n...oo...........\n..........xo....\n..........oo....\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n...e....e.......\n....e...e.e.....\n.....Eeeee......\n...eeEeee.......\n......Eee.......\n.......Ee.......\n.......Ee.......\n.......Ee.......\n.......Ee.......\n.......Ee.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n..G.....G.G.....\nGGGGG...GGG.....\n.GGg...GGGg.....\nGGog.....g.G....\n..o.g...o....o..\nG..o....o..oo...\nGGG.o...o.o.GGGG\n.Go..Oo.oo..GGG.\nGg.ooOooo....Ggg\nG.g...Ooo...GG..\n.......Oo.......\n.......Oo.......\n.......Oo.......\n.......Oo.......\n.......Oo.......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n.#.....#........\n.#.....#.....#..\n.HH....HH....#..\n.H...#.H..#..HH.\n.HH..#.HH.#...H.\n...#.HH...HH.HH.\n...#.H....H.....\n..HH.HH...HH....\n...H............\n..HH............\n................\n................\n",
"l0:#744 l1:#b44 l2:#e66 l3:#f77\n................\n................\n................\n.+..............\n.++....+........\n.OO....++....+..\n.O.....OO....++.\n.OO..+.O..+..OO.\n.....++OO.++..O.\n...+.OO...OO.OO.\n..++.O....O.....\n..OO.OO...OO....\n...O............\n..OO............\n................\n................\n"),nf=te("\n................\n................\n................\n................\n................\n....Oo..........\n....oo..........\n................\n................\n...........Oo...\n...Oo......oo...\n...oo...........\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.x..............\n..x........xxx..\n...xx.....x.....\n.....xxx0x......\n......x00.......\n......xx0.......\n......x00.......\n......xx0.......\n......x00.......\n......x00.......\n.....xx000......\n.....xx000......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n....h...|.......\n...h|..hh.......\n...h|..h||......\n.x.||..h||......\n.xx.....|..xxx..\n..xxx.....x.x.hh\n..h..xxx0x..h.h|\n.hh|.xx00..h|..|\n.h||..xx0..h||..\n.h||..x00..h||..\n..|...xx0...|...\n......x00.......\n......x00.......\n.....xx000......\n.....xx000......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n...........#....\n..........###...\n......#....#....\n.....###........\n......#.......#.\n...#.........###\n..###.....#...#.\n...#.....###....\n..........#.....\n................\n................\n................\n................\n................\n................\n","l0:#744 l1:#b44 l2:#e66 l3:#f77\n................\n..#........#....\n.###......###...\n..#...#....#....\n.....###........\n......#.......#.\n...#.........###\n..###.....#...#.\n...#...#.###....\n......###.#.....\n.......#........\n................\n.##........#x#..\n.xx#.......#x#..\n.##.........#...\n................\n"),
of=te("\n................\n................\n................\n................\n................\n................\n................\n........xo......\n........oo......\n...xo...........\n...oo...........\n..........xo....\n..........oo....\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n...hh....H......\n..HHh....h......\n...HH|..H|......\n....H|.Hh|......\n....HH|.||......\n.....h|.|.......\n.....h.h|.......\n......hh........\n......hh........\n......hh........\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n..........HH....\n...H..h.HHhhhhh.\n....HhHhh.h.hh..\n.H.hh.|hh....h|.\n..h.|.OoohHH...|\nHHhh.Ooo.Hhhhh..\n.h...Oo...hhh...\nhhh.Ooo....Hhh|.\n|.|.Oo....H.hh..\n....Oo.......h|.\n....Oo..........\n....Oo..........\n....Ooo.........\n.....Oo.........\n.....Ooo........\n....OOoox.......\n","\n................\n..........Y.....\n.........YYY....\n.........YYY....\n...Y......Y.....\n..YYY..Y........\n..YYY.YYY.......\n.. Y..YYY.......\n.......Y........\n................\n................\n................\n................\n................\n................\n................\n",
"\n................\n..........x.....\n.........xxx....\n.........xx0....\n...x......0.....\n..xxx..x........\n..xx0.xxx.......\n...0..xx0.......\n.......0........\n................\n................\n................\n................\n................\n................\n................\n"),pf=te("\n................\n................\n................\n................\n................\n....Oo..........\n....oo..........\n................\n................\n...........Oo...\n...Oo......oo...\n...oo...........\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n...........GGg..\n...GG....GgGgG..\n.GGgG....GgGg.Gg\nGGGGgG....ggGggG\n..ggggg...gGgGGG\nGGGGgG.G.Ggggggg\n.GGgG...G...GGGG\n...GG...G....GG.\n........G.......\n........G.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n..........G.G...\n.........Gg.gG..\n....GG...GgGgG..\n...GgG....GgGG..\n...GgG..[.[.GGG.\n.GG.gG..[[..GggG\nGgggg...[..[gG..\nGGGG.[..[.[.GggG\n......[.[[..GGG.\n.......[[....G..\n........[.......\n........[.......\n.......[[[......\n................\n................\n",
"\n................\n................\n................\n........]E......\n......]EEE......\n......EE........\n................\n...........]E...\n......]E...EE...\n....]EEE..]E....\n....EE....EE....\n......]E....]E..\n......EE....EE..\n................\n................\n................\n","\n................\n................\n................\n........$S......\n......$SSS......\n......SS........\n................\n...........$S...\n......$S...SS...\n....$SSS..$S....\n....SS....SS....\n......$S....$S..\n......SS....SS..\n................\n................\n................\n"),
qf=te("\n................\n................\n................\n................\n................\n................\n................\n........xo......\n........oo......\n...xo...........\n...oo...........\n..........xo....\n..........oo....\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.......h...Hh...\n.....HEh..ehh...\n....HhE..ee.....\n......E..e......\n....HhE..eHh....\n.....h.E.eh.....\n.......Ee.......\n.......Ee.......\n.......Ee.......\n......EEee......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n........h..H....\n....H..hhhH.hhh.\n....H...hhHOhhh.\n.hhOhhh.HhHOhh..\n.hhOHhhhHHOOH...\n...hOhhhHHOH.hh.\n..H.hh.HHOHH.hh.\n..HhhhHH.HH..hhH\n.hhhh.OHOH..HhhH\n.hh.hHHHH.Hhh...\n....hh.HHH.hhh..\n....hh.HH...hh..\n.......Oo.......\n.......Oo.......\n......OOoo......\n................\n","\n................\n................\n................\n.ZY.....ZY......\n.YYZY...YY......\n...YY.ZY..ZY....\n......YY..YY....\n................\n...Y............\n..ZYY.....Y.....\n..Y.ZY...ZYZY...\n.....Y...Y.YY...\n.........Y......\n................\n................\n................\n",
"\n................\n................\n................\n.Ss.....Ss......\n.ssSs...ss......\n...ss.Ss..Ss....\n......ss..ss....\n................\n...s............\n..Sss.....s.....\n..s.Ss...SsSs...\n.....s...s.ss...\n.........s......\n................\n................\n................\n"),rf=te("\n................\n................\n................\n................\n................\n....Oo..........\n....oo..........\n................\n................\n...........Oo...\n...Oo......oo...\n...oo...........\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.........T......\n.....tt.Tts.....\n....sstt..s.....\n.....st.ssT.....\n....Tts.sTt.....\n.....ttsxtt.....\n......tsx.......\n.......sx.......\n.......sx.......\n.......sx.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n...........tt...\n..T......Tttt...\n.Tt........sT...\n...sTt...T.stt..\n...sttt.Ttst....\n.Tt.sstt..s.t...\n..tt.st.ssT.....\n...tTts.sTt.....\n.....ttsxtt.....\n......tsx.......\n.......sx.......\n.......sx.......\n......ssxx......\n................\n",
"\n................\n................\n................\n................\n................\n................\n................\n................\n.].S.......S]...\n..S........]S]..\n.]S]........S...\n..S.]......]S]..\n.]S]........S...\n..]S.......].]..\n....]...........\n................\n","\n................\n................\n................\n................\n................\n................\n................\n............LL..\nLL.S.......SLh..\nLhS.........S...\n..SLL.....LLSLL.\nLLSLh.....LhSLh.\nLhS.........S...\n...SLL....LL.LL.\n....Lh....Lh.Lh.\n................\n"),
sf=te("\n................\n................\n................\n................\n................\n................\n................\n........xo......\n........oo......\n...xo...........\n...oo...........\n..........xo....\n..........oo....\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n..l.............\n..l..l....l.....\n...l.l....l.l...\n....l.....lll...\n.....l.....l....\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..........HHl...\nHHl.HHll..l||.Hl\nHl|.ll|......ll|\n..ll.....HHlll..\nHH.l.Hll.llllHH.\nl|.lll|.....lll|\n....l......ll...\n.....l.....l....\n................\n................\n................\n","\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n..YY..........YY\nYYzz....YY....zY\nYY...YY.YYYY.YY.\n...YzYY...Yz.YY.\n...YY...........\n",
"\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n..OO..........OO\nOOxx....OO....xO\nOO...OO.OOOO.OO.\n...OxOO...Ox.OO.\n...OO...........\n"),tf=te("\n................\n................\n................\n................\n................\n....Oo..........\n....oo..........\n................\n................\n...........Oo...\n...Oo......oo...\n...oo...........\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n.........HHh....\n....HH...xhh....\n....hhx.xx......\n......xxx.......\n.......x........\n.......x........\n......xxx.......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n......Hh........\n..HH...hhHHh....\n...hhhxx.Hhhh.h.\n...hx..xx..xhh..\n..hh.xx.xxxx....\n..HH..xx0...xHh.\n...Hxx.x0.xxxhh.\n...hhxxx0xH.....\n...hh..x0.Hhhh..\n.......x0.hhh...\n.......x0.......\n.......x0.......\n......xx00......\n................\n",
"\n................\n................\n....yyyy........\n...yyzyyy.......\n..yyz..yy.......\n........y.......\n...........yyyy.\n..........yz.yz.\n..........yz..z.\n...yyyyy..yz....\n..yyz.yyz.......\n..yyz..zz.......\n...z............\n................\n................\n................\n","\n................\n................\n....oooo........\n...ooxooo.......\n..oox..ox.......\n........x.......\n...........oooo.\n..........ox.ox.\n..........ox..x.\n...ooooo..ox....\n..oox.oox.......\n..oox..xx.......\n...x............\n................\n................\n................\n"),
uf=te("\n................\n................\n................\n................\n................\n................\n................\n........xo......\n........oo......\n...xo...........\n...oo...........\n..........xo....\n..........oo....\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n....#...#.......\n....##.##.e.....\n......ee.e.##...\n......#.e...#...\n......#.e.......\n........e.......\n........e.......\n........e.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n.........##.....\n........##......\n.......##H......\n...##..#H.......\n..####e....e##..\n..#H..e...e.##H.\n..H...e...e..##H\n....##.e..e...##\n...##..e.e.#....\n..##H...e..#H...\n..#H....e..##H..\n........e...##..\n........e.......\n........e.......\n........e.......\n................\n","\n............Gg..\n............Gg..\n............gg..\n............g...\n.......Gg.......\n.......Gg.......\n...GGg.gg.......\n...Gg...........\n...gg..G..Gg....\n......Gg..Gg....\n......gg..gg....\n......g.........\n................\n................\n................\n................\n",
"\n............kk..\n............k[..\n............[[..\n............[...\n.......kk.......\n.......k[.......\n...kk[.[[.......\n...k[...........\n...[[..[..k[....\n......k[..k[....\n......k[..[[....\n......[.........\n................\n................\n................\n................\n"),vf=te("\n................\n................\n................\n................\n................\n....Oo..........\n....oo..........\n................\n................\n...........Oo...\n...Oo......oo...\n...oo...........\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....O..........\n......O...O.....\n.......OoO......\n...OO..oO.......\n.....OOOo.......\n.......oO.OO....\n.......OoO......\n.......oO.......\n.......Oo.......\n.......oO.......\n.......Oo.......\n.......oO.......\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n........G.......\n........t.......\n.......tG.......\n......GttGG.....\n.....ttGt.tG....\n......OtO.O.t...\n..G.GttOGO......\n...OOtGtGGGt....\n..G..OOGott.....\n....tGGoOGOOG...\n....tGttoOGt....\n...tGt.oOtGG....\n.GG.G.tOt.tGG...\n..tt...oO..ttG..\n.......Oo.......\n.......oO.......\n",
"\n................\n................\n................\n..........L.....\n.........LKL....\n.........KLK....\n.........LKL....\n..........L.....\n................\n................\n...........L....\n....L.....LKL...\n...LKL....KLK...\n...KLK....LKL...\n...LKL.....L....\n....L...........\n","\n................\n................\n................\n..........x.....\n.........xox....\n.........oxo....\n.........xox....\n..........x.....\n................\n................\n...........x....\n....x.....xox...\n...xox....oxo...\n...oxo....xox...\n...xox.....x....\n....x...........\n"),
wf=te("\n................\n................\n................\n................\n................\n................\n................\n........xo......\n........oo......\n...xo...........\n...oo...........\n..........xo....\n..........oo....\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n...........o....\n..ooooo...o.x...\n.o....oo....x...\n.o.....ox..x....\n..x..o.oxxx.....\n....o..ox.......\n.oo..ooox.o..x..\no..x...oxo....x.\no.....oox..oox..\n.o...o.oxoo..x..\n..ooo..ox.....x.\n.o.....ox.....x.\n..x....ox...xx..\n.......ox.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\nh...............\n.h......hh.o....\n..ooooo...o.xhh.\n.o....oo....x...\n.o..h..ox..x....\nh.x..o.oxxx...h.\nh...o..ox..h..h.\n.oo..ooox.o..x..\no..x...oxo....x.\no.....oox..oox..\n.o...o.oxoo..x..\n..ooo..ox.....x.\n.o.....ox.hh..x.\n..x....ox...xx..\n...hh..ox.......\n................\n","\n................\n................\n...X..........X.\n..X.X....X...X.X\n..}.}...X.X..}.}\n........}.}.....\n................\n................\n...X........X...\n..X.X......X.X..\n..}.}......}.}..\n................\n................\n................\n................\n................\n",
"\n................\n................\n...X..........X.\n..X.X....X...X.X\n..y.y...X.X..y.y\n........y.y.....\n................\n................\n...X........X...\n..X.X......X.X..\n..y.y......y.y..\n................\n................\n................\n................\n................\n"),xf=te("\n................\n................\n................\n................\n................\n....Oo..........\n....oo..........\n................\n................\n...........Oo...\n...Oo......oo...\n...oo...........\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n..........L.....\n.....Lo..x......\n......ooxx......\n.......ox.......\n.......ox.......\n.......ox.......\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....h.hh.|......\n.hHh.hHhhhh|h|..\n.hhhhh.hh.ho.h..\nhH.hHHhh|hhhhh|.\nHhhohhhhhhhh||h.\n.hHhhhhh|hhhh|..\nHHhhohhoh|o||h|.\nhhhh.hhohhhhh.h.\nhHh.hh|h|hhhoh|.\nHhHHh.hox..h|h.h\n.oHhhh.ox..|h|h.\n.......ox....o..\n.......ox.......\n......ooxx......\n",
"\n................\n................\n...........##...\n.....#X....#X...\n.....##.........\n..........X#....\n..........##....\n................\n...X#.........#X\n...##.........##\n..........##....\n......##..##....\n......#X........\n................\n................\n................\n","\n................\n................\n...........OO...\n.....OX....OX...\n.....OO.........\n..........XO....\n..........OO....\n................\n...XO.........OX\n...OO.........OO\n..........OO....\n......OO..OO....\n......OX........\n...........X....\n..OX......OXO...\n..OO.......O....\n"),
yf=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......|........\n.......|........\n.....|.t.|......\n....|||t|||.....\n.....|.t.|......\n.......t........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.......t........\n.....|.t.|......\n....|||t|||.....\n.....|.t.|......\n.......t........\n.......t........\n....|..t..|.....\n...||||t||||....\n....||.t.||.....\n.......t........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....h.t.h......\n....h|||h||.....\n.....|.|.|......\n.......t........\n....hh.t..hh....\n...h|||thh|||...\n.....|.t.||.....\n.......t........\n.......t........\n...hh..t..hhh...\n..h||||thh||||..\n...|||.t.||||...\n.......t........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....hh.|.hh.....\n...h||||h|||....\n....||Z|Z||.....\n.....Z.t.Z......\n...hhh.t..hhh...\n..h||||thh||||..\n....||ZtZ|||....\n.....Z.t.Z......\n..hhh..t.hhhhh..\n.h|||||th||||||.\n..||||ZtZ.|||...\n.....Z.t.Z......\n.....Z.t.Z......\n................\n"),zf=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......T........\n.....T.T.t......\n......Ttt.......\n.......t........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........T.......\n........Tt......\n.......T........\n......Tt........\n........TT......\n........T..T....\n.....t.T..Tt....\n......TTTT......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n........m.......\n........T.......\n......TT........\n.......T........\n........T.T.....\n........TT......\n.....t.T........\n......TT........\n........TT......\n.....T..T..TT...\n...TTt.T..TT....\n....t.TTTT......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n........m.......\n.......mMm......\n.......UTt......\n.......UTt......\n........T.......\n......TT..U.T...\n.......T.TTTTt..\n...U.T..T.T.t...\n..UTTTt.TT......\n...T.t.T........\n......TT........\n........TT..T...\n.U.U.T..T..TTTt.\n.UTTTt.T..TT.t..\n..T.t.TTTT......\n................\n"),
Af=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n........H.......\n.......HOH......\n........O.......\n........O.......\n........O.......\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n........H.......\n.......HHH......\n.......HHh......\n........H.......\n.......HH.HH....\n......HO.OHH....\n.....HH.O..Hh...\n.....H..O.......\n.....h..O.......\n........O.......\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n...........H....\n..........HH....\n..........HHh...\n...........H....\n.........HHOHH..\n.......HH.O..hh.\n...HH....H......\n..HHHHO.HHh.....\n.H....H.Hhhh....\n.....HHO.O......\n.....Hh.O.......\n.....H..O.......\n.....h..O.......\n........O.......\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n.............H..\n...........HHHh.\n...........HHh..\n............H...\n.........HHHOHh.\n........HHHOOHhh\n.......H...O...h\n..........O.....\n...HH...HH......\n.HHHHHOHHHh.....\n.HHH..H.Hhhh....\nH....HHO.O..h...\n....HHh.OO......\n....HHh.O.......\n.....h..O.......\n.....h..O.......\n"),Ff=se("l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n................\n................\n................\n................\n..OOO..OOOO.....\n.OOoo..Oooo.....\n.Oooo..Xoo.OOO..\n....X..X...OOoo.\n....X..O..XXooo.\n.....XOOOXX.....\n.OOO.XOooX......\nOOooXXX.XXOOOO..\nOooo......OOoo..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n................\n................\n................\n................\n..EEE..EEEE.....\n.EEee..Eeee.....\n.Eeee..]ee.EEE..\n....]..]...EEee.\n....]..E..]]eee.\n.....]EEE]].....\n.EEE.]Eee]......\nEEee]]].]]EEEE..\nEeee......EEee..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n................\n................\n................\n................\n..YYY..YYYY.....\n.YYyy..Yyyy.....\n.Yyyy..Zyy.YYY..\n....Z..Z...YYyy.\n....Z..Y..ZZyyy.\n.....ZYYYZZ.....\n.YYY.ZYyyZ......\nYYyyZZZ.ZZYYYY..\nYyyy......YYyy..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n................\n................\n................\n................\n..LLL..LLLL.....\n.LLll..Llll.....\n.Llll..Kll.LLL..\n....K..K...LLll.\n....K..L..KKlll.\n.....KLLLKK.....\n.LLL.KLllK......\nLLllKKK.KKLLLL..\nLlll......LLll..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n................\n................\n................\n................\n..HHH..HHHH.....\n.HHhh..Hhhh.....\n.Hhhh..#hh.HHH..\n....#..#...HHhh.\n....#..H..##hhh.\n.....#HHH##.....\n.HHH.#Hhh#......\nHHhh###.##HHHH..\nHhhh......HHhh..\n................\n................\n"),
Gf=J("aa:#fff6\n................\n................\n................\n................\n................\n..OOO..OOOO.....\n.OOoo..Oooo.....\n.Oooo..Xoo.OOO..\n....X..X...OOoo.\n....X..O..XXooo.\n.....XOOOXX.....\n.OOO.XOooX......\nOOooXXX.XXOOOO..\nOooo......OOoo..\n................\n................\n"),Hf=J("aa:#fff4\n................\n................\n................\n................\n................\n..OOO..OOOO.....\n.OOoo..Oooo.....\n.Oooo..Xoo.OOO..\n....X..X...OOoo.\n....X..O..XXooo.\n.....XOOOXX.....\n.OOO.XOooX......\nOOooXXX.XXOOOO..\nOooo......OOoo..\n................\n................\n"),
If=J("l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0 aa:#f00a\n................\n................\n................\n................\n................\n..SSS..SSSS.....\n.SSss..Ssss.....\n.Ssss..$ss.SSS..\n....$..$...SSss.\n....$..S..$$sss.\n.....$SSS$$.....\n.SSS.$Sss$......\nSSss$$$.$$SSSS..\nSsss......SSss..\n................\n................\n"),Jf=se("l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n............oOOo\n..OoOoO....OOooO\n..oOoOoo...OOoOO\n..OOXXOO..XXXOoo\n..OO.X...XX..OO.\n.....XX.X.......\n.......X89.OO...\n...OOO.X98.OOO..\n..ooOoX.XXXOoo..\n..OOoOO..OOoOO..\n..OooOO.OOoooo..\n..oOOoO.OOoOoO..\n..OoOO...oOOo...\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n............eEEe\n..EeEeE....EEeeE\n..eEeEee...EEeEE\n..EE]]EE..]]]Eee\n..EE.]...]]..EE.\n.....]].].......\n.......]89.EE...\n...EEE.]98.EEE..\n..eeEe].]]]Eee..\n..EEeEE..EEeEE..\n..EeeEE.EEeeee..\n..eEEeE.EEeEeE..\n..EeEE...eEEe...\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n............yYYy\n..YyYyY....YYyyY\n..yYyYyy...YYyYY\n..YYZZYY..ZZZYyy\n..YY.Z...ZZ..YY.\n.....ZZ.Z.......\n.......Z89.YY...\n...YYY.Z98.YYY..\n..yyYyZ.ZZZYyy..\n..YYyYY..YYyYY..\n..YyyYY.YYyyyy..\n..yYYyY.YYyYyY..\n..YyYY...yYYy...\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n............lLLl\n..LlLlL....LLllL\n..lLlLll...LLlLL\n..LLKKLL..KKKLll\n..LL.K...KK..LL.\n.....KK.K.......\n.......K89.LL...\n...LLL.K98.LLL..\n..llLlK.KKKLll..\n..LLlLL..LLlLL..\n..LllLL.LLllll..\n..lLLlL.LLlLlL..\n..LlLL...lLLl...\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0\n................\n............hHHh\n..HhHhH....HHhhH\n..hHhHhh...HHhHH\n..HH##HH..###Hhh\n..HH.#...##..HH.\n.....##.#.......\n.......#89.HH...\n...HHH.#98.HHH..\n..hhHh#.###Hhh..\n..HHhHH..HHhHH..\n..HhhHH.HHhhhh..\n..hHHhH.HHhHhH..\n..HhHH...hHHh...\n................\n................\n"),
Lf=J("aa:#fff6\n................\n............oOOo\n..OoOoO....OOooO\n..oOoOoo...OOoOO\n..OOXXOO..XXXOoo\n..OO.X...XX..OO.\n.....XX.X.......\n.......X89.OO...\n...OOO.X98.OOO..\n..ooOoX.XXXOoo..\n..OOoOO..OOoOO..\n..OooOO.OOoooo..\n..oOOoO.OOoOoO..\n..OoOO...oOOo...\n................\n................\n"),Mf=J("l0:#600 l1:#822 l2:#a55 l3:#faa hl:#af0 hh:#4f0 aa:#f00a\n................\n............sSSs\n..SsSsS....SSssS\n..sSsSss...SSsSS\n..SS$$SS..$$$Sss\n..SS.$...$$..SS.\n.....$$.$.......\n.......$89.SS...\n...SSS.$98.SSS..\n..ssSs$.$$$Sss..\n..SSsSS..SSsSS..\n..SssSS.SSssss..\n..sSSsS.SSsSsS..\n..SsSS...sSSs...\n................\n................\n"),
Nf=se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........HH|.....\n.....HhHhh|.....\n....HhhHhh|.....\n...HhhhHh||.....\n...Hhh|H|.......\n...Hhh|.........\n....h|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........HH....\n........HHhhh...\n...HHHhhHhhhh|..\n..Hhhh9hhhhhh|..\n.Hhhhh99hhhh|...\n.Hhhhh|Hhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......Z.........\n.....9Z9..HH....\n.....9Z9HHhhh...\n...hh9Z9hhhhh|..\n..Hhh9Z9hhhhh|..\n.HhhhhZ7hhhh|...\n.Hhhhhhhhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......9........\n......999..9....\n...99.9Z9.97....\n...999ZZZ987h...\n...98998Z877h|..\n..H987888877h|..\n.Hhh9888877h|...\n.Hhhh8888hh|....\n.Hhhhhh.........\n..hhhh..........\n................\n................\n"),Of=se("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........HH|.....\n.....HhHhh|.....\n....Hhh}hh|.....\n...HhhhHh||.....\n...Hhh|H|.......\n...Hhh|.........\n....h|..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........HH....\n........HHhhh...\n...HHHhhHhhhh|..\n..Hhhh}hhhhhh|..\n.Hhhhh}}hhhh|...\n.Hhhhh|Hhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......Z.........\n.....}Z}..HH....\n.....}Z}HHhhh...\n...hh}Z}hhhhh|..\n..Hhh}Z}hhhhh|..\n.HhhhhZFhhhh|...\n.Hhhhhhhhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......}........\n......}}}..}....\n...}}.}Z}.}f....\n...}}}ZZZ}Ffh...\n...}F}}FZFffh|..\n..H}FfFFFFffh|..\n.Hhh}FFFFffh|...\n.HhhhFFFFhh|....\n.Hhhhhh.........\n..hhhh..........\n................\n................\n"),
Pf=se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n","l0:#700 l1:#933 l2:#b66 l3:#fbb\n................\n................\n................\n................\n................\n................\n................\n........HH|.....\n.....HhHhh|.....\n....HhhAhh|.....\n...HhhhHh||.....\n...Hhh|H|.......\n...Hhh|.........\n....h|..........\n................\n................\n",
"l0:#700 l1:#933 l2:#b66 l3:#fbb\n................\n................\n................\n................\n................\n................\n..........HH....\n........HHhhh...\n...HHHhhHhhhh|..\n..HhhhAhhhhhh|..\n.HhhhhAAhhhh|...\n.Hhhhh|Hhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n","l0:#700 l1:#933 l2:#b66 l3:#fbb\n................\n................\n................\n................\n................\n......@.........\n.....A@A..HH....\n.....A@AHHhhh...\n...hhA@Ahhhhh|..\n..HhhA@Ahhhhh|..\n.Hhhhh@ahhhh|...\n.Hhhhhhhhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n",
"l0:#700 l1:#933 l2:#b66 l3:#fbb\n................\n................\n................\n................\n.......A........\n......AAA..A....\n...AA.A@A.Aa....\n...AAA@@@Aaah...\n...AaAAa@aaah|..\n..HAaaaaaaaah|..\n.HhhAaaaaaah|...\n.Hhhhaaaahh|....\n.Hhhhhh.........\n..hhhh..........\n................\n................\n"),Qf=se("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........hh0.....\n.....h|h||0.....\n....h||0||0.....\n...h|||h|00.....\n...h||0h0.......\n...h||0.........\n....|0..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........hh....\n........hh|||...\n...hhh||h||||0..\n..h|||0||||||0..\n.h||||00||||0...\n.h||||0h|||0....\n.h||||0.........\n..|||0..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......9.........\n.....393..hh....\n.....390hh|||...\n...||090|||||0..\n..h||090|||||0..\n.h||||90||||0...\n.h|||||||||0....\n.h||||0.........\n..|||0..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......3........\n......333..3....\n...33.393.30....\n...333999300|...\n...303309000|0..\n..h300000000|0..\n.h||3000000|0...\n.h|||0000||0....\n.h|||||.........\n..||||..........\n................\n................\n"),
Rf=se("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........HH|.....\n.....HhHhh|.....\n....Hhh]hh|.....\n...HhhhHh||.....\n...Hhh|H|.......\n...Hhh|.........\n....h|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........HH....\n........HHhhh...\n...HHHhhHhhhh|..\n..Hhhh]hhhhhh|..\n.Hhhhh]]hhhh|...\n.Hhhhh|Hhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......9.........\n.....]9]..HH....\n.....]9EHHhhh...\n...hhE9Ehhhhh|..\n..HhhE9Ehhhhh|..\n.Hhhhh9Ehhhh|...\n.Hhhhhhhhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......]........\n......]]]..]....\n...]].]9].]E....\n...]]]999]Eeh...\n...]E]]E9EEeh|..\n..H]EEEEEEeeh|..\n.Hhh]EEEEeeh|...\n.HhhhEeeehh|....\n.Hhhhhh.........\n..hhhh..........\n................\n................\n"),Sf=se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........YYz.....\n.....YyGyyz.....\n....YyGGGyz.....\n...YyyyGyzz.....\n...YyyzYz.......\n...Yyyz.........\n....yz..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........YY....\n........YYyyy...\n...YYYyyYyyyyz..\n..YyyyGyyyyyyz..\n.YyyyGGGyyyyz...\n.YyyyyzYyyyz....\n.Yyyyyz.........\n..yyyz..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......Q.........\n.....GQG..YY....\n.....GQGYYyyy...\n...yyGQGyyyyyz..\n..YyyGQGyyyyyz..\n.YyyyyQgyyyyz...\n.Yyyyyyyyyyz....\n.Yyyyyz.........\n..yyyz..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......G........\n......GGG..G....\n...GG.GQG.Gg....\n...GGGQQQGggy...\n...GgGGgQgggyz..\n..YGggggggggyz..\n.YyyGggggggyz...\n.Yyyyggggyyz....\n.Yyyyyy.........\n..yyyy..........\n................\n................\n"),
Tf=se("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........HH|.....\n.....Hh+hh|.....\n....Hh+++h|.....\n...Hhhh+h||.....\n...Hhh|||.......\n...Hhh|.........\n....h|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........HH....\n........HHhhh...\n...HHHhhHhhhh|..\n..Hhhh+hhhhhh|..\n.Hhhh+++hhhh|...\n.Hhhhh|Hhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......+.........\n.....R+R..HH....\n.....R+RHHhhh...\n...hhR+Rhhhhh|..\n..HhhR+Rhhhhh|..\n.Hhhhh+rhhhh|...\n.Hhhhhhhhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......R........\n......RRR..R....\n...RR.R+R.Rr....\n...RRR+++Rrrh...\n...RrRRr+rrrh|..\n..HRrrrrrrrrh|..\n.HhhRrrrrrrh|...\n.Hhhhrrrrhh|....\n.Hhhhhh.........\n..hhhh..........\n................\n................\n"),Uf=se("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n......ooo.......\n...o.oo.ooxxo...\n..ooo...oxo..x..\n..o.oooox.x..x..\n.oo..o.x.x..x...\n.o...ox..x..x...\n.oo.oxoo.x.x....\n...oox...xxx....\n.....x..x.x.....\n.....x...x......\n......xxx.......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.....oo.........\n....o..oo.......\n....o...ooxxxx..\n....o....x...ox.\n.....o.oxo....x.\n..oo.oox.o....x.\n...ooo.ooo..xx..\n..ooo...ox.x....\n..o.o..xxo.x....\n..oooo.x.xxxx...\n...oo.....x.xx..\n....o..xxxx..xx.\n.....oo.....xx..\n.......xoxxx....\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n.......#........\n.....oo#H.......\n....o..HH....##.\n....o...oooox#H.\n...#o....##..HH.\n..#H.o.ox#H.##x.\n..HH.oox.xH.#Hx.\n..#ooo.oxo..xx..\n.#Hoo...xo.x.x..\n.HH.o..xxo.x.x..\n..ooo##x.oxxox..\n.#Hoo#H...x#xx#.\n.HH.oHHxxx#H.#H.\n....ooo...HHxH..\n.......xxxxx....\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n.......#........\n.....#o#H.##....\n....#H.HH.#H.##.\n....HH..ooHHo#H.\n...#o....##..HH.\n..#H.o##o#H.##x.\n..HH.o#H.oH.#Hx.\n..#ooo#ox#..ox..\n.#Hoo...#HHx.x#.\n.HH.o..#Ho.x.x#H\n..ooo##HHooxoHHH\n.#Hoo#H...x#xx#.\n.HH.oHHxxx#H.#H.\n....ooo##.HHxH..\n.......#Hxxx....\n.......HH.......\n"),
Xf=se("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n....o0o.9797....\n...o.oo77979....\n......oXOXO.....\n.....o.oo.......\n....eeEEEee.....\n....EEeeeEE.....\n......EEEE......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n....o0o.9797....\n...o.oo77979....\n......oXOXO.....\n.....o.oo.......\n....EeEeEeE.....\n....eEEEeEE.....\n....eEEEeEE.....\n...eEeEeEeE.....\n...EEEeEEE......\n...EEEeEE.......\n....EeEe........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.......Oox......\n.......XOo......\n......Oooxx.....\n......XOOOo.....\n.....OOooxxx....\n.....XXOOOoo....\n......Oooxx.....\n......XOOOo.....\n.......oox......\n.......XOo......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......XOo......\n......Oooox.....\n......XOOOo.....\n.....Oooooxx....\n.....XOOOOOo....\n....OOooooxxx...\n....XXOOOOOoo...\n.....Oooooxx....\n.....XOOOOOo....\n......oooox.....\n......XOOOo.....\n.......Oox......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.......XOo......\n......XXOoo.....\n.....OOoooxx....\n.....XXOOOoo....\n....OOooooxxx...\n....XXOOOOOoo...\n...OOOooooxxxx..\n...XXXOOOOOooo..\n....OOooooxxx...\n....XXOx0xOoo...\n.....Oo000xx....\n.....XXx0xoo....\n......OOoxx.....\n.......XOo......\n................\n"),Yf=se("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n...ox......ox...\n...ox......ox...\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n..OOOOOOOOOOOo..\n..OOOOxxxxOOOo..\n..OOOOOOOOOOOo..\n..oooooooooooo..\n...ox......ox...\n...ox......ox...\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..ooooooooooox..\n..ooooooooooox..\n..xxxxxxxxxxxx..\n..OOOOOOOOOOOo..\n..OOOOxxxxOOOo..\n..OOOOOOOOOOOo..\n..oooooooooooo..\n...ox......ox...\n...ox......ox...\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..ooooooooooox..\n..ooooxxxxooox..\n..ooooooooooox..\n..xxxxxxxxxxxx..\n..OOOOOOOOOOOo..\n..OOOOxxxxOOOo..\n..OOOOOOOOOOOo..\n..oooooooooooo..\n...ox......ox...\n...ox......ox...\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.OOOOOOOOOOOOOo.\n.OOOOOxxxxOOOOo.\n.OOOOOOOOOOOOOo.\n.oooooooooooooo.\n..ooooooooooox..\n..ooooxxxxooox..\n..ooooooooooox..\n..xxxxxxxxxxxx..\n..OOOOOOOOOOOo..\n..OOOOxxxxOOOo..\n..OOOOOOOOOOOo..\n..oooooooooooo..\n...ox......ox...\n...ox......ox...\n................\n"),
Zf=se("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....zzz........\n....zYYYz.......\n...zYYYYYzzz....\n....zYYYzYYYz...\n.....zzzYYYYYz..\n....zYYYzYYYz...\n...zYYYYYzzz....\n....zYYYz.......\n.....zzz........\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....zzz........\n....zYYYz.......\n...zYYYYYzzz....\n....zYYYzYYYz...\n.....zzzYYYYYz..\n....zY90zYYYz...\n...zY999Yzzz....\n....zY9Yz.......\n.....zzz........\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....zzz........\n....zYYYz.......\n...zYYYYYzzz....\n....zYYYzYYYz...\n.....zzzYYYYYz..\n....z998zYYYz...\n...z99887zzz....\n....z987z.......\n.....zzz........\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n....E...E.......\n....EzzzE.......\n....EYYYE.......\n...zY0E0Yzzz....\n....z0E0zYYYz...\n.....EEEYYYYYz..\n....z8E8zYYYz...\n...z98]888zz....\n...889E989......\n...98zzz88......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n....797..ee0e...\n...797777ee0.e..\n.....]E]eeee....\n....E]E]E.......\n...]E]eeee......\n...]EeEee.e.....\n.....e..e.e.....\n................\n................\n................\n"),ag=se("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n........zzz.....\n.......zYYYz....\n....zzzYYYYYz...\n...zYYYzYYYz....\n..zYYYYYzzz.....\n...zYYYzYYYz....\n....zzzYYYYYz...\n...zYYYzYYYz....\n..zYYYYYzzz.....\n...zYYYz........\n....zzz.........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n........zzz.....\n.......zYYYz....\n....zzzYYYYYz...\n...zY90zYYYz....\n..zY999Yzzz.....\n...zY9YzYYYz....\n....zzzYYYYYz...\n...zYYYzYYYz....\n..zYYYYYzzz.....\n...zYYYz........\n....zzz.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n........zzz.....\n.......zYYYz....\n....zzzYYYYYz...\n...zYYYzYYYz....\n..zYYYYYzzz.....\n...zYYYz998z....\n....zzz99987z...\n...zYYYz987z....\n..zYYYYYzzz.....\n...zYYYz........\n....zzz.........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......z...z....\n.......zzzzz....\n.......zYYYz....\n....zzz00z00z...\n...zYYY00z00....\n..zYYYYYzzz.....\n...zYYYz8z8z....\n....zz888Z89z...\n...zYY989z988...\n..zYYY88zzz89...\n...zYYYz........\n....zzz.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.....[...[......\n......[.[.......\n...[.00[00.[....\n...[.00[00.[....\n....[.eee.[.....\n.....[]]][......\n...[[eeeee[[....\n..[..[]]][..[...\n....[8eee8[.....\n...[.8]]]8.[....\n...[.88]88.[....\n......8.8.......\n................\n"),
bg=se("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n........[[[.....\n.......[EEE[....\n....[[[EEEEE[...\n...[EEE[EEE[....\n..[EEEEE[[[.....\n...[EEE[EEE[....\n....[[[EEEEE[...\n...[EEE[EEE[....\n..[EEEEE[[[.....\n...[EEE[EEE[....\n....[[[EEEEE[...\n.......[EEE[....\n........[[[.....\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n........[[[.....\n.......[EEE[....\n....[[[EEEEE[...\n...[EEE[EEE[....\n..[EEEEE[[[.....\n...[EEE[E90[....\n....[[[E999E[...\n...[EEE[E9E[....\n..[EEEEE[[[.....\n...[EEE[EEE[....\n....[[[EEEEE[...\n.......[EEE[....\n........[[[.....\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n........[[[.....\n.......[EEE[....\n....[[[EEEEE[...\n...[EEE[EEE[....\n..[EEEEE[[[.....\n...[EEE[998[....\n....[[[99987[...\n...[EEE[987[....\n..[EEEEE[[[.....\n...[EEE[EEE[....\n....[[[EEEEE[...\n.......[EEE[....\n........[[[.....\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.......o...o....\n.......o[[[o....\n.......oEEEo....\n....[[[E0O0E[...\n...[EEE[0O0[....\n..[EEEEEOOO.....\n...[EEE[8O8[....\n....[[888X89[...\n...[EE989O988...\n..[EEE88[[[89...\n...[EEE[EEE[....\n....[[[EEEEE[...\n.......[EEE[....\n........[[[.....\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa +:#fff8a4 -:#fff400 *:#f4f000\n................\n................\n................\n....+.*.........\n....+-*.........\n....+-*.........\n..oo0oo..79797..\n.o..0oo7777977..\n....ooooXOX.....\n.......OXOXO....\n......ooooXOX...\n.....o.ooOoOXO..\n....o..o..o.....\n.......o..o.....\n................\n................\n"),cg=se("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......h........\n.......h........\n.......h........\n......Hh|.......\n.......h........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.......h........\n......Hh|.......\n......Hh|.......\n.......h........\n.......h........\n.......h........\n.....H.h.|......\n......Hh|.......\n......Hh|.......\n.......h........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......W........\n......VWV.......\n.....hVWVh......\n.....hVVVh......\n.....hhVhh......\n......hhh.......\n.......h........\n.......h........\n.......h........\n.....H.h.|......\n......Hh|.......\n......Hh|.......\n.......h........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....WVWW.......\n....VWWVWWVW....\n...WWVWXWVW.....\n...WVWX$$WVVW...\n..WWWVW$WVWWV...\n....VWWVWWV.....\n....WW.WVV......\n.......h........\n.......h........\n.....H.h.|......\n......Hh|.......\n......Hh|.......\n.......h........\n................\n"),
dg=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n","hg:#f004\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n",
"hg:#f008\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n","hg:#f00c\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n",
"hg:#f00f\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n"),eg=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n",
"hg:#f804\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n","hg:#f808\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n",
"hg:#f80c\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n","hg:#f80f\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n"),
fg=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n","hg:#ff04\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n",
"hg:#ff08\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n","hg:#ff0c\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n",
"hg:#ff0f\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n"),gg=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n",
"hg:#0f04\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n","hg:#0f08\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n",
"hg:#0f0c\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n","hg:#0f0f\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n"),
hg=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n","hg:#0ff4\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n",
"hg:#0ff8\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n","hg:#0ffc\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n",
"hg:#0fff\n................\n...........G....\n........Gg.g....\n......G..GgggG..\n.....GgGGGg.....\n......GggggggG..\n.......GGgGGGgG.\n.....GGG.gG.....\n...GGgggggggGG..\n..GggGGGg.GGggG.\n...GG.G.g.G.GG..\n...GGGggggGGG...\n..GGggGg..ggGG..\n.GggGGGg..GGggG.\n..GGG..g....GG..\n................\n"),ig=se("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n",
"hg:#f004\n................\n............GGG.\n.......GGG..gggG\n......Gggg.gG.gg\n.......GG.g..g.g\n.....GG..ggG.GgG\n...GGgg.g.ggG...\n..GggG.g...Gg...\n...GG.g.ggG.G...\n..GGG.g..GgG....\n.Ggggg.G..GG....\nGgGG.gggGG......\n.G...g.GggG.....\n.....g..GGgG....\n......g...G.....\n......g.........\n","hg:#f008\n................\n............GGG.\n.......GGG..gggG\n......Gggg.gG.gg\n.......GG.g..g.g\n.....GG..ggG.GgG\n...GGgg.g.ggG...\n..GggG.g...Gg...\n...GG.g.ggG.G...\n..GGG.g..GgG....\n.Ggggg.G..GG....\nGgGG.gggGG......\n.G...g.GggG.....\n.....g..GGgG....\n......g...G.....\n......g.........\n",
"hg:#f00c\n................\n............GGG.\n.......GGG..gggG\n......Gggg.gG.gg\n.......GG.g..g.g\n.....GG..ggG.GgG\n...GGgg.g.ggG...\n..GggG.g...Gg...\n...GG.g.ggG.G...\n..GGG.g..GgG....\n.Ggggg.G..GG....\nGgGG.gggGG......\n.G...g.GggG.....\n.....g..GGgG....\n......g...G.....\n......g.........\n","hg:#f00f\n................\n............GGG.\n.......GGG..gggG\n......Gggg.gG.gg\n.......GG.g..g.g\n.....GG..ggG.GgG\n...GGgg.g.ggG...\n..GggG.g...Gg...\n...GG.g.ggG.G...\n..GGG.g..GgG....\n.Ggggg.G..GG....\nGgGG.gggGG......\n.G...g.GggG.....\n.....g..GGgG....\n......g...G.....\n......g.........\n"),
jg=J("\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....\n"),kg=J("\n....++++........\n...++++++9......\n..+..999935.....\n..9..636o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...2624..664....\n....664..664....\n....664..664....\n"),
lg=se("\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....\n","\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....\n",
"\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....\n","\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....\n",
"\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....\n"),mg=J("\n................\n................\n................\n................\n................\n............XO..\n......o....XOoo.\n...ooo....XOoooo\n..oo0o...XOooooo\n..oooo...XOooooo\n....Xoo..XOo.oo.\n...ooooo.XOo....\n....XXooOOoo....\n.....XXoooo.....\n....oooo........\n................\n"),
ng=J("\n................\n................\n......9.........\n.....+..........\n....++..........\n...++++.....XO..\n..999999...XOoo.\n...ooo....XOoooo\n..oo0o...XOooooo\n..oooo...XOooooo\n....Xoo..XOo.oo.\n...ooooo.XOo....\n....XXooOOoo....\n.....XXoooo.....\n....oooo........\n................\n"),og=se("\n................\n................\n................\n................\n................\n............XO..\n......o....XOoo.\n...ooo....XOoooo\n..oo0o...XOooooo\n..oooo...XOooooo\n....Xoo..XOo.oo.\n...ooooo.XOo....\n....XXooOOoo....\n.....XXoooo.....\n....oooo........\n................\n",
"\n................\n................\n................\n................\n................\n............XO..\n......o....XOoo.\n...ooo....XOoooo\n..oo0o...XOooooo\n..oooo...XOooooo\n....Xoo..XOo.oo.\n...ooooo.XOo....\n....XXooOOoo....\n.....XXoooo.....\n....oooo........\n................\n","\n................\n................\n................\n................\n................\n............XO..\n......o....XOoo.\n...ooo....XOoooo\n..oo0o...XOooooo\n..oooo...XOooooo\n....Xoo..XOo.oo.\n...ooooo.XOo....\n....XXooOOoo....\n.....XXoooo.....\n....oooo........\n................\n",
"\n................\n................\n................\n................\n................\n............XO..\n......o....XOoo.\n...ooo....XOoooo\n..oo0o...XOooooo\n..oooo...XOooooo\n....Xoo..XOo.oo.\n...ooooo.XOo....\n....XXooOOoo....\n.....XXoooo.....\n....oooo........\n................\n","\n................\n................\n................\n................\n................\n............XO..\n......o....XOoo.\n...ooo....XOoooo\n..oo0o...XOooooo\n..oooo...XOooooo\n....Xoo..XOo.oo.\n...ooooo.XOo....\n....XXooOOoo....\n.....XXoooo.....\n....oooo........\n................\n"),
pg=J("\n................\n................\n................\n................\n................\n............84..\n......s....84ss.\n...sss....84ssss\n..ss0s...84sssss\n..ssss...84sssss\n....8ss..84s.ss.\n...sssss.84s....\n....88ss44ss....\n.....88ssss.....\n....ssss........\n................\n"),qg=J("\n................\n................\n......9.........\n.....+..........\n....++..........\n...++++.....84..\n..999999...84ss.\n...sss....84ssss\n..ss0s...84sssss\n..ssss...84sssss\n....8ss..84s.ss.\n...sssss.84s....\n....88ss44ss....\n.....88ssss.....\n....ssss........\n................\n"),
rg="\nX:#f80 O:#b60 o:#840 x:#630\n.................hhh............\n...............hh||||...........\n..............hh|||||...........\n.............hh||||.............\n.............hhh||..........hhh.\n............hh|||||........hh||h\n.........OOOhhh||||........h|..|\n.......OOoXOhh||||||oXXo...hh|..\n......OooXOOohh||||oooXXox..h|..\n.....OooXXOooX||||OOoooXXox..h|.\n....OooXXOooXXOooXXOoooXXoox.h|.\n...OooXXXoooXXOoooXOOooXXXox.h|.\n...OooXXOoooXXXOooXXOOooXXox.h|.\n..OooXXXoooXXXXOoXXXXOooXXooxh|.\n..OooXXOooXXXXXOoXXXXOooXXooxh|.\n..OoXXXOooXXXXXOoXXXOOooXXooxh|.\n.OooXXXOooXXXXXOoXXXOooXXXoox|..\n.OooXXXOooXXXXXOoXXXOooXXXoox...\n.OooXXXOooXXXXXOoXXXOooXXXoox...\n.OooXXXOooXXXXXOooXXOooXXooox...\n..OoXXOoooXXXXOooXXOOooXXoox....\n..hOoXOoooXXXXOooXXOoooXoox.....\n.hh|OoXOooXXXXOooXXOoOOOOx.h|...\n.h|...OOoooOXXOooXXOO.....h|....\nhh|......h|............XOOhooo..\nhh|.....hh|...........XX0XXX0Oo.\nhhh|...hh||..........XX000X000o.\n..h|..h|||....hhhhh..XXOOXXXXOo.\n..h|..hh|||..hh|||hhhXXO0X0X0Oo.\n.hh|....hhhhh|||..|||XXXO0X0XOo.\n.|||..................XXOXXXOo..\n.......................XOOXOo...\n";
rg=rg.trim();var sg=rg.split("\n"),tg="";sg.length&1&&(tg=sg[0]+"\n",sg.shift());for(var ug=[],yg=sg[0].length>>1,zg=sg.length>>1,Ag=0;2>Ag;Ag++)for(var Bg=0;2>Bg;Bg++){ug[2*Ag+Bg]=tg;for(var Cg=0;Cg<zg;Cg++){for(var Dg=0;Dg<yg;Dg++)ug[2*Ag+Bg]+=sg[Ag*zg+Cg][Bg*yg+Dg];ug[2*Ag+Bg]+="\n"}}var Eg,Fg="\nX:#f80 O:#b60 o:#840 x:#630\n.................hhh............\n...............hh||||...........\n..............hh|||||...........\n.............hh||||.............\n.............hhh||..........hhh.\n............hh|||||........hh||h\n.........OOOhhh||||........h|..|\n.......OOoXOhh||||||oXXo...hh|..\n......OooXOOohh||||oooXXox..h|..\n.....OooXXOooX||||OOoooXXox..h|.\n....OooXXOooXXOooXXOoooXXoox.h|.\n...OooXXXoooXXOoooXOOooXXXox.h|.\n...OooXXOoooXXXOooXXOOooXXox.h|.\n..OooXXXoooXXXXOoXXXXOooXXooxh|.\n..OooXXOooXXXXXOoXXXXOooXXooxh|.\n..OoXXXOooXXXXXOoXXXOOooXXooxh|.\n.OooXXXOooXXXXXOoXXXOooXXXoox|..\n.OooXXXOooXXXXXOoXXXOooXXXoox...\n.OooXXXOooXXXXXOoXXXOooXXXoox...\n.OooXXXOooXXXXXOooXXOooXXooox...\n..OoXXOoooXXXXOooXXOOooXXoox....\n..hOoXOoooXXXXOooXXOoooXoox.....\n.hh|OoXOooXXXXOooXXOoOOOOx.h|...\n.h|...OOoooOXXOooXXOO.....h|....\nhh|......h|............XOOhooo..\nhh|.....hh|...........XX0XXX0Oo.\nhhh|...hh||..........XX000X000o.\n..h|..h|||....hhhhh..XXOOXXXXOo.\n..h|..hh|||..hh|||hhhXXO0X0X0Oo.\n.hh|....hhhhh|||..|||XXXO0X0XOo.\n.|||..................XXOXXXOo..\n.......................XOOXOo...\n";
Fg=Fg.trim();var Gg=Fg.split("\n"),Hg="";Gg.length&1&&(Hg=Gg[0]+"\n",Gg.shift());for(var Ig=Hg,Jg=Gg[0].length>>1,Kg=Gg.length>>1,Lg=0;Lg<Kg;Lg++){for(var Mg=0;Mg<Jg;Mg++){var Ng=2*Mg,Og=2*Lg,Pg=Gg[Og][Ng];if(" "==Pg||"."==Pg)Pg=Gg[Og][Ng+1];if(" "==Pg||"."==Pg)Pg=Gg[Og+1][Ng];if(" "==Pg||"."==Pg)Pg=Gg[Og+1][Ng+1];Ig+=Pg}Ig+="\n"}Eg=Ig;
var Qg=se(ug[0],ug[0],ug[0],ug[0],ug[0]),Rg=se(ug[1],ug[1],ug[1],ug[1],ug[1]),Sg=se(ug[2],ug[2],ug[2],ug[2],ug[2]),Tg=se(ug[3],ug[3],ug[3],ug[3],ug[3]),Ug=se(Eg,Eg,Eg,Eg,Eg);Ug=se(Eg,Eg,Eg,Eg,Eg);
var Vg=se("\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......00.......\n......0770......\n......07770.....\n......07770.....\n.....0777760....\n....ooooooooo...\n................\n","\n................\n................\n................\n................\n................\n................\n................\n.......00.......\n......0770......\n......07770.....\n......07770.....\n.....0777760....\n.....0777660....\n.....0777660....\n....ooooooooo...\n................\n","\n................\n................\n................\n................\n.......00.......\n......0770......\n......07770.....\n......07770.....\n.....0777760....\n.....0777660....\n.....0777660....\n....077$6$660...\n....07$7$6$60...\n....077$6$660...\n...ooooooooooo..\n................\n",
"\n................\n.......00.......\n......0770......\n......07770.....\n......07770.....\n.....0777760....\n.....0777660....\n.....0777660....\n....077$6$660...\n....07$7$6$60...\n....077$6$660...\n...0777666650...\n...0676666550...\n....076665550...\n...ooooooooooo..\n................\n","\n.......00.......\n......0770......\n......07770.....\n......07770.....\n.....0777760....\n.....0777660....\n.....0777660....\n....077$6$660...\n....07$7$6$60...\n....077$6$660...\n...0777666650...\n...0676666550...\n....076665550...\n....066665550...\n.....0000000....\n................\n");
function Wg(a){var b=a[1],d=a[2];a=a[0];for(var e=[],f=0;f<d;f++){e[f]=[];for(var g=0;g<b;g++){var h=a[f][g],k=h[0],l=h[1],p=h[2];h=h[3];k=l=(k+l+p)/3;p=255;h*=.5;e[f][g]=[Math.floor(k),Math.floor(l),Math.floor(p),Math.floor(h)]}}return[e,b,d]}function Xg(a){var b=a[1],d=a[2];a=a[0];for(var e=[],f=0;f<d;f++){e[f]=[];for(var g=0;g<b;g++){var h=a[f][g],k=h[0],l=h[1],p=h[2];h=h[3];l=k=p=128+(k+l+p)/6;h*=.75;e[f][g]=[Math.floor(k),Math.floor(l),Math.floor(p),Math.floor(h)]}}return[e,b,d]}
function Yg(a,b,d,e){for(var f=[],g=0;g<a.length;g++){var h=g,k=a[g],l=d,p=e,q=Rc(b),n=[];n[0]=q["0"];n[1]=q.n;n[2]=q.m;n[3]=q.M;n[4]=q.N;n[5]=q["9"];q=k[1];var u=k[2];k=k[0];for(var x=[],y=0;y<u;y++){x[y]=[];for(var r=0;r<q;r++){var v=k[y][r],w=v[0],H=v[1],D=v[2];v=v[3];w=(.299*w+.587*H+.114*D)/255;var A=1/12;w=w<A?2*w:w>1-A?1-2*(1-w):(w-A)/(1-2*A)*(1-4*A)+2*A;A=Math.min(n.length-1,Math.floor(w*n.length));var I=Math.min(n.length-1,A+1),X=w*n.length-A;D=1-X;w=n[A][0]*D+n[I][0]*X;H=n[A][1]*D+n[I][1]*
X;D=n[A][2]*D+n[I][2]*X;if(l)for(A=0;A<l.length;A++){I=l[A];X=p&&void 0!=p[A]?p[A]:1;if(1==I){var z=1/(1+X);w*=z;H*=z;D*=z}2==I&&(z=1+.35*X,w=Math.min(w*z,255),H=Math.min(H*z,255),D=Math.min(D*z,255));3==I&&(z=Jc([w,H,D]),w=1/(1+X),z[1]*=w,D=Kc(z),w=D[0],H=D[1],D=D[2]);4==I&&(z=Jc([w,H,D]),w=2*X,z[1]=Math.min(z[1]*w,255),D=Kc(z),w=D[0],H=D[1],D=D[2]);5==I&&(z=1-(r+y)/(q+u-2),z=255*(z-.5),w=Math.min(Math.max(0,w+z),255),H=Math.min(Math.max(0,H+z),255),D=Math.min(Math.max(0,D+z),255));6==I&&(w/=255,
H/=255,D/=255,w=(w*w*w+.05)*X+(1*w-X),H=(H*H*H+.05)*X+(1*H-X),D=(D*D*D+.05)*X+(1*D-X),w=Math.min(Math.max(0,255*w),255),H=Math.min(Math.max(0,255*H),255),D=Math.min(Math.max(0,255*D),255));7==I&&255==v&&(z=!1,r+1<q&&0==k[y][r+1][3]&&(z=!0),y+1<q&&0==k[y+1][r][3]&&(z=!0),z&&(w*=.85,H*=.85,D*=.85));8==I&&(z=Jc([w,H,D]),z[0]+=Math.floor(256*X),255<z[0]&&(z[0]-=256),D=Kc(z),w=D[0],H=D[1],D=D[2]);9==I&&(z=Jc([w,H,D]),240<z[2]&&(z=1/(1+X),w*=z,H*=z,D*=z));10==I&&(w=Math.pow(w,X),H=Math.pow(H,X),D=Math.pow(D,
X))}w=Math.min(Math.max(0,Math.floor(w)),255);H=Math.min(Math.max(0,Math.floor(H)),255);D=Math.min(Math.max(0,Math.floor(D)),255);v=Math.min(Math.max(0,Math.floor(v)),255);x[y][r]=[w,H,D,v]}}f[h]=Vc([x,q,u])}return f}
var Zg=Vc(Wg(Tc("\nX:#f80 O:#b60 o:#840 x:#630\n.................hhh............\n...............hh||||...........\n..............hh|||||...........\n.............hh||||.............\n.............hhh||..........hhh.\n............hh|||||........hh||h\n.........OOOhhh||||........h|..|\n.......OOoXOhh||||||oXXo...hh|..\n......OooXOOohh||||oooXXox..h|..\n.....OooXXOooX||||OOoooXXox..h|.\n....OooXXOooXXOooXXOoooXXoox.h|.\n...OooXXXoooXXOoooXOOooXXXox.h|.\n...OooXXOoooXXXOooXXOOooXXox.h|.\n..OooXXXoooXXXXOoXXXXOooXXooxh|.\n..OooXXOooXXXXXOoXXXXOooXXooxh|.\n..OoXXXOooXXXXXOoXXXOOooXXooxh|.\n.OooXXXOooXXXXXOoXXXOooXXXoox|..\n.OooXXXOooXXXXXOoXXXOooXXXoox...\n.OooXXXOooXXXXXOoXXXOooXXXoox...\n.OooXXXOooXXXXXOooXXOooXXooox...\n..OoXXOoooXXXXOooXXOOooXXoox....\n..hOoXOoooXXXXOooXXOoooXoox.....\n.hh|OoXOooXXXXOooXXOoOOOOx.h|...\n.h|...OOoooOXXOooXXOO.....h|....\nhh|......h|............XOOhooo..\nhh|.....hh|...........XX0XXX0Oo.\nhhh|...hh||..........XX000X000o.\n..h|..h|||....hhhhh..XXOOXXXXOo.\n..h|..hh|||..hh|||hhhXXO0X0X0Oo.\n.hh|....hhhhh|||..|||XXXO0X0XOo.\n.|||..................XXOXXXOo..\n.......................XOOXOo...\n"))),$g=
Vc(Wg(Ff[4])),ah=[$g,$g,$g,$g,$g],bh=Vc(Xg(Ff[4])),ch=[bh,bh,bh,bh,bh],dh=Vc(Wg(ve[4])),eh=[dh,dh,dh,dh,dh],fh=Vc(Xg(ve[4])),gh=[fh,fh,fh,fh,fh],hh=Vc(Wg(Ye[4])),ih=[hh,hh,hh,hh,hh],jh=Vc(Xg(Ye[4])),kh=[jh,jh,jh,jh,jh],lh=Vc(Wg(Qe[4])),mh=[lh,lh,lh,lh,lh],nh=Vc(Xg(Qe[4])),oh=[nh,nh,nh,nh,nh],ph=Vc(Wg(yf[4])),qh=[ph,ph,ph,ph,ph],rh=Vc(Xg(yf[4])),sh=[rh,rh,rh,rh,rh],th=Vc(Wg(Xf[4])),uh=[th,th,th,th,th],vh=Vc(Xg(Xf[4])),wh=[vh,vh,vh,vh,vh],xh=Vc(Wg(Zf[4])),yh=Vc(Wg(Uf[4])),zh=[yh,yh,yh,yh,yh],Ah=Vc(Xg(Uf[4])),
Bh=[Ah,Ah,Ah,Ah,Ah],Ch=Vc(Wg(Nf[4])),Dh=[Ch,Ch,Ch,Ch,Ch];Vc(Xg(Nf[4]));var Eh=Vc(Wg(dg[4])),Fh=[Eh,Eh,Eh,Eh,Eh];Vc(Xg(dg[4]));var Gh=Vc(Wg(lg[4])),Hh=[Gh,Gh,Gh,Gh,Gh];Vc(Xg(lg[4]));var Ih=Vc(Wg(og[4])),Jh=[Ih,Ih,Ih,Ih,Ih];Vc(Xg(og[4]));
var Kh=Vc(Wg(hf[4])),Lh=[Kh,Kh,Kh,Kh,Kh],Mh=Vc(Xg(hf[4])),Nh=[Mh,Mh,Mh,Mh,Mh],Oh=Vc(Wg(Ug[4])),Ph=[Oh,Oh,Oh,Oh,Oh],Qh=Vc(Xg(Ug[4])),Rh=[Qh,Qh,Qh,Qh,Qh],Sh=Vc(Wg(Qg[4])),Th=[Sh,Sh,Sh,Sh,Sh],Uh=Vc(Xg(Qg[4])),Vh=[Uh,Uh,Uh,Uh,Uh],Wh=Vc(Wg(Rg[4])),Yh=[Wh,Wh,Wh,Wh,Wh],Zh=Vc(Xg(Rg[4])),$h=[Zh,Zh,Zh,Zh,Zh],ai=Vc(Wg(Sg[4])),bi=[ai,ai,ai,ai,ai],ci=Vc(Xg(Sg[4])),di=[ci,ci,ci,ci,ci],ei=Vc(Wg(Tg[4])),fi=[ei,ei,ei,ei,ei],hi=Vc(Xg(Tg[4])),ii=[hi,hi,hi,hi,hi];var ji=J("\n................\n................\n................\n.........$$.....\n.......$$$......\n.......$$.....$.\n....$$$$$$$..$$.\n...$$$$$$$$$$$$.\n..$$0$$$$$$$$$$.\n.$$$$$$$$$$$$$$.\n.$$$$$$$$$$$.$$.\n..$$$$$$$$$...$.\n....$$$$$$......\n......$$........\n.......$$.......\n........$$......\n"),ki=J("\n+:#fb8a X:#fb8 O:#d96\n................\n.......+++......\n.......++++.....\n.......+++++....\n......XXO+++...+\n....XZXOXOX+.+++\n...XZ0ZXOXOXO+++\n..XXXZXOXOXOO+..\n..XXOXOXOXOOO...\n...OXOXOXOOOO+..\n....OOOOOO++.++.\n......OOO.++.+++\n......++......++\n......+++.......\n.......++.......\n................\n"),
li=J("\n+:#f63a X:#fb8 O:#d96\n................\n.......+++......\n.......++++.....\n.......+++++....\n......PPR+++...+\n....PZPRPRP+.+++\n...PZ0ZPRPRPR+++\n..PPPZPRPRPRR+..\n..PPRPRPRPRRR...\n...RPRPRPRRRR+..\n....RRRRRR++.++.\n......RRR.++.+++\n......++......++\n......+++.......\n.......++.......\n................\n"),mi=J("\n................\n.......444......\n.......4444.....\n.......44444....\n......221444...4\n....26212124.444\n...2606212121444\n..222621212114..\n..22121212111...\n...12121211114..\n....11111144.44.\n......111.44.444\n......44......44\n......444.......\n.......44.......\n................\n"),
ni=J("\n................\n................\n................\n................\n................\n9......999......\n99..9$$$999999..\n.999999999$$909.\n.9999$$$99$$$9$9\n99.9$$$$$9999999\n9........9.99..9\n........9..9....\n................\n................\n................\n................\n"),oi=J("\n................\n................\n................\n................\n................\nP......PPP......\nPP..P333PPPPPP..\n.PPPPPPPPP33P0P.\n.PPPP333PP333P3P\nPP.P33333PPPPPPP\nP........P.PP..P\n........P..P....\n................\n................\n................\n................\n"),
pi=J("\naa:#d33\n......999N......\n....99NNNNNN....\n...9NNNNNNNNN...\n...9NNNNNNNNN...\n..9NNNNNNNNNNN..\n..NN90NNNN90NM..\n..NN00NNNN00NM..\n..NNNNNNNNNNNM..\n...NNN0NN0NNM...\n...NNNN00NNNM...\n.NNNNNNNNNMMMNN.\n.NM.NNNMMMNN.NM.\n....NM.NN.NM....\n....NM.NM.NM....\n.......NM.......\n................\n"),qi=J("\n......999P......\n....99PPPPPP....\n...9PPPPPPPPP...\n...9PPPPPPPPP...\n..9PPPPPPPPPPP..\n..PP90PPPP90PR..\n..PP00PPPP00PR..\n..PPPPPPPPPPPR..\n...PPP0PP0PPR...\n...PPPP00PPPR...\n.PPPPPPPPPRRRPP.\n.PR.PPPRRRPP.PR.\n....PR.PP.PR....\n....PR.PR.PR....\n.......PR.......\n................\n"),
ri=J("\n...........9....\n..9........M....\n..NM..9...NN....\n...M..N...M....9\n.9.N..MM..MN...M\n.N.N...N...N.Mmm\nMM.MM..NM.MM.M..\nN...N...M.N..m.9\nNM..NMM.N.N.Mm.M\n.M....N.N.M.M.mm\n.NN...N.M.M.m.M.\n..M..MMXXXMMm.M.\n..MNNMXXOXXMmmm.\n....MMMXXXMmMM..\n......MMMmmm....\n................\n"),si=J("\n...........p....\n..p........R....\n..PR..p...PP....\n...R..P...R....p\n.p.P..RR..RP...R\n.P.P...P...P.Rrr\nRR.RR..PR.RR.R..\nP...P...R.P..r.0\nPR..PRR.P.P.Rr.R\n.R....P.P.R.R.rr\n.PP...P.R.R.r.R.\n..R..RRZZZRRr.R.\n..RPPRZZzZZRrrr.\n....RRRZZZRrRR..\n......RRRrrr....\n................\n"),
ti=J("\n...........0....\n..0........3....\n..53..0...55....\n...3..5...3....0\n.0.5..33..35...3\n.5.5...5...5.311\n33.33..53.33.3..\n5...5...3.5..1.0\n53..533.5.5.31.3\n.3....5.5.3.3.11\n.55...5.3.3.1.3.\n..3..33999331.3.\n..3553990993111.\n....3339993133..\n......333111....\n................\n"),ui=J("\n.......ssssss...\n.............s..\n.....sssssss..s.\n....s.......s.s.\n......s$$$$..s..\n.....$s$$$0$s...\n....$$s$$$$$....\n....$$Ss$$......\n...$$Ss..s......\n...s$S.s..s.....\n...$sss.........\n...$S...........\n...$Sss.........\n...SS...........\n....ss..........\n................\n"),
vi=J("\nts0:1\n.......rrrrrr...\n.............r..\n.....rrrrrrr..r.\n....r.......r.r.\n......rPPPP..r..\n.....PrPPP0Pr...\n....PPrPPPPP....\n....PPRrPP......\n...PPRr..r......\n...rPR.r..r.....\n...Prrr.........\n...PR...........\n...PRrr.........\n...RR...........\n....rr..........\n................\n"),wi=J("\n......X.........\n......X..X......\n....X.XXXX.X....\n....XXOOOOXX....\n..XXOOOOoOOOXX..\n...XOoOOOOOOX...\nXXXO0OOO0OoOoXXX\n.XXOOOOOOOOooXX.\n88847000OOO66888\n8887770777466888\n...8747476668...\n..887777464688..\n....88476688....\n....8.8888.8....\n......8..8......\n.........8......\n"),
xi=J("\n.........P......\n......P..P......\n....P.PPPP.P....\n....PPRRrrPP....\n..PPRRrRRRRRPP..\n...PRRRRRrRRP...\nPPPRxRrRxRRRrPPP\n.PPRRRRRRRrRRPP.\n88847xxxRRR66888\n888777x777664888\n...8777476468...\n..887477766688..\n....88746688....\n....8.8888.8....\n......8..8......\n.........8......\n"),yi=J("\n.........4......\n......4..4......\n....4.4444.4....\n....44221244....\n..442212222244..\n...4222221214...\n4442021202221444\n.44222222212244.\n8884700022266888\n8887770777664888\n...8777476668...\n..884777764688..\n....88764688....\n....8.8888.8....\n......8..8......\n.........8......\n"),
zi=J("\n................\n.........$$$&&&.\n.......$$$a&&900\n.....$$$aa&&000.\n....$$aa&000....\n...$$a&&00......\n...$a&&0........\n...$a&&.........\n...$a&&&........\n....$&&&&.......\n....$$&&&&......\n.....$$&&00.....\n..$$$aa&&00.....\n.$$aa00000......\n.0000...........\n................\n"),Ai=J("\n................\n.........XXXrrr.\n.......XXXRrr9pp\n.....XXXRRrrppp.\n....XXRRrppp....\n...XXRrrpp......\n...XRrrp........\n...XRrr.........\n...XRrrr........\n....Xrrrr.......\n....XXrrrr......\n.....XXrrpp.....\n..XXXRRrrpp.....\n.XXRRppppp......\n.pppp...........\n................\n"),
Bi=J("h0y:#dc0 h1y:#ff4 h0l:#cd0 h1l:#ef4\n................\n................\n.....KLKKLKK....\n....KLKKLKKLK...\n....ZZZZZZZKK...\n...Z0YYYYYYKL...\n..Z0Y0YYYYYYK..K\n..ZY0YYYYYYYy.LL\nZZYYYKKYYYYYYyKK\n.ZYYLLLYYYYYyyLL\nZZYYYKKYYYYyK.KK\n...yYYYYYyyyL..K\n....yyyyyyyKK...\n......KLKKLKK...\n........LKKL....\n................\n"),Ci=J("\n+:#e66\n................\n................\n.....rprrprr....\n....rprrprrpr...\n....PPPPPPPrr...\n...P0++++++rp...\n..P0+0++++++r..r\n..P+0+++++++R.pp\nPP+++rr++++++Rrr\n.P++ppp+++++RRpp\nPP+++rr++++Rr.rr\n...R++++++RRp..r\n....RRRRRRRrr...\n......rprrprr...\n........prrp....\n................\n"),
Di=J("\n................\n................\n................\n........R.......\n........Rr......\nr.......RrR.....\nRr....22Z22ZZZ..\n.Rr22Z00--00-0-.\n..--00-00-00--yy\n.rR-00-00-00yyy.\nrR.y00y00y00....\nR.......RrR.....\n........Rr......\n........R.......\n................\n................\n"),Hi=J("\n................\n................\n................\n........I.......\n........Ii......\ni.......IiI.....\nIi....22P22PPP..\n.Ii22P00++00+0+.\n..++00+00+00++rr\n.iI+00+00+00rrr.\niI.r00r00r00....\nI.......IiI.....\n........Ii......\n........I.......\n................\n................\n"),
Ii=J("\n................\n................\n................\n......5656......\n.66..65656.+++..\n5566.656999++++.\n6655.9999998+++.\n..6699999989808.\n..66999999898888\n6655.9999998888.\n5566.999988888..\n.66...988888....\n.......566......\n......656.......\n......56........\n................\n"),Ji=J("\n................\n................\n................\n......%s%s......\n.ss..s%s%s.+++..\n%%ss.s%s$$$++++.\nss%%.$$$$$$S+++.\n..ss$$$$$$S$S0S.\n..ss$$$$$$S$SSSS\nss%%.$$$$$$SSSS.\n%%ss.$$$$SSSSS..\n.ss...$SSSSS....\n.......%ss......\n......s%s.......\n......%s........\n................\n");function Ki(a,b,d,e){var f=(e?" "+e:"")+"\n";e=J("q:#d8a g:#dac G:#ecd Q:#fde"+f+b.trim());var g=J("q:#151 g:#292 G:#4c4 Q:#5f4"+f+b.trim()),h=J("q:#f30 g:#f70 G:#fa0 Q:#fe0"+f+b.trim()),k=J("q:#77f g:#99f G:#bbf Q:#eef"+f+b.trim()),l=J("q:#bb8 g:#dda G:#ffa Q:#ffe"+f+b.trim()),p=J("q:#b00 g:#d00 G:#f00 Q:#f55"+f+b.trim());b=J("q:#666 g:#888 G:#aaa Q:#fff"+f+b.trim());var q=J("q:#d8a g:#dac G:#ecd Q:#fde"+f+d.trim()),n=J("q:#151 g:#292 G:#4c4 Q:#5f4"+f+d.trim()),u=J("q:#f30 g:#f70 G:#fa0 Q:#fe0"+
f+d.trim()),x=J("q:#77f g:#99f G:#bbf Q:#eef"+f+d.trim()),y=J("q:#bb8 g:#dda G:#ffa Q:#ffe"+f+d.trim()),r=J("q:#b00 g:#d00 G:#f00 Q:#f55"+f+d.trim());d=J("q:#666 g:#888 G:#aaa Q:#fff"+f+d.trim());return[a,[e,g,h,k,l,p,b],[q,n,u,x,y,r,d]]}
var Li=[Ki("weathered tree","\n................\n................\n................\n................\n................\n................\n..........o...0.\nO..o..O.o..o.0..\n.Oo....o.0..o0..\n.Oo...xo..0.0...\n..Oo..x...0.0...\n...Ooo.x..00....\n...Oo...x.0.....\n...Ooo..o00.....\n....Oox.o0......\n....Oooxx0......\n","\n....Oooxx0......\n....Oo0xxx0.....\n....O0o0x0......\n....Oo0xx0......\n....Oooxx0......\n....Oooxx0......\n....Oooxx0......\n...Ooooxx0......\n...Ooooxx00.....\n..Oooxooxx00....\n.Oooxxxooxx00...\n................\n................\n................\n................\n................\n",
void 0),Ki("young sprout","\n................\n................\n................\n................\n................\n................\n................\n................\n................\n....Q...Qg......\n...Qg...gq.Qg...\n....q...o..Qq...\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n",
void 0),Ki("young sprout","\n................\n................\n................\n................\n................\n................\n................\n................\n....Q...Qg......\n...Qgg..Qq.Qg...\n...Qqg..gq.Qgq..\n....q...o..Qq...\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
Ki("young sprout","\n................\n................\n................\n................\n................\n................\n................\n................\n...QQ..QGg......\n..QGgq.QGq.QQg..\n..QGgq..qq.Qgq..\n....q...o..Qqq..\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
Ki("young sprout","\n................\n................\n................\n................\n................\n................\n........Qg......\n...QQ..QGg..Qg..\n..QQgq.QGq.QGgq.\n..QGgq.QGq.QGgq.\n..QGgq..qq.Qgq..\n....q...o..Qqq..\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
Ki("young tree","\n................\n................\n................\n................\n................\n...QG...........\n..QGg..QGg..QG..\n..Ggg..QGg..QG..\n...go.QGgg.QGGg.\n..QGg.QGgq.GGgq.\n..Ggq..gq..Ggq..\n....o..o...Gqq..\n....o..o...xx...\n.....ooo..xx....\n......ooxx......\n......oox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
Ki("young tree","\n................\n................\n................\n................\n................\n...QG....G..Q...\n..QGgg.QGg..QG..\n..Gggg.QGg.QQGg.\n...go.QGgg.QGGg.\n..QGg.QGgq.GGgq.\n..Ggq..gq..Ggqq.\n....o..o...Gqq..\n....o..o...xx...\n.....ooo..xx....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
Ki("young tree","\n................\n................\n................\n................\n...QG...G.......\n..QGGg.QGg..QG..\n.QGGgg.QGGgQGGG.\n..GgGg.GGggQGGG.\n..Qgg.QGgg.QGqG.\n..QGgqQGgqQGggq.\n..Ggq..gq.QGgq..\n....o..o...Gqq..\n....o..o...xx...\n.....ooo..xx....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
Ki("young tree","\n................\n................\n................\n...QGg..........\n..QGGGg.QG......\n..GGGggQggG.GG..\n..QGGgQQGGgQGGg.\n.QGGgqQgGgqQGGg.\n..QGgqQGgqqQGgq.\n..Ggq..gqqGGgq..\n...oo..oo..Gqq..\n....oo.oo..xx...\n.....oooo.xx....\n......ooxxx.....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
Ki("young tree","\n................\n................\n................\n...QGG...GGG....\n..QGGGg.QgGGG...\n..GgGggQGGgQGG..\n.QGGGgQGgGgQGGg.\n.QGGgqQGGgqQGGq.\n..QGgqQGgqqQGgq.\n..Ggq..gqqGGgq..\n...oo..oo.GGqq..\n....oo.oo..xx...\n.....oooo.xx....\n......ooxxx.....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
Ki("adult tree","\n................\n................\n....QGQQQGQ.....\n...GGQgGQQGG....\n..QGQGgQGGGGG...\n.QGQGgQGQGgQGq..\n.QGGQgQQGGQGGqq.\n.GQGgQGgGgqQgGq.\n.QGQggQQgqqGqgq.\n..GQqqQgqqQGgq..\n...QgGgogGgqqq..\n....qo.oo.Ggx...\n.....oooo.xx....\n.....oooxxx.....\n......ooxx......\n......ooxx......\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
Ki("adult tree","\n................\n........Q.......\n....QGQQGQQQ....\n...QGQGGGGGgq...\n..QGQQGQQgqgqq..\n..QGgQQgGqgqqq..\n.GQQGgGGgGqqGQG.\n.GQGGqQGggqQGGq.\n.QQGgqQqGqqGGqg.\n.QGQgqqGqqQgqgq.\n..Ggqq.gqQGqgq..\n..ooo..oxqQgqq..\n...ooo.ox..xxx..\n....oooox.xxx...\n.....oooxxxx....\n......ooxxx.....\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
Ki("adult tree","\n................\n........G.......\n..QGQQQggQgQ....\n.QGQGgQGgGGgggq.\nQQQgQQGGQggggqg.\nGgQGQgQgGqQqGQG.\nQGGQgGGGgGqQGGgq\nQQgGGqgGggQGgGqq\nGGQGGgggGqqGGggq\nQggQggqGqqQGgqqq\n.GQQggqgqQGgqgqq\n.Qggq..oxqQGgqq.\n.Qqqqo.ox..xxq..\n....oooox.xxx...\n.....oooxxxx....\n......ooxxx.....\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
Ki("adult tree","\n................\n...GQ...G...Qg..\n..QQQQQggQgQggq.\n.QGgGQGGgGGgggq.\nQGQgQGGGQgggqqg.\nGQQGggQgGqQqQQG.\nQGGggQGGgGqQGGqq\nQQgQGqgGggQGgqgq\nQGQGQgggGqqQGgqq\nQQgGggqGqqQGqqgq\n.GGgggqgqQGqGgqq\n.Qggq..oxqQGqqq.\n.Qqqqo.ox..xxq..\n....oooQg.xxx...\n.....oogqxxx....\n......ooxxx.....\n","\n......ooxxx.....\n......ooxxx.....\n......ooxxx.....\n......xooxx.....\n......oxoxx.....\n......xooxx.....\n......ooxxx.....\n.....oooxxx.....\n....ooxooxxx....\n...ooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("large tree","\n................\n......QQQGG.....\n...QQQgGgQgQ.g..\n.QGQGQGGgGGQQgq.\nQQQGQGGGQggggqg.\nGgQGggQgGqQqQQq.\nQGGggQGGgGqQGggq\nGQgQGqgGggQGgGqq\nQGQGQgggGqqGGggq\nQQgGggqGqqQGqgqq\n.GGgggqgqQGgGqqq\n.Qggq.ox.qQGqqq.\n.Qqqq.ox.ox.xq..\n..oox.oQgqx.xx..\n...ooxQGgqxxx...\n....oooqqxxx....\n","\n.....oooxxx.....\n.....oooxxx.....\n.....oooxxx.....\n.....oxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("large tree","\n................\n...QG.QQQGG.Q...\n.QGGQQgGgQgGGgq.\n.QQQGgGGgGGgGgq.\nQQgQQGGGQggqgqg.\nGgQGggQgGqQqQQG.\nQQGggQGGgGqQGGqq\nQGgGGqgGggQGgGgq\nGQGGQgggGqQGGgqq\nQggGggqGqqQGqqgq\n.QGgggqgqQGGGgqq\n.Qggq.ox.qQqqqq.\n.Qqqq.ox.ox.xqG.\n.Qoox.oQgqx.xGg.\n.GGooxQGgqxxxggq\n....oooqqxxx..q.\n","\n.....oooxxx.....\n.....oooxxx.....\n.....oooxxx.....\n.....oxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("grand tree","\n................\n..QQQ..QQGGQQ...\n.QgQgQgGgQgQGG..\n.GqgQgGGgGGQGGq.\nQGQqqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGggQGGgGqQGGqq\nQGgGGqgGggQGgGgq\nQQQGGQggGqqGGgqq\nQggGggqGqqQGgqqq\n.GGgggqgqQGGqgqq\n..ggq.ox.qQGgqq.\n..Qqq.ox.ox.QQ..\n.QGgx.oQgqxQQGq.\n..GgqxQGgqxxGGq.\n...qqooqqxxxgq..\n","\n..Q..oooxxx.....\n.QGg.oooxxx.....\n.Ggqooooxxx.....\n..q.ooxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("grand tree","\n................\n..QgQ.QQQGGQQ...\n.QgQQqgGgQgQGG..\n.QQgqgGGgGGQGGq.\n.QgQqGGGQggggqq.\nGqqGggQgGqQqQQG.\nQQGggQGGgGqQGGgq\nQQQGGqgGggQGgGgq\nQGGGQgggGqqGGgqq\nQQgGggqGqqQGgqgq\n.GGgggqgqQGGGqqq\n.Qggq.ox.qQqqqq.\n.QQqq.ox.ox.QGQ.\n.QGgx.oQgqxGQGG.\n..GgqxQGgqxxGGq.\n..qqqooqqxxxg...\n","\n.Q...oooxxx.....\nQGg..oooxxx.....\nGgqoooooxxx.....\n.q..ooxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("curly tree","\n................\n..QgQ.QQQGGQQ...\n.QgQgqgGgQgQGG..\n.QQgQQGGgGGQGGq.\n.QgQqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGggQGGgGqQGGqq\nQGQGGqgGggQGgGgq\nQQGGQgggGqqGGqqq\nQggGggqGqqQGgqgq\n.QGgggqgqQGGqgqq\n.Qggq.ox.qQGqqq.\n.QQqq.ox.ox.QQQ.\n.QGgx.oQgqxQGgG.\n..GgqxQGgqxxgqq.\n..qqqooqqxxxq...\n","\n.Q...xoooxxx....\nQGg...xoooxx....\nGgqooxoooxx.....\n.q..ooooxx......\n.....xoooxx.....\n......xoooxx....\n.....xoooxxx....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("curly tree","\n................\n..QgQ.QQQGGQQ...\n.QgQgqgGgQgQGG..\n.QQQQgGGgGGQGGq.\n.GgGqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGQgQGGgGqQGGqq\nQQgGGqgGggQGgGqq\nQGGGQgggGqqGGggq\nQQgGggqGqqQGgqqq\n.GGgggqgqQGGqgqq\n.Qggq.ox.qQGqqq.\n.QQqq.ox.ox.QQG.\n.QGgx.oQgqxQgGg.\n..GgqxQGgqxxGgq.\n..qqqooqqxxxq...\n","\n.Q...xoooxxx....\nQGg...xoooxx..Q.\nGgqooxoooxx..Qgq\n.q..ooooxx...gq.\n.....xoooxx.xx..\n......xoooxxx...\n.....xoooxxx....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("hollow tree","\n................\n..QgQ.QQQGGQQ...\n.QgQQqgGgQgQGG..\n.QQgqgGGgGGQGGq.\n.GgGqGGGQggggqq.\nGQQGggQgGqQqQQG.\nQGGggQGGgGqQGGgq\nQQgGGqgGggQGgGqq\nQQGGQgggGqqGGggq\nQggGggqGqqQGgqqq\n.GGgggqgqQGGGgqq\n.Qggq.ox.qQGqqq.\n.QQqq.ox.ox.QQQ.\n.QGgx.oQgqxQGGg.\n..GgqxQGgqxxGgq.\n..qqqooqqxxxq...\n","\n.Q...oooxxxx....\nQGg.oooxxxxxx...\nGgqooox..oxxx...\n.q..ox....oxx...\n...oox....oxx...\n...ooxx..oxx....\n....ooxooxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("hollow tree","\n................\n..QQg.QQQGGQQ...\n.QgGQqgGgQgQGG..\n.QqQqgGGgGGQGGq.\n.GgGqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGggQGGgGqQGGgq\nQGgGGqgGggQGgGqq\nQQGGQgggGqqGGgqq\nQggGggqGqqQGgqgq\n.GGgggqgqQGGGgqq\n.Qggq.ox.qQqqqq.\n.QQqq.ox.ox.QQQ.\n.QGgx.oQgqxQQGq.\n..GgqxQGgqxxGqg.\n..qqqooqqxxxg...\n","\n.Q...oooxxxx....\nQGg..ooxxxox.Q..\n.Gg.oooxx.oxQGg.\n..ooooxx..ox.xg.\n...oooxx.oxxx...\n....ooxxxox.....\n....oooxxxx.....\n....oooooxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Ki("massive tree","\n................\n..QQg.QQQGGQQ...\n.QgGQqgGgQgQGG..\n.QQgqgGGgGGQGGq.\n.GQQqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGggQGGgGqQGGgq\nQGgGGqgGggQGgGqq\nQGGGQgggGqqGGggq\nQggGggqGqqQGgqgq\n.GGgggqgqQGGGqqq\n.Qggq.ox.qQqgqq.\n.QQqq.ox.ox.QQQ.\n.QGgx.oQgqxQQGq.\n..GgqxQGgqxxGqg.\n..qqqooqqxxxq...\n","\n....Oooooxxx....\n.....Ooooxxx....\n.....Oooxxxx....\n.....Ooooxxx....\n....Ooooxoxx....\n....OOoxxoxx0...\n....Oooooxx00...\n...Oooooxxxx0...\n..Ooooxooxx000..\n.Ooooxxxoxxx000.\n................\n................\n................\n................\n................\n................\n"),
Ki("zinc tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#999"),Ki("bronze tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#f80"),Ki("silver tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#fff"),Ki("electrum tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#bf6"),Ki("gold tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#ff0"),Ki("platinum tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#eee O:#ddd o:#ccc x:#bbb"),Ki("rhodium tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fee O:#ecc o:#dbb x:#caa"),Ki("amethyst tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#a5f"),Ki("sapphire tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#00f"),Ki("emerald tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#0c0"),Ki("ruby tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#c00"),Ki("diamond tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqq...\n.QGG.OOoXOoqo...\n.GGgg.XOoQg..o..\nQGgqg.Oo.gq.o...\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XO..OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOogox..\n.gXOQGgqooQgg...\n...XOqqOooggq...\n","\n....XXOOoox.....\n..... XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XXOoxx.....\n....XXOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fff O:#eee o:#ddd x:#ccc"),Ki("magnificent tree","\n................\n......QQQGG.....\n...GQQgGgQgQ.g..\n.QQgGgGGgGGQQgq.\nQGgQQGGGQggggqg.\nQQQGggQgGqQqQQG.\nQQGggQGGgGqQGGqq\nQGgGGqgGggQGgGgq\nQQGGQgggGqqGGqqq\nQggGggqGqqQGgggq\n.GGgggqgqQGGqqqq\n.Qggq.ox.qQqgqq.\n.Qqqq.ox.ox.xq..\n..oox.oQgqx.xx..\n...ooxQGgqxxx...\n....oooqqxxx....\n","\n.Q...oooxxx.....\nQGg..oooxxx.....\nGgqoooooxxx.....\n.q..ooxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n")],
Mi=J("\n........000.....\n.......0aaa00...\n..00000aAaAaa...\n.0aaaaaAaAaaaa..\n0aaaaaaaaaaaaA..\n0aAaAaaaaaaaAa..\n0AaAaaaAaAaaaa..\n0aaaaaAaAaAaa...\n.aaaaaaAaAaaa0..\n.aaaaaaaaaaaaA..\n0aaAaAaaaaaaAa0.\n0aAaAaaaAaAaaaa.\n.aaaaaaAaAaaaa..\n.....aaaa.......\n.....0aa........\n................\n"),Ni=Vc(Uc(vd[0],Mi));var Oi="zinc bronze silver electrum gold platinum rhodium amethyst sapphire emerald ruby diamond".split(" "),Pi="#444 #840 #888 #af5 #ff0 #ddd #fdd #b6f #00f #0c4 #f00 #fff".split(" "),Qi="#000 #420 #666 #7a3 #bb0 #aaa #a88 #95a #00a #092 #a00 #eee".split(" "),Ri=[J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#999\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#c70\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#fff\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#dfb\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#ff0\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 N:#fff M:#eee m:#ddd n:#ccc\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 N:#fee M:#ecc m:#dbb n:#caa\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#95f\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#00f\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),
J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#0f0\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),J("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#f00\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n")],
Si=[J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#999\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#c70\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#fff\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#dfb\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#ff0\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#95f\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#00f\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#0f0\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#f00\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),J("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n")],
Ti=J("\n................\n................\n.ZZZZZZZZZZZZZZ.\n.ZXXXXXXXXXXXrZ.\n.ZXOOOOOOOOOOrZ.\n.ZXOOOOOOOOOOrZ.\n.ZXrrrrOOrrrrrZ.\n.ZZZZZXOOrZZZZZ.\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZrrrrZ.....\n.....ZZZZZZ.....\n................\n"),Ui=J("\n................\n........cc......\n.......c))c.....\n..cc...c)c(.....\n.c))c..c)c(.....\nc)))cc.c)c(..cc.\nc)c)c(.c)(..c)cc\ncc.cc(.cc(.c)c((\n...cc(..(..cc(.(\n...c(...(..c(...\n................\n.cccccccccc((((.\n..cCCCCCccccc(..\n...ccccccc(((...\n..cCCCCCCcccc(..\n.cccccccccc((((.\n");var Vi=J("\n................\n................\n................\n................\n......xxx.......\n....xx0000......\n...x0000xxo.....\n...x00xxxxxo....\n..x00xxxxxxxo...\n..x00xxxxxxxo...\n..x0xxxxxxxo....\n...xxxxxxxo.....\n....oooooo......\n................\n................\n................\n"),Wi=J("\n................\n................\n................\n..$$$$$...$$$$..\n.$SSSSS%.$SSSS%.\n$SS%%sS%$SS%%SS%\n$S%..s%%$S%..$S%\n$S%.....$S%..$S%\n$S%.$$$%$S%..$S%\n$S%.$SS%$S%..$S%\n$S%..sS%$S%..$S%\n$SS%%%S%$SS$$SS%\n.sSSSSS%.sSSSS%.\n..%%%%%...%%%%..\n................\n................\n"),
Xi=J("\n9:#fff8 8:#fff4\n8999999999999998\n9999999999999999\n9RRR9RRR9R9R9RR9\n9R999R9r9RRr9R99\n9R9r9Rrr9R9r9Rr9\n9r9p9r9p9r9p9r99\n9rpp9r9p9r9p9rp9\n9999999999999999\n9999999999999999\n99R99R9R9RR9RRR9\n9R9r9R9r9R99R9r9\n9R9p9R9p9Rr9Rr99\n9r9p9r9p9r99r9p9\n99p999p99rp9r9p9\n9999999999999999\n8999999999999998\n");function Yi(a){var b=J(a);a=Wc(a);var d=J(a);a=Wc(a);var e=J(a);a=Wc(a);a=J(a);return[b,d,e,a]}
var Zi=J("\n................\n................\n.....oOoo.......\n....oooooo......\n...ooOooOoo.....\n..OoooooooOo....\n..ooOoooooooo...\n..ooooOooOooo...\n..oOoooooooOo...\n..oooOoOooooo...\n..OooooooOoOo...\n...oooOooooo....\n....oOooOoo.....\n................\n................\n................\n"),$i=J("\n................\n................\n.....0300.......\n....000000......\n...00300300.....\n..3000000030....\n..00300000000...\n..00003003000...\n..03000000030...\n..00030300000...\n..30000003030...\n...000300000....\n....0300300.....\n................\n................\n................\n"),
aj=J("\n................\n................\n..0.....030030..\n.030....00000...\n00000..00.......\n00.03..3........\n....00....00030.\n.........300300.\n............00..\n....000.0.......\n...000..00......\n..0000..300.....\n..030....03.....\n.030.....000....\n..00......00....\n................\n"),bj=J("\n................\n................\n.....hHhh.......\n....hhhhhh......\n...hhHhhHhh.....\n..HhhhhhhhHh....\n..hhHhhhhhhhh...\n..hhhhHhhHhhh...\n..hHhhhhhhhHh...\n..hhhHhHhhhhh...\n..HhhhhhhHhHh...\n...hhhHhhhhh....\n....hHhhHhh.....\n................\n................\n................\n"),
cj=Yi("\n...2........2...\n...2........2...\n....22.22.22....\n..2...2222...2..\n..2...0220...2..\n...2..2222..2...\n....22.22.22....\n......2222......\n...2220220222...\n..2...2002...2..\n....22.22.22....\n...2..2222..2...\n..2..022220..2..\n..2..200002..2..\n......2222......\n.......22.......\n"),dj=Yi("\n...s........s...\n...s........s...\n....ss.ss.ss....\n..s...ssss...s..\n..s...+ss+...s..\n...s..ssss..s...\n....ss.ss.ss....\n......ssss......\n...sss%ss%sss...\n..s...s%%s...s..\n....ss.ss.ss....\n...s..ssss..s...\n..s..%ssss%..s..\n..s..s%%%%s..s..\n......ssss......\n.......ss.......\n"),
ej=Yi("\n......0..0......\n...0.000000.0...\n....00022000....\n0..0400220020..0\n.004yhh22222000.\n..0yhh22222000..\n...0000000000...\n.00444h22222000.\n0.044hh2222200.0\n0.0hhhh2222200.0\n0.0hhhhh222000.0\n...0yhhh22200...\n..00yhhh222000..\n.0.0yhh222000.0.\n.0..00h22000..0.\n0.....0000.....0\n"),fj=Yi("\n................\no.0.o......o.0.o\n.000..o.0.o.000.\noxxxo..000.oxxxo\n.xxx..oxxxo.xxx.\n.o.o...xxx..o.o.\no...o..o.o.o...o\n......o...o.....\n.o.0.o..........\n..000..o.0.o....\n.oxxxo..000o.0.o\n..xxx..oxxx.000.\n..o.o...xxxoxxxo\n.o...o..o.ooxxx.\n.......o...oo.o.\n...........o...o\n"),
gj=Yi("\n..........P.R.P.\n....P.R.P..RRR..\nP.R.PRRR..PrrrP.\n.RRR.rrrP..rrr..\nPrrrPrrr...P.P..\n.rrrPP.P..P...P.\n.P.PP...P.......\nP...P...........\n................\nP.R.P....P.P.R.P\n.RRR.P.R.P..RRR.\nPrrrP.RRR..PrrrP\n.rrr.PrrrP..rrr.\n.P.P..rrr...P.P.\n.P..P.P.P..P...P\n......P..P......\n"),hj=Yi("\n.h.#.h..........\n..###..h.#.h....\n.hHHHh..###h.#.h\n..HHH..hHHH.###.\n..h.h...HHHhHHHh\n.h...h..h.hhHHH.\n.......h...hh.h.\n...........h...h\n................\nh.#.h.h...h..#.h\n.###..h.#.h.###.\nhHHHh..###.hHHHh\n.HHH..hHHHh.HHH.\n.h.h...HHH..h.h.\nh...h..h.h.h..h.\n......h..h......\n"),
ij=Yi("\n...x.......x....\n....x.....x.....\n.....x...x......\n.x...xxxxx...x..\n..x..x0o0x..x...\n..x.xxoooxx.x...\n...xxOxxxoxx....\n....xOoooox.....\n..x.xOoooox.x...\n.x.xxOooooxx.x..\nx...xOoooox...x.\nx.xxxOooooxxx.x.\nx.x..xOoox..x.x.\nx.x..xOoox..x...\n..x..xOoox..x...\n.x....xxx....x..\n"),jj=Yi("\n...Z........Z...\n...Z........Z...\n....ZZ.ZZ.ZZ....\n..Z...ZZZZ...Z..\n..Z...YZZY...Z..\n...Z..ZZZZ..Z...\n....ZZ.ZZ.ZZ....\n......ZZZZ......\n...ZZZYZZYZZZ...\n..Z...ZYYZ...Z..\n....ZZ.ZZ.ZZ....\n...Z..ZZZZ..Z...\n..Z..YZZZZY..Z..\n..Z..ZYYYYZ..Z..\n......ZZZZ......\n.......ZZ.......\n"),
kj=Yi("\n.....|....|.....\n......|..|......\n......||||......\n...|.|0Hh|0.|...\n...|.00Hh00.|...\n.|..|hHHhh||..|.\n..|||hHHhh||||..\n.....hHHhh|.....\n...||hHHhh|||...\n..|HHhHHhh|HH|..\n.|H||hHHhh|||H|.\n.||..hHHhh|..||.\n.|....hHh|....|.\n..|...hHh|...|..\n...|..hHh|..|...\n...|...h|...|...\n"),lj=se("\n................\n................\n................\n................\n................\n.......22.......\n......2220......\n.....232210.....\n.....232210.....\n......2320......\n.......00.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n................\n................\n................\n................\n.......22.......\n......2220......\n.....232210.....\n.....232210.....\n......2320......\n.......00.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n................\n................\n................\n................\n.......22.......\n......2220......\n.....232210.....\n.....232210.....\n......2320......\n.......00.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n................\n................\n................\n................\n.......22.......\n......2220......\n.....232210.....\n.....232210.....\n......2320......\n.......00.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n................\n................\n................\n................\n.......22.......\n......2220......\n.....232210.....\n.....232210.....\n......2320......\n.......00.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n"),
mj=Vc(Wg(lj[4])),nj=[mj,mj,mj,mj,mj],oj=se("\n................\n........22......\n.......2552.....\n..22...2530.....\n.2552..2530.....\n255532.2530..22.\n252530.250..2532\n22.230.230.25300\n...230..0..230.0\n...20...0..20...\n................\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n........22......\n.......2552.....\n..22...2530.....\n.2552..2530.....\n255532.2530..22.\n252530.250..2532\n22.230.230.25300\n...230..0..230.0\n...20...0..20...\n................\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n........22......\n.......2552.....\n..22...2530.....\n.2552..2530.....\n255532.2530..22.\n252530.250..2532\n22.230.230.25300\n...230..0..230.0\n...20...0..20...\n................\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n........22......\n.......2552.....\n..22...2530.....\n.2552..2530.....\n255532.2530..22.\n252530.250..2532\n22.230.230.25300\n...230..0..230.0\n...20...0..20...\n................\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n........22......\n.......2552.....\n..22...2530.....\n.2552..2530.....\n255532.2530..22.\n252530.250..2532\n22.230.230.25300\n...230..0..230.0\n...20...0..20...\n................\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n"),pj=Vc(Wg(oj[4])),qj=[pj,pj,pj,pj,pj],rj=se("\n................\n..........221...\n...44444...11...\n....3...2.1.1...\n.....3...2......\n......3.1.2.....\n.......1...1....\n......1.3..1....\n....21...3.1....\n....11....31....\n...........3....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n..........221...\n...44444...11...\n....3...2.1.1...\n.....3...2......\n......3.1.2.....\n.......1...1....\n......1.3..1....\n....21...3.1....\n....11....31....\n...........3....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n..........221...\n...44444...11...\n....3...2.1.1...\n.....3...2......\n......3.1.2.....\n.......1...1....\n......1.3..1....\n....21...3.1....\n....11....31....\n...........3....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n..........221...\n...44444...11...\n....3...2.1.1...\n.....3...2......\n......3.1.2.....\n.......1...1....\n......1.3..1....\n....21...3.1....\n....11....31....\n...........3....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n..........221...\n...44444...11...\n....3...2.1.1...\n.....3...2......\n......3.1.2.....\n.......1...1....\n......1.3..1....\n....21...3.1....\n....11....31....\n...........3....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n"),
sj=Vc(Wg(rj[4])),tj=[sj,sj,sj,sj,sj],uj=se("\n................\n.......11.......\n......2321......\n......2321......\n.....233211.....\n.....232211.....\n.....232211.....\n.....232210.....\n.....233210.....\n......2320......\n.......20.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n.......11.......\n......2321......\n......2321......\n.....233211.....\n.....232211.....\n.....232211.....\n.....232210.....\n.....233210.....\n......2320......\n.......20.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n.......11.......\n......2321......\n......2321......\n.....233211.....\n.....232211.....\n.....232211.....\n.....232210.....\n.....233210.....\n......2320......\n.......20.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n.......11.......\n......2321......\n......2321......\n.....233211.....\n.....232211.....\n.....232211.....\n.....232210.....\n.....233210.....\n......2320......\n.......20.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n.......11.......\n......2321......\n......2321......\n.....233211.....\n.....232211.....\n.....232211.....\n.....232210.....\n.....233210.....\n......2320......\n.......20.......\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n"),vj=Vc(Wg(uj[4])),wj=[vj,vj,vj,vj,vj],xj=se("\n................\n.............00.\n...5555......00.\n..533334....0...\n.53322330...0...\n.53233230...00..\n.53233230..5331.\n.53323230.53301.\n..433323355331..\n...0223333331...\n....11111111....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n.............00.\n...5555......00.\n..533334....0...\n.53322330...0...\n.53233230...00..\n.53233230..5331.\n.53323230.53301.\n..433323355331..\n...0223333331...\n....11111111....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n.............00.\n...5555......00.\n..533334....0...\n.53322330...0...\n.53233230...00..\n.53233230..5331.\n.53323230.53301.\n..433323355331..\n...0223333331...\n....11111111....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n................\n.............00.\n...5555......00.\n..533334....0...\n.53322330...0...\n.53233230...00..\n.53233230..5331.\n.53323230.53301.\n..433323355331..\n...0223333331...\n....11111111....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n................\n.............00.\n...5555......00.\n..533334....0...\n.53322330...0...\n.53233230...00..\n.53233230..5331.\n.53323230.53301.\n..433323355331..\n...0223333331...\n....11111111....\n.33332222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n"),
yj=Vc(Wg(xj[4])),zj=[yj,yj,yj,yj,yj],Aj=se("\n........1.......\n......11111.....\n.....1..1..1....\n....1...1...1...\n....1.......1...\n...1111.1.1111..\n....1.......1...\n....1...1...1...\n.....1..1..1....\n......11111.....\n........1.......\n.33322222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n........1.......\n......11111.....\n.....1..1..1....\n....1...1...1...\n....1.......1...\n...1111.1.1111..\n....1.......1...\n....1...1...1...\n.....1..1..1....\n......11111.....\n........1.......\n.33322222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n........1.......\n......11111.....\n.....1..1..1....\n....1...1...1...\n....1.......1...\n...1111.1.1111..\n....1.......1...\n....1...1...1...\n.....1..1..1....\n......11111.....\n........1.......\n.33322222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n","\n........1.......\n......11111.....\n.....1..1..1....\n....1...1...1...\n....1.......1...\n...1111.1.1111..\n....1.......1...\n....1...1...1...\n.....1..1..1....\n......11111.....\n........1.......\n.33322222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n",
"\n........1.......\n......11111.....\n.....1..1..1....\n....1...1...1...\n....1.......1...\n...1111.1.1111..\n....1.......1...\n....1...1...1...\n.....1..1..1....\n......11111.....\n........1.......\n.33322222220000.\n..344444333330..\n...3322222000...\n..344444433330..\n.33322222220000.\n"),Bj=Vc(Wg(Aj[4])),Cj=[Bj,Bj,Bj,Bj,Bj];function c(a,b){if(!(this instanceof c))return new c(a,b);a instanceof c?(this.A=a.A,this.e=a.e):void 0==a||0==a&&void 0==b?this.e=this.A=0:(this.A=a,this.e=void 0==b?0:b,Dj(this))}function Ej(a,b){void 0==b&&(b=0);b*=Fj;var d=Math.floor(b);a*=Math.pow(2,b-d);return new c(a,d)}aa=c.prototype;aa.clone=function(){return new c(this)};aa.reset=function(){this.e=this.A=0};
function Gj(a){if(0!=a.e)if(isNaN(a.e))a.A=NaN,a.e=0;else if(Infinity==a.e)a.A=0==a.A?NaN:0>a.A?-Infinity:Infinity,a.e=0;else if(9007199254740992<a.e)isNaN(a.A)||(a.A=0==a.A?0:0>a.A?-Infinity:Infinity),a.e=0;else if(-9007199254740992>a.e)isNaN(a.A)||(a.A=0),a.e=0;else if(!Number.isInteger(a.e)){var b=Math.floor(a.e);a.A*=Math.pow(2,a.e-b);a.e=b}}
function Hj(a,b){if(0==a.A)a.e=b;else{Gj(a);var d=a.e-b,e=1/256,f=1/4294967296;if(1023<d)a.e=b,a.A=Infinity;else if(-1074>d)a.e=b,a.A=0;else{for(;32<=d;)d-=32,a.e-=32,a.A*=4294967296;for(;8<=d;)d-=8,a.e-=8,a.A*=256;for(;1<=d;)--d,--a.e,a.A*=2;for(;-32>=d;)d+=32,a.e+=32,a.A*=f;for(;-8>=d;)d+=8,a.e+=8,a.A*=e;for(;-1>=d;)d+=1,a.e+=1,a.A*=.5}}}function Ij(a,b){a=new c(a);Hj(a,b);return a}
function Dj(a){if(0==a.A&&9007199254740992>=a.e&&-9007199254740992<=a.e)a.e=0;else if(1!=a.A||0!=a.e)if(Gj(a),0==a.A||Infinity==a.A||-Infinity==a.A||isNaN(a.A))a.e=0;else{var b=0>a.A;b&&(a.A=-a.A);for(var d=1/256,e=1/4294967296;a.A<=e;)a.A*=4294967296,a.e-=32;for(;a.A<=d;)a.A*=256,a.e-=8;for(;.5>=a.A;)a.A*=2,a.e--;for(;4294967296<=a.A;)a.A*=e,a.e+=32;for(;256<=a.A;)a.A*=d,a.e+=8;for(;2<=a.A;)a.A*=.5,a.e++;b&&(a.A=-a.A)}}
aa.u=function(a){if(Zb(a,0))return this;this.e>a.e?a=Ij(a,this.e):Hj(this,a.e);this.A+=a.A;Dj(this);return this};aa.add=function(a){var b=new c(this);b.u(a);return b};aa.mb=function(a){return this.u(new c(a))};aa.L=function(a){var b=new c(this);b.mb(a);return b};aa.wa=function(a){if(Zb(a,0))return this;this.e>a.e?a=Ij(a,this.e):Hj(this,a.e);this.A-=a.A;Dj(this);return this};aa.sub=function(a){var b=new c(this);b.wa(a);return b};function Jj(a,b){return(new c(a)).wa(new c(b))}
function Lj(a){a=new c(a);a.A=-a.A;return a.mb(1)}aa.Kd=function(){this.A=-this.A};aa.Lc=function(){var a=new c(this);a.Kd();return a};aa.l=function(a){this.A*=a.A;this.e+=a.e;Dj(this)};aa.sa=function(a){var b=new c(this);b.l(a);return b};aa.Na=function(a){this.A*=a;Dj(this)};aa.i=function(a){var b=new c(this);b.Na(a);return b};aa.ki=function(a){ac(this,0)||(this.A*=a.A,this.e+=a.e,Dj(this))};aa.Gc=function(a){this.A/=a.A;this.e-=a.e;Dj(this)};aa.a=function(a){var b=new c(this);b.Gc(a);return b};
function Mj(a){var b=new c(1);b.Gc(a);return b}aa.Dl=function(a){this.A/=a;Dj(this)};aa.ub=function(a){var b=new c(this);b.Dl(a);return b};aa.abs=function(){var a=new c(this);0>a.A&&(a.A=-a.A);return a};aa.sqrt=function(){var a=new c(this);if(0>a.A)a.A=a.e=NaN;else{var b=a.e/2,d=Math.trunc(b);a.A=Math.sqrt(a.A)*Math.pow(2,b-d);a.e=d;Dj(a)}return a};function Nj(a,b){0>a.A&&b!=Math.floor(b)?a.A=a.e=NaN:Oj(a,new c(b))}function Pj(a,b){a=new c(a);Nj(a,b);return a}function Qj(a,b){return Pj(a,b)}
function Rj(a){return Pj(c(1E3),a)}function Sj(a,b){if(0==b)Ub(a,0)?new c(0):ac(a,0)?new c(Infinity):new c(1);else{Hj(a,0);a.e=a.A;a.A=1;if(2!=b){b=Math.log(b)/Tj*a.e;var d=Math.floor(b);a.e=d;a.A*=Math.pow(2,b-d)}Dj(a)}}function Uj(a,b){b=new c(b);Sj(b,a);return b}function Oj(a,b){Zb(a,0)?Ub(b,0)?new c(0):ac(b,0)?new c(Infinity):new c(1):(b=b.i(Wj(a)).exp(),a.A=b.A,a.e=b.e)}aa.pow=function(a){var b=new c(this);Oj(b,a);return b};function Xj(a,b){return a.pow(b)}
aa.exp=function(){var a=new c(this);Sj(a,Math.E);return a};aa.log2=function(){var a=this.e;a+=Math.log2(this.A);return new c(a)};function Yj(a){var b=a.e*Zj;return b+=Math.log10(a.A)}aa.log10=function(){return new c(Yj(this))};function Wj(a){var b=a.e*Tj;return b+=Math.log(a.A)}aa.log=function(){return new c(Wj(this))};function ak(a,b){b=1/Math.log(b);var d=a.e*Tj*b;return d+=Math.log(a.A)*b}aa.ba=function(a){return Zb(a,0)?0<this.A&&!isNaN(this.e):Zb(this,0)?0>=a.A&&!isNaN(a.e):this.A>Ij(a,this.e).A};
aa.Ma=function(a){return Zb(a,0)?0<=this.A&&!isNaN(this.e):Zb(this,0)?0>a.A&&!isNaN(a.e):this.A>=Ij(a,this.e).A};aa.Ub=function(a){return Zb(a,0)?Zb(this,0):this.A==Ij(a,this.e).A};aa.ka=function(a){return Zb(a,0)?0>this.A&&!isNaN(this.e):Zb(this,0)?0<=a.A&&!isNaN(a.e):this.A<Ij(a,this.e).A};aa.Sa=function(a){return Zb(a,0)?0>=this.A&&!isNaN(this.e):Zb(this,0)?0<a.A&&!isNaN(a.e):this.A<=Ij(a,this.e).A};aa.Eb=function(a){return!this.Ub(a)};function Zb(a,b){return 0==b?0==a.A:b==Ij(a,0).A}
aa.J=function(a){return 0==a?0!=this.A:a!=Ij(this,0).A};function Ub(a,b){return 0==b?0<a.A:a.ba(new c(b))}aa.ib=function(a){return 0==a?0<=this.A:this.Ma(new c(a))};function ac(a,b){return 0==b?0>a.A:a.ka(new c(b))}aa.ec=function(a){return 0==a?0>=this.A:this.Sa(new c(a))};aa.Wk=c.prototype.Sa;aa.Xk=c.prototype.ec;aa.mj=c.prototype.Ma;aa.mf=c.prototype.ib;function Xb(a,b){return new c(a.ba(b)?a:b)}function Yb(a,b){return new c(a.ka(b)?a:b)}
function bk(a,b){if(Zb(a,0)!=Zb(b,0)||Ub(a,0)!=Ub(b,0))return!1;var d=a.i(.002);return b.ka(a.sub(d))||b.ba(a.add(d))?!1:!0}aa.isNaN=function(){return isNaN(this.A)||isNaN(this.e)};function ck(a){return isNaN(a.A)||isNaN(a.e)||Infinity==a.A||Infinity==a.e||-Infinity==a.A||-Infinity==a.e}var Zj=.30102999566398114,Fj=1/Zj,Tj=.6931471805599453,dk=[],ek=[],fk=0,gk=fk;dk[fk]="latin suffixes";ek[fk]="Latin suffixes for large numbers, such as T for trillion, Qa for quadrillion, V for vigintillion, ...";
fk++;var hk=fk;dk[fk]="suffixes up to T, then eng";ek[fk]="Latin suffixes, but only up to T (trillion, 1e12), then switches to engineering notation";fk++;var ik=fk;dk[fk]="suffixes up to U, then eng";ek[fk]="Latin suffixes, but only up to U (undecillion, 1e36), then switches to engineering notation";fk++;var jk=fk;dk[fk]="suffixes SI";ek[fk]="SI suffixes, such as K for kilo (1000), G for giga (1e9), up to Y for yotta (1e24). For larger numbers switches to engineering notation";fk++;var kk=fk;
dk[fk]="suffixes abc";ek[fk]="abc suffixes, 1a for 1000, 1b for 1000000, 1aa for 1e81, etc...";fk++;var lk=fk;dk[fk]="engineering";ek[fk]="Use exponent notation, and the exponents are always multiples of 3. E.g. 10e6 for 10 million";fk++;var mk=fk;dk[fk]="scientific";ek[fk]="Always uses exponents, such as 2e4 for 20000 (4 zeroes)";fk++;var nk=fk;dk[fk]="logarithm";ek[fk]="Uses the base-10 logarithm";fk++;var ok=fk;dk[fk]="natural";ek[fk]="Uses the natural logarithm with e = 2.71828...";fk++;
var pk=fk;dk[fk]="hexadecimal";ek[fk]="Uses base 16";fk++;var qk=fk;dk[fk]="full";ek[fk]="Prints value with all digits, switches to scientific once unreasonably big";fk++;var rk=fk;dk[fk]="suffixes up to T, then sci";ek[fk]="Latin suffixes, but only up to T (trillion, 1e12), then switches to scientific notation";fk++;var sk=fk;dk[fk]="suffixes up to U, then sci";ek[fk]="Latin suffixes, but only up to U (undecillion, 1e36), then switches to scientific notation";fk++;dk[fk]="suffixes SI";ek[fk]="SI suffixes, such as K for kilo (1000), G for giga (1e9), up to Y for yotta (1e24). For larger numbers switches to scientific notation";
fk++;for(var tk=gk,uk=3,vk="K M B T Qa Qi Sx Sp Oc N".split(" "),wk=" U Du T Qa Qi Sx Sp Oc N".split(" "),xk=" U D T Qa Qi Sx Sp Oc N".split(" "),yk=" D V Tg Qr Qq Sa Su Oa Na".split(" "),zk=" De V Tg Qr Qq Sa Su Oa Na".split(" "),Ak=" C DC TC QC QG SC SG OG NG".split(" "),Bk=[],Ck=[],Dk=[],Ek=0;10>Ek;Ek++)for(var Fk=0;10>Fk;Fk++)for(var Gk=0;10>Gk;Gk++){var Hk=Ak[Ek];Hk+=0==Ek&&0==Fk?vk[Gk]:0==Ek?xk[Gk]:wk[Gk];if(0!=Ek||1!=Gk||1!=Fk)Hk+=0==Ek?yk[Fk]:zk[Fk];Bk.push(Hk)}
for(Ek=0;10>Ek;Ek++)for(Fk=0;10>Fk;Fk++)for(Gk=0;10>Gk;Gk++)Hk=Ak[Ek],Hk+=0==Fk?wk[Gk]:xk[Gk],Hk+=0==Gk?zk[Fk]:yk[Fk],Ck.push(Hk),Dk.push("U"==Hk?"":Hk);function Ik(a){if(!(3>a)){a=Math.floor(a/3)-1;if(0>a||Infinity==a)a=void 0;else if(1E3>a)a=Bk[a];else{for(var b=Ck[a%1E3];a;){a=Math.floor(a/1E3);if(!a)break;b=(1E3>a?Dk:Ck)[a%1E3]+"Mi"+b}a=b}return a}}var Jk=void 0,Kk=void 0;
function Lk(a){if(!a)return-1;a=a.toLowerCase();if(!Jk){Jk={};for(var b=0;b<Bk.length;b++)Jk[Bk[b].toLowerCase()]=b}b=Jk[a];if(void 0!=b)return b;if(!Kk){Kk=[,{},{},{},{},{},{}];for(b=1;b<Ck.length;b++)Kk[Ck[b].length][Ck[b].toLowerCase()]=b;Kk[2].mi=0}b=1;for(var d=0,e=!1,f=!0;;){for(var g=!1,h=6;1<=h;h--)if(!(a.length<h)){var k=a.substr(a.length-h),l=Kk[h][k];if(void 0!=l){g=!0;if(2==h&&"mi"==k)b*=1E3,e=!0;else{d+=l*b;if(!f&&!e)return-1;e=!1}a=a.substr(0,a.length-h);f=!1;break}}if(!g)return-1;if(0==
a.length)break}e&&(d+=b);return d}
function Mk(a){function b(g){return"."==g||d(g)}function d(g){var h;(h="-"==g||"+"==g)||(g=g.charCodeAt(0),h=48<=g&&57>=g);return h}var e=a.toLowerCase();if("inf"==e||"infinity"==e)return new c(Infinity,0);if("-inf"==e||"-infinity"==e)return new c(-Infinity,0);if("nan"==e)return new c(NaN,0);var f=a.indexOf("e");0>f&&(f=a.indexOf("E"));if(0<f&&f+1<a.length&&d(a[f+1])){e=parseFloat(a.substr(0,f));a=parseFloat(a.substr(f+1));if(a!=a||-Infinity==a)a=0;return Ej(e,a)}for(f=0;f<a.length&&b(a[f]);)f++;
if(f==a.length)return new c(parseFloat(a));e=parseFloat(a.substr(0,f));a=Lk(a.substr(f));return 0>a?new c(NaN):Ej(e,3*(a+1))}
function Nk(a,b,d,e){var f=b;b--;if(0>a.A)return"-"+Nk(a.Lc(),b,d,e);if(isNaN(a.A))return"NaN";if(Infinity==a.A)return"Inf";if(0==a.A)return"0";if(Ub(a,1E-6)&&(ac(a,1)||ac(a,1E4)&&3<=f))return Ok(a,f);d&&(d=3>d?3:8<d?8:d);e=e||10;var g=a.e*(10==e?Zj:Tj/Math.log(e));f=Math.floor(ak(a.abs(),e));a=a.A*Math.pow(e,g-f);a+Math.pow(e,-b)>=e?(a/=e,f++):1>a+Math.pow(e,-b-1)&&(a*=e,f--);-1==f&&(f++,b++,a/=e);if(d){for(;0!=f%d;)a*=e,f--,b--;for(;f>=-d&&0>f;)f++,b++,a/=e}for(;1<=f&&2>=f;)f--,b--,a*=e;0>b&&(b=
0);10==e?d=a.toFixed(b):(d=a.toString(e).toUpperCase(),a=d.indexOf("."),0<=a&&(d=d.substr(0,a+b+1)));if(-1!=d.indexOf(".")){for(;"0"==d[d.length-1];)d=d.substr(0,d.length-1);"."==d[d.length-1]&&(d=d.substr(0,d.length-1))}0!=f&&(d+=(10==e?"e":"p")+f);return d}
function Ok(a,b){a=a.valueOf();var d=Math.floor(Math.log10(a));d<b&&(a+=4.999*Math.pow(.1,b-d));d=1>a&&0<b&&100>b?a.toPrecision(b):a.toString();var e=d.indexOf(".");if(0<=e){if(0<=d.indexOf("e"))return d;b=Math.max(e,b+1);1>a&&(b=d.length);for(;b>e&&"0"==d[b-1];)b--;b==e+1&&b--;d=d.substr(0,b)}return d}
function Pk(a,b,d,e){if(0>a.A)return"-"+Pk(a.Lc(),b,d,e);if(isNaN(a.A))return"NaN";if(Infinity==a.A)return"Inf";if(0==a.A)return"0";if(Ub(a,1E-6)&&(ac(a,1)||ac(a,1E4)&&3<=b))return Ok(a,b);var f=a.e*Zj,g=Yj(a.abs());0<g&&(g+=Math.pow(10,-g-1));var h=a.A,k=3*Math.floor(g/3);g<b&&0<=g&&(k=0);-3<=g&&0>g&&(b+=-Math.floor(g),k=0);h*=Math.pow(10,f-k);if(0>=f){h=(""+1.0000000001*h).substr(0,b+1);if(-1!=h.indexOf(".")){for(;"0"==h[h.length-1];)h=h.substr(0,h.length-1);"."==h[h.length-1]&&(h=h.substr(0,h.length-
1))}0!=k&&(h+="e"+k)}else{1E3<=h+Math.pow(10,-b+2)?(h/=1E3,k+=3):1>h+Math.pow(10,-b-1)&&(h*=1E3,k-=3);f=b-1;10<=h&&f--;100<=h&&f--;1E3<=h&&f--;1E4<=h&&f--;0>f&&(f=0);h=h.toFixed(f);if(-1!=h.indexOf(".")){for(;"0"==h[h.length-1];)h=h.substr(0,h.length-1);"."==h[h.length-1]&&(h=h.substr(0,h.length-1))}"1000"==h&&(h="1",k+=3);if(0!=k)if(0==d)if(36>=k)h+=Ik(k);else return Nk(a,b,!e);else if(1==d)d=Ik(k),h=void 0!=d?h+d:h+("e"+k);else if(2==d)if(3==k)h+="K";else if(6==k)h+="M";else if(9==k)h+="G";else if(12==
k)h+="T";else if(15==k)h+="P";else if(18==k)h+="E";else if(21==k)h+="Z";else if(24==k)h+="Y";else return Nk(a,b,!e);else if(3==d)if(12>=k)h+=Ik(k);else return Nk(a,b,!e);else{k=Math.floor(k/3);if(0>k)d=void 0;else for(d="";k;)d=String.fromCharCode(97+(k-1)%26)+d,k=Math.floor((k-1)/26);if(void 0!=d)h+=d;else return Nk(a,b,!e)}}return h}
function Sk(a,b){if(0>a.A)return"-"+Sk(a.Lc(),b);if(isNaN(a.A))return"10^NaN";if(Infinity==a.A)return"10^Inf";if(0==a.A)return"0";a=Yj(a);b--;10<=a&&b--;100<=a&&b--;1E3<=a&&b--;1E4<=a&&b--;1E5<=a&&b--;0>b&&(b=0);return"10^"+a.toFixed(b)}function Tk(a,b){if(0>a.A)return"-"+Tk(a.Lc(),b);if(isNaN(a.A))return"e^NaN";if(Infinity==a.A)return"e^Inf";if(0==a.A)return"0";a=Wj(a);b--;10<=a&&b--;100<=a&&b--;1E3<=a&&b--;1E4<=a&&b--;1E5<=a&&b--;0>b&&(b=0);return"e^"+a.toFixed(b)}
function Uk(a,b){if(ac(a,0))return"-"+Uk(a.Lc(),b);var d=Ub(a,1E20),e=!1;ac(a,1)&&ac(a,Math.pow(10,-b))&&(e=!0);if(!d&&!e){a=a.valueOf().toFixed(b);if(0<b){for(b=a.length;;){d=a[b-1];if("0"!=d&&"."!=d)break;b--;if("."==d)break}a=a.substr(0,b)}return a}return Nk(a,b,!1)}
c.prototype.toString=function(a,b){a=a||uk;b=void 0==b?tk:b;return b==gk?Pk(this,a,1):b==ik?Pk(this,a,0):b==hk?Pk(this,a,3):b==sk?Pk(this,a,0,!0):b==rk?Pk(this,a,3,!0):b==mk?Nk(this,a,!1):b==lk?Nk(this,a,!0):b==jk?Pk(this,a,2):b==kk?Pk(this,a,4):b==pk?"#"+Nk(this,a,4,16):b==nk?Sk(this,a):b==ok?Tk(this,a):b==qk?Uk(this,a):this.A+"e"+this.e};function K(a,b,d,e){return ac(a,1E-4)&&Ub(a,-1E-4)&&!e?"0%":a.i(100).toString(b,d)+"%"}c.prototype.valueOf=function(){var a=new c(this);Hj(a,0);return a.A};
var Vk="thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion".split(" "),Wk=" decillion vigintillion trigintillion quadragintillion quinquagintillion sexagintillion septuagintillion octagintillion nonagintillion".split(" "),Xk=" centillion ducentillion trecentillion quadringentillion quingentillion sescentillion septingentillion octingentillion nongentillion".split(" "),Yk=" un duo tres quattuor quin sex septen octo novem".split(" "),Zk=" deci viginti triginta quadriginta quinqua sexaginta septuaginta octoginta nonaginta".split(" ");
function $k(a){if(-Infinity==a)return"[-Inf]";if(Infinity==a)return"[Inf]";if(0>a)return"[Neg]";if(isNaN(a))return"[NaN]";if(1E3<a)return"[TooBigForFullName]";if(1E3==a)return"millillion";var b=a%10,d=Math.floor(a/10)%10,e=Math.floor(a/100)%10;if(10>a)return Vk[b];var f=Yk[b];a=100<=a?Zk[b]:Wk[d];3==b&&0<d&&("d"==a[0]||"s"==a[0])&&(f="tre");return f+a+Xk[e]}
function al(a){if(0==a)return"";if(1==a)return"ten";if(2==a)return"hundred";var b="";1==a%3&&(b="ten ");2==a%3&&(b="hundred ");return b+=$k(Math.floor(a/3)-1)}function bl(){var a=cl.i(1.1);a=Math.floor(Yj(a.abs()));return al(a)};var dl="seeds;spores;resin;twigs;nuts;infinity seeds;amber;essence;infinity spores".split(";");function P(a){if(!(this instanceof P))return new P(a);a?(this.f=new c(a.f||0),this.B=new c(a.B||0),this.h=new c(a.h||0),this.K=new c(a.K||0),this.Y=new c(a.Y||0),this.v=new c(a.v||0),this.ta=new c(a.ta||0),this.ca=new c(a.ca||0),this.W=new c(a.W||0)):(this.f=new c,this.B=new c,this.h=new c,this.K=new c,this.Y=new c,this.v=new c,this.ta=new c,this.ca=new c,this.W=new c)}
function el(a){return[a.f,a.B,a.h,a.K,a.Y,a.v,a.ta,a.ca,a.W]}aa=P.prototype;aa.clone=function(){return new P(this)};function fl(a,b){a.f=b[0]||new c(0);a.B=b[1]||new c(0);a.h=b[2]||new c(0);a.K=b[3]||new c(0);a.Y=b[4]||new c(0);a.v=b[5]||new c(0);a.ta=b[6]||new c(0);a.ca=b[7]||new c(0);a.W=b[8]||new c(0)}function gl(a){var b=new P;fl(b,a);return b}aa.reset=function(){this.f.reset();this.B.reset();this.h.reset();this.K.reset();this.Y.reset();this.v.reset();this.ta.reset();this.ca.reset();this.W.reset()};
function hl(a,b){return 0==b?a.f:1==b?a.B:2==b?a.h:3==b?a.K:4==b?a.Y:5==b?a.v:6==b?a.ta:7==b?a.ca:8==b?a.W:c(0)}aa.u=function(a){this.f.u(a.f);this.B.u(a.B);this.h.u(a.h);this.K.u(a.K);this.Y.u(a.Y);this.v.u(a.v);this.ta.u(a.ta);this.ca.u(a.ca);this.W.u(a.W);return this};aa.add=function(a){var b=P(this);b.u(a);return b};aa.mb=function(a){a instanceof c||(a=new c(a));this.f.u(a);this.B.u(a);this.h.u(a);this.K.u(a);this.Y.u(a);this.v.u(a);this.ta.u(a);this.ca.u(a);this.W.u(a);return this};
aa.L=function(a){var b=P(this);b.mb(a);return b};aa.wa=function(a){this.f.wa(a.f);this.B.wa(a.B);this.h.wa(a.h);this.K.wa(a.K);this.Y.wa(a.Y);this.v.wa(a.v);this.ta.wa(a.ta);this.ca.wa(a.ca);this.W.wa(a.W);return this};aa.sub=function(a){var b=P(this);b.wa(a);return b};aa.Kd=function(){this.f.Kd();this.B.Kd();this.h.Kd();this.K.Kd();this.Y.Kd();this.v.Kd();this.ta.Kd();this.ca.Kd();this.W.Kd()};aa.Lc=function(){var a=P(this);a.Kd();return a};
aa.l=function(a){this.f.l(a);this.B.l(a);this.h.l(a);this.K.l(a);this.Y.l(a);this.v.l(a);this.ta.l(a);this.ca.l(a);this.W.l(a)};aa.sa=function(a){var b=P(this);b.l(a);return b};aa.Na=function(a){this.l(new c(a))};aa.i=function(a){return this.sa(new c(a))};aa.Gc=function(a){this.f.Gc(a);this.B.Gc(a);this.h.Gc(a);this.K.Gc(a);this.Y.Gc(a);this.v.Gc(a);this.ta.Gc(a);this.ca.Gc(a);this.W.Gc(a)};aa.a=function(a){var b=P(this);b.Gc(a);return b};aa.Dl=function(a){this.Gc(new c(a))};aa.ub=function(a){return this.a(new c(a))};
aa.ki=function(a){this.f.ib(0)&&this.f.l(a);this.B.ib(0)&&this.B.l(a);this.h.ib(0)&&this.h.l(a);this.K.ib(0)&&this.K.l(a);this.Y.ib(0)&&this.Y.l(a);this.v.ib(0)&&this.v.l(a);this.ta.ib(0)&&this.ta.l(a);this.ca.ib(0)&&this.ca.l(a);this.W.ib(0)&&this.W.l(a)};aa.Ub=function(a){return this.f.Ub(a.f)&&this.B.Ub(a.B)&&this.h.Ub(a.h)&&this.K.Ub(a.K)&&this.Y.Ub(a.Y)&&this.v.Ub(a.v)&&this.ta.Ub(a.ta)&&this.ca.Ub(a.ca)&&this.W.Ub(a.W)?!0:!1};
aa.Ma=function(a){return this.f.Ma(a.f)&&this.B.Ma(a.B)&&this.h.Ma(a.h)&&this.K.Ma(a.K)&&this.Y.Ma(a.Y)&&this.v.Ma(a.v)&&this.ta.Ma(a.ta)&&this.ca.Ma(a.ca)&&this.W.Ma(a.W)?!0:!1};aa.Sa=function(a){return this.f.Sa(a.f)&&this.B.Sa(a.B)&&this.h.Sa(a.h)&&this.K.Sa(a.K)&&this.Y.Sa(a.Y)&&this.v.Sa(a.v)&&this.ta.Sa(a.ta)&&this.ca.Sa(a.ca)&&this.W.Sa(a.W)?!0:!1};aa.Eb=function(a){return!this.Ub(a)};aa.ba=function(a){return!this.Sa(a)};aa.ka=function(a){return!this.Ma(a)};aa.Wk=P.prototype.Sa;aa.Xk=P.prototype.ec;
aa.mj=P.prototype.Ma;aa.mf=P.prototype.ib;function il(a,b){return b.f.J(0)&&!a.f.Ma(b.f)||b.B.J(0)&&!a.B.Ma(b.B)||b.h.J(0)&&!a.h.Ma(b.h)||b.K.J(0)&&!a.K.Ma(b.K)||b.Y.J(0)&&!a.Y.Ma(b.Y)||b.v.J(0)&&!a.v.Ma(b.v)||b.ta.J(0)&&!a.ta.Ma(b.ta)||b.ca.J(0)&&!a.ca.Ma(b.ca)||b.W.J(0)&&!a.W.Ma(b.W)?!1:!0}aa.empty=function(){return this.f.J(0)||this.B.J(0)||this.h.J(0)||this.K.J(0)||this.Y.J(0)||this.v.J(0)||this.ta.J(0)||this.ca.J(0)||this.W.J(0)?!1:!0};
function jl(a){for(var b=el(a),d=0;d<b.length;d++)if(void 0==b[d]||b[d].isNaN())b[d]=new c(0);fl(a,b)}function kl(a){a=el(a);for(var b=[],d=0;d<a.length;d++)ac(a[d],0)?b[d]=a[d].Lc():b[d]=new c(0);return gl(b)}function ll(a){a=el(a);for(var b=el(G.b),d=[],e=0;e<b.length;e++)a[e].J(0)?d[e]=new c(b[e]):d[e]=new c(0);return gl(d)}function ml(a,b){a=el(a);b=el(b);for(var d=[],e=0;e<a.length;e++)d[e]=Xb(a[e],b[e]);return gl(d)}
function nl(a,b){a=el(a);b=el(b);for(var d=[],e=0;e<a.length;e++)d[e]=Yb(a[e],b[e]);return gl(d)}aa.toString=function(a,b){for(var d=el(this),e="",f=0;f<d.length;f++)d[f].Eb(new c(0))&&(0<e.length&&(e+=", "),e+=d[f].toString(a,b)+" "+dl[f]);""==e&&(e="none");return e};var ol=window.localstorageNameHTML?window.localstorageNameHTML:"local",pl=ol+"_recover",ql=ol+"_success",rl=ol+"_prev_version",sl=ol+"_undo",tl=ol+"_daily1",ul=ol+"_daily2";function vl(a){switch(a){case wl:return"Required for mushrooms to get seeds for their spores production for damage.";case xl:return"Hits pests with spores. Requires a berry next to it to get seeds production from.";case yl:return"Boosts neighboring berries and mushrooms";case zl:return"Boosts neighboring mushrooms, but also increases their seeds consumption";case Al:return"Hits all pests that are right next to the brassica, but cannot target at a distance. Its damage depends on neighboring mushrooms, but it can also do a small amount of damage on its own.";
case Bl:return"";case Cl:return"Boosts orthogonally neighboring flowers (in spring also diagonally). Since this is a boost of a boost, indirectly boosts berries and mushrooms by an entirely new factor.";case Dl:return"Statues affect mushrooms in various way. They must orthogonally or diagonally touch the mushroom.";case El:return"";case Fl:return"";case Gl:return"";case Hl:return""}}function Il(){this.name="unnamed";this.images=cj;this.speed=2;this.cc=0;this.group=1;this.ql=this.mn=!1}
function Jl(a){var b="";G.challenge==Kl&&Ll&&Ll[a.y]&&(a=Ll[a.y][a.x])&&a.Ba&&(b+=a.Ba+"<br/>");return b}var Ml=[],Nl=[],Ol=-1;function Pl(a,b,d,e,f){b||(b=cj);if(Nl[Ol]||0>Ol||65535<Ol)throw"pest id already exists or is invalid!";var g=new Il;g.index=Ol++;Nl[g.index]=g;Ml.push(g.index);g.name=a;g.images=b;g.speed=e;g.cc=d;g.group=f;return g.index}Ol=0;var Ql=Pl("ant",cj,1,2,1),Rl=Pl("fire ant",dj,2,2,1);Nl[Rl].ql=!0;Pl("beetle",ej,10,4,1);Pl("tick",fj,1,2,8);Pl("roach",ij,.5,1,1);
var Sl=Pl("termite",jj,1.5,3,1);Nl[Sl].mn=!0;Nl[Sl].ql=!0;Pl("flea",gj,.75,1,6);Pl("aphid",hj,2,3,6);Pl("locust",kj,1,1,1);function Tl(){this.index=Ql;this.$f=c(10);this.cc=c(10);this.Zk=this.Zg=this.pl=this.mh=this.y=this.x=0;this.oo=-1}function Ul(a){var b=Nl[a.index].speed;a.mh&&(b+=a.pl);return b}function Vl(){this.tj=this.Lk=this.Pk=0}
function Wl(){this.yb=[];this.oh=this.Rk=0;this.bc=this.uc=!1;this.$=this.hc=0;this.Xj=c(0);this.yn=!1;this.Uk=this.Te=this.lg=0;this.vc=[];this.order=this.path=this.cg=this.ri=void 0;this.Uj=new c(0);this.on=new c(0);this.he=P()}function Xl(){var a=G.za;return!a.bc&&a.uc&&0<a.yb.length?!0:!1}function Yl(){var a=G.za,b=a.Uk;10<b&&(b=10);return a.Te+b}
function Zl(){var a=G.za;$l(a);a.he=am(a.hc);a.ri=[];a.cg=[];a.Uj=new c(0);a.on=new c(0);for(var b=0;b<G.F;b++){a.ri[b]=[];a.cg[b]=[];for(var d=0;d<G.C;d++){a.ri[b][d]=[];a.cg[b][d]=[];var e=G.G[b][d],f=S(e);f&&a.Uj.u(bm(f,e))}}for(b=0;b<a.yb.length;b++)d=a.yb[b],a.ri[d.y][d.x][Nl[d.index].speed]=!0,a.cg[d.y][d.x].push(b),a.on.u(d.cc)}function cm(){this.code="";this.images=[];this.Ba="";this.ml=0}function dm(){this.Ch=Infinity;this.dir=-1}
function $l(a,b){for(var d=[],e=[],f=[],g=!1,h=0;h<G.F;h++){e[h]=[];for(var k=0;k<G.C;k++){e[h][k]=new dm;var l=G.G[h][k];l.index==em||l.index==fm?(d.push([k,h]),e[h][k].Ch=0):e[h][k].Ch=Infinity}}for(;0<d.length;){h=d.shift();k=h[0];h=h[1];f.push([k,h]);for(var p=0;4>p;p++){var q=k+(1==p?1:3==p?-1:0),n=h+(2==p?1:0==p?-1:0);0>q||q>=G.C||0>n||n>=G.F||b&&k==b[0]&&h==b[1]||(l=G.G[n][q],0!=l.index&&l.index!=gm)||(l.index==gm&&(g=!0),l=e[h][k].Ch+1,l<e[n][q].Ch&&(e[n][q].Ch=l,e[n][q].dir=p+2&3,d.push([q,
n])))}}b||(a.path=e,a.order=f);return g}var hm={};
function im(a,b,d,e,f){if(!(0>a||0>b||a>=G.C||b>=G.F||0>d||0>e||d>=G.C||e>=G.F||0!=G.ra)){if(2==f||3==f)a=d,b=e;var g=a+64*b+4096*d+262144*e+16777216*f;if(!hm[g]){hm[g]=!0;d=jm[e][d].a;a=m.co(jm[b][a].a);e=m.co(d);b=Math.floor(.5*(a[2]-a[0]));d=Math.floor(.5*(a[3]-a[1]));var h=Math.floor(Math.floor(.5*(a[0]+a[2]))-.5*b),k=Math.floor(Math.floor(.5*(a[1]+a[3]))-.5*d),l=Math.floor(Math.floor(.5*(e[0]+e[2]))-.5*Math.floor(.5*(e[2]-e[0]))),p=Math.floor(Math.floor(.5*(e[1]+e[3]))-.5*Math.floor(.5*(e[3]-
e[1])));a=Zi;1==f?a=$i:2==f?a=aj:3==f&&(a=bj);var q=ja(h,k,b,d,document.body);q.zIndex="9999";q.style.pointerEvents="none";f=pb("0%","0%","100%","100%",q);qb(a,f);var n=0,u=function(){var x=Math.floor(k*(1-n)+p*n);q.style.left=Math.floor(h*(1-n)+l*n)+"px";q.style.top=x+"px";n+=.2;1<n?m.sc(q):window.setTimeout(u,50)};u()}}}
function nm(a){for(var b=new P(0),d=G.za,e=d.hc,f=d.hc;a.ba(om(f+1).i(.5))&&!(f>=G.Sh);)f++;if(f>e+5){for(a=e;a<f;a++)d.hc++,b.u(am(d.hc)),G.Gi++,G.dm++;T("Skipped to wave "+(d.hc+1)+" due to large over-damage.",pm,8451402)}return b}function qm(a){a=a.yb.length;if(!(0>=a)){if(1>=a)return 4;if(2>=a)return 2;if(3>=a)return 1.5;if(4>=a)return 1.25}return 1}
var rm=[[0,-2],[-1,-1],[0,-1],[1,-1],[-2,0],[-1,0],[0,0],[1,0],[2,0],[-1,1],[0,1],[1,1],[0,2]],sm=[[0,-3],[-1,-2],[0,-2],[1,-2],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-2,1],[-1,1],[0,1],[1,1],[2,1],[-1,2],[0,2],[1,2],[0,3]],tm=[[0,-4],[-1,-3],[0,-3],[1,-3],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-4,0],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[4,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-2,2],[-1,
2],[0,2],[1,2],[2,2],[-1,3],[0,3],[1,3],[0,4]];function um(a,b){for(var d=!1,e=0,f=0,g=0,h=0,k=0,l=0;8>l;l++){var p=a+(1==l||4==l||5==l?1:3==l||6==l||7==l?-1:0),q=b+(0==l||4==l||7==l?-1:2==l||5==l||6==l?1:0);0>p||p>=G.C||0>q||q>=G.F||(p=G.G[q][p],(q=S(p))&&1<=p.H&&(q.index==vm&&e++,q.index==wm&&f++,q.index==xm&&g++,q.index==ym&&(d=!0),q.index==zm&&h++,q.index==Am&&k++))}b=3+g;e&&b--;a=1+.75*e;f?a*=.5:h?a*=.75:k&&(a*=.75);2>b&&(b=2);5<b&&(b=5);d&&(a*=6);return[a,b,!!f,d,h,k,2<=e,d?9:2]}
function Bm(a,b,d,e,f,g,h,k,l,p,q,n){if(0>e||0>f||e>=G.C||f>=G.F||0>g||0>h||g>=G.C||h>=G.F)return new c(0);G.G[f][e].index==gm&&(d=d.i(.0625));b=a.yb[b];g=Nl[b.index];p&&!g.ql&&(b.mh=15,b.pl=p);q&&(b.Zg=15,b.Zk=q);if(k&&g.mn)return new c(0);l&&(d=d.i(qm(a)));1<g.group&&(k?d=d.i(g.group):(k=b.$f.ub(g.group).i(1.01),d.ba(k)&&(d=k)));Ub(b.cc,0)&&d.ba(b.cc)&&(a.vc[f][e].Pk++,G.Th++,G.wh++);a.vc[f][e].Lk++;G.bm++;G.Ei++;e=Yb(b.cc,d);Ub(e,0)&&(e=e.a(b.$f),a=a.he.ub(a.$).sa(e),b.Zg&&a.f.Na(b.Zk+1),n.u(a));
b.cc=b.cc.sub(d);return d}
function Cm(){var a=G.za;if(!a.bc&&a.uc){a.hc>G.Sh&&(G.Sh=a.hc);G.cm++;G.Fi++;a.hc++;a.yn=!1;var b=a.hc,d=om(b);a.lg=G.time;a.Te=0;var e=Dm(1E3+100*b)[1];var f=.2>e?0:1;e=Dm(100*b+1001)[1];f=0==f?1+Math.floor(3*e):8+Math.floor(24*e);e=Dm(100*b+1002)[1];var g=.4>e?1:.7>e?2:.9>e?3:4;for(var h=[],k=0;k<g;k++)e=Dm(1E3+100*b+(300+k))[1],h[k]=Ml[Math.floor(e*Ml.length)];g=0;var l=[];for(k=0;k<f;k++){e=Dm(1E3+100*b+(400+k))[1];var p=h[Math.floor(e*h.length)];e=new Tl;e.index=p;l[k]=e;p=Nl[Ml[e.index]];e=
p.cc;4<=p.speed?e/=1.5:3<=p.speed?e/=1.25:1>=p.speed&&(e*=2);g+=e}for(k=0;k<f;k++)e=l[k],p=Nl[Ml[e.index]],e.$f=d.ub(g).i(p.cc),e.cc=new c(e.$f);a.yb=l;a.$=a.yb.length;G.Bk+=a.$;G.xh+=a.$;a.he=am(b);b=c(0);for(d=0;d<a.yb.length;d++)b.u(a.yb[d].cc);T("Spawning wave "+a.hc+". Total HP: "+b.toString()+", amount: "+a.$,pm,1250454032);a.Xj=b}}
function Em(){var a=G.za;if(!(G.time<a.Rk+.3)){a.Rk=G.time;a.oh++;a=G.za;var b=a.path;if(b&&b.length==G.F&&b[0].length==G.C){for(var d=[],e=0;e<a.order.length;e++)for(var f=a.cg[a.order[e][1]][a.order[e][0]],g=0;g<f.length;g++){var h=a.yb[f[g]];0==a.oh%Ul(h)&&(0<h.mh&&h.mh--,0<h.Zg&&h.Zg--,d.push(h))}for(e=0;e<d.length;e++)if(h=d[e],f=b[h.y][h.x].dir,!(0>f)){g=h.x+(1==f?1:3==f?-1:0);var k=h.y+(2==f?1:0==f?-1:0);if(!(0>g||g>=G.C||0>k||k>=G.F)){var l=Ul(h),p=a.ri[k][g];if(!p[l]){var q=a.ri[h.y][h.x];
h.x=g;h.y=k;h.oo=f;q[l]=!1;p[l]=!0;f=G.G[k][g];if(f.index==em||f.index==fm)a.bc=!0,g="Tower defense: game over! A pest reached the tree. Wave reached "+a.hc+". All that can be done now is to start a new run.",T(g,pm,84683311),Fm(g),f.index==fm&&h.y--}}}}a=G.za;hm={};if(a.yn&&!a.bc&&a.uc&&0!=a.yb.length){b=c(0);d=new P(0);for(e=0;e<G.F;e++)for(a.vc[e]||(a.vc[e]=[]),h=0;h<G.C;h++)if(a.vc[e][h]||(a.vc[e][h]=new Vl),f=G.G[e][h],!(!(g=S(f))||1>f.H||(f=Gm(g,f),f.ec(0)||a.vc[e][h].tj+1>=a.oh))){if(g.type==
Al)for(var n=0;8>n;n++){var u=h+(1==n||4==n||5==n?1:3==n||6==n||7==n?-1:0),x=e+(0==n||4==n||7==n?-1:2==n||5==n||6==n?1:0);if(!(0>u||u>=G.C||0>x||x>=G.F))for(var y=a.cg[x][u],r=0;r<y.length;r++)b=Xb(b,Bm(a,y[r],f,h,e,u,x,!1,!1,!1,!1,d)),im(h,e,u,x,3)}if(g.type==xl){r=um(h,e);y=r[1];g=r[2];n=r[3];k=r[4];l=r[5];p=r[6];u=r[7];var v=void 0,w=q=void 0;if(2<u&&a.vc[e][h].tj+u-1>=a.oh)continue;f=f.i(r[0]);for(var H=99999,D=5<=y?tm:4<=y?tm:2>=y?rm:sm,A=0;;){if(n){if(A>=G.C*G.F)break;u=A%G.C;x=Math.floor(A/
G.C)}else{if(A>=D.length)break;u=h+D[A][0];x=e+D[A][1]}A++;if(!(0>u||u>=G.C||0>x||x>=G.F))for(y=a.cg[x][u],r=0;r<y.length;r++){var I=a.yb[y[r]],X=a.path[x][u].Ch;if(0<=X&&X<H&&Ub(I.cc,0)||void 0==v)v=y[r],q=u,w=x,H=X}}if(void 0!=v){if(g&&!n)for(n=0;n<rm.length;n++){if(v=q+rm[n][0],u=w+rm[n][1],!(0>v||v>=G.C||0>u||u>=G.F)){y=a.cg[u][v];for(r=0;r<y.length;r++)b=Xb(b,Bm(a,y[r],f,h,e,v,u,g,p,k,l,d));im(q,w,v,u,2)}}else b=Xb(b,Bm(a,v,f,h,e,q,w,g,p,k,l,d));im(h,e,q,w,1)}}a.vc[e][h].tj=a.oh}e=[];for(A=0;A<
a.yb.length;A++)I=a.yb[A],Ub(I.cc,0)&&e.push(I);0==e.length&&0!=a.yb.length&&(a.Te=G.time,a.Uk=a.Te-a.lg,T("Wave "+a.hc+" done",pm,34005951),b.ba(a.Xj.i(.5))&&d.u(nm(b)),window.setTimeout(Hm));a.yb=e;a=d}else a=void 0;return a}}
function Im(){var a=G.za;var b="Current wave: "+a.hc;b=b+"<br>Wave size: "+(a.yb.length+" / "+a.$);b=b+"<br>Highest wave ever: "+G.Sh;b=b+"<br>Exterminated: "+G.wh;b=b+"<br>Wave HP: "+(a.on.toString()+" / "+a.Xj.toString());b=b+"<br>Tower Damage:  "+a.Uj.toString();b+='<br><br>Tip: speed up the arrival of the next wave using the "Go" button or the "w" shortcut key';a.uc?a.bc&&(b+="<br><br>Game over! All that can be done now is to end the challenge."):b+="<br><br>Waves not yet started. Press the GO button when ready.";
return b}function am(a){var b=new P,d=Jm(Math.floor(.66*(a+1))).B,e=Km(0);e=e.f.a(e.B).Lc();d=d.sa(e);e=Pm[Qm].Cb(void 0).f.a(Pm[Qm].Sb.f);d.l(e);e=G.eb.f.ub(100);d.ba(e)&&(d=e);b.f=d;d=Jm(a+1).B;1==a&&d.u(Jm(1).B);a=d.i(1.001);b.B=a;return b}function om(a){a=Jm(a+10).B;return G.za.hc>=G.Oa-1?a:Pj(a,.075)}function Gm(a,b){b=Rm[b.y][b.x].Yb.B;b=Pj(b,.075).i(.01);a.type==Al&&b.Na(.5);return b}function bm(a,b){var d=Gm(a,b);a.type==xl&&(b=um(b.x,b.y),a=b[7],b=b[0],2<a&&(b*=2/a),d=d.i(b));return d}
var Sm=void 0;function Tm(){Sm&&(ob(Sm,hc),Sm=void 0)}function Fm(a){Tm();Sm=new F(hc,.2,.85,.8,.95);Sm.a.style.backgroundColor="#ddde";var b=new F(Sm,.01,[.5,0,-.35],[0,0,.7],[.5,0,.35]);b=pb("0%","0%","100%","100%",b.a);qb(Aj[0],b);b=new F(Sm,[0,0,.7],[.5,0,-.35],.99,[.5,0,.35]);b.a.style.color="#000";b.a.innerHTML=a;E(Sm.a,Tm)};var Um="spring summer autumn winter ethereal infernal infinity".split(" "),Vm=0,wl=Vm++,xl=Vm++,yl=Vm++,zl=Vm++,Al=Vm++,Wm=Vm++,Xm=Vm++,Bl=Vm++,Cl=Vm++,Dl=Vm++,El=Vm++,Ym=Vm++,Fl=Vm++,Gl=Vm++,Hl=Vm++,Zm=Vm,$m=[];$m[wl]=16;$m[xl]=8;$m[yl]=8;$m[Fl]=16;
function an(a){return a==wl?"berry":a==xl?"mushroom":a==yl?"flower":a==zl?"stinging":a==Al?"brassica":a==Wm?"automaton":a==Xm?"lotus":a==Bl?"mistletoe":a==Cl?"bee":a==Dl?"challenge":a==El?"fern":a==Ym?"squirrel":a==Fl?"nuts":a==Gl?"pumpkin":a==Hl?"runestone":"unknown"}
function bn(a){var b=G,d=!!b&&b.challenge==cn;b=!!b&&!!b.S[dn].count;switch(a){case wl:return"Produces seeds. Boosted by flowers. "+(d?"":"Negatively affected by nettles. ")+"Neighboring mushrooms can consume its seeds to produce spores. Neighboring watercress can copy its production.";case xl:return"Requires berries as neighbors to consume seeds to produce spores. Boosted by flowers"+(d?"":" and nettles")+". Neighboring watercress can copy its production (but also consumption).";case yl:return"Boosts neighboring berries and mushrooms, their production but also their consumption."+
(d?"":" Negatively affected by neighboring nettles.");case zl:return"Boosts neighboring mushrooms spores production (without increasing seeds consumption), but negatively affects orthogonally neighboring berries and flowers, so avoid touching those with this plant";case Al:return"Produces a small amount of seeds on its own, but can produce much more resources by copying from berry and mushroom neighbors once you have those. Unlike other crops, has limited lifetime.";case Bl:return"Produces twigs (which you receive on transcend) when tree levels up, "+
(b?"when orthogonally or diagonally next to the tree":"when orthogonally next to the tree only")+". Having more than one increases level up spores requirement and slightly decreases resin gain.";case Cl:return"Boosts orthogonally neighboring flowers (in spring also diagonally). Since this is a boost of a boost, indirectly boosts berries and mushrooms by an entirely new factor.";case Dl:return"A type of crop specific to a challenge, not available in regular runs.";case El:return"Ethereal fern, giving starter resources";
case Fl:return"Produces nuts. Can have only max 1 nut plant in the field. Neighboring watercress can copy its production, but less effectively than it copies berries. Receives a limited fixed boost from flowers of high enough tier. Not boosted by other standard berry and mushroom production boosts.";case Gl:return"A crop for the halloween holiday event. It will be no longer available when the event is over.";case Hl:return""}}
function en(a){var b=G;b=!!b&&fn(b);switch(a){case wl:return"Produces infinity seeds. Boosted by flowers.";case xl:return"Produces infinity spores. Does not require berry neighbors. Boosted by flower tiers, but not as much as berries are and depends on relative tier difference.";case yl:return b?"Boosts neighboring berries. Also boosts mushrooms but with a smaller boost depending on relative tier.":"Boosts neighboring berries.";case zl:return"Boosts neighboring mushrooms. The boost depends on the tier of the stinging crop relative to the mushroom, and too low tier gives no boost.";
case Al:return"Produces seeds, but has a limited lifespan. Produces more seeds than its initial cost over its lifespan.";case Bl:return"";case Cl:return b?"Boosts neighboring flowers. For the flower boost to mushrooms, also has a small effect based on tier.":"Boosts neighboring flowers.";case Dl:return"";case El:return"Copies all infinity seed and spores resources of the entire field, for crops of the same tier";case Fl:return"Produces infinity seeds. Works exactly the same as berries and is boosted by the same flowers and fishes.";
case Gl:return"";case Hl:return"Boosts the basic field production boost of any neighboring crops in the infinity field.";case Xm:return"Boosts berries and mushrooms, similar to flower but this is a separate boost multiplicative with the flower boost, and only works within the same crop tier. Not affected by bees."}}function gn(a){1==G.o[hn].count&&(a*=2);!jn()&&G.fa[kn].count&&(a*=1+ln);return a}function mn(a){1==G.o[hn].count&&(a*=2);return a}
function nn(){var a=c(1),b=on(pn);0<b&&(b=c(1).add(qn(pn,b,rn())),a.l(b));return a}function sn(){return 0!=G.wb?!1:G.o[tn].count&&G.time-G.Lb<gn(120)}function un(){return 1!=G.wb?!1:G.o[vn].count&&G.time-G.xb<gn(180)}function wn(){return 2!=G.wb?!1:G.o[xn].count&&G.time-G.zb<gn(240)}
function yn(){this.name="a";this.T=P();this.Sb=P();this.Oe=P();this.di=void 0;this.Hj=this.fb=this.index=0;this.Ea=c(0);this.ad="";this.Ta=null;this.type=this.vm=this.wm=this.image=void 0;this.Fp=this.g=0;this.Vb=this.mc=!1;this.Pn=0;this.Oc=!1;this.Rg=void 0}function zn(a){return!a.mc&&!a.Vb}function An(a,b,d,e){e*=4*e;d=4*(d-b)*(d-b);a=(d-e)/d*(a-b);return b+.5*(a+Math.sqrt(a*a+e))}
yn.prototype.Ja=function(){if(G.challenge==Kl){var a=G.za;return this.type!=Al&&a.uc&&Xl()?5:.01}a=this.fb;if(0==a)return a;var b=jn();if(this.type==Al){if(null!=this.Ta){var d=G.o[this.Ta],e=Bn[this.Ta];0<d.count&&(a+=this.fb*e.La*d.count)}b||!G.fa[Cn].count&&!G.fa[Dn].count||(a*=1.5);1==G.o[En].count&&(a*=1+Fn);return a}d=this.fb;e=60+Math.log(d)+10*this.g;e>.5*d&&(e=.5*d);var f=on(Gn);0<f&&(f=c(1).sub(qn(Gn,f,rn())).valueOf(),a*=f);b||(f=G.S[Hn].count)&&(a-=In*f);f=.33*d;var g=d;e+f>g&&(g=e+f);
e=a=An(a,e,g,f);!b&&G.D[this.index].oa&&(f=G.S[Jn].count)&&(a-=Kn*f);f=60+Math.log(e)+10*this.g;f>.5*e&&(f=.5*e);g=.33*e;f+g>e&&(e=f+g);a=An(a,f,e,g);a>d&&(a=d);b||(G.fa[Ln].count&&(a*=1-Mn),G.S[Nn[0]].count&&0==On()&&(a*=1-Pn));Qn()&&(a*=.5);return a};yn.prototype.O=function(a){var b=1.5;this.type==yl&&(b=2);this.type==Al&&(b=1);this.type==Dl&&this.dk&&(b=this.dk);G.challenge==Kl&&this.type!=Al&&this.type!=Dl&&(b=Math.max(4,b));return this.T.i(Math.pow(b,G.ab[this.index]+(a||0)))};
yn.prototype.Wa=function(a,b){b=this.O((b||0)-1);return G.challenge==Kl?b:a&&this.type==Al?b.i(Math.min(Math.max(0,a.H),1)):G.challenge==Rn?new P:a&&1>a.H&&this.type!=Al&&G.challenge!=Rn?b:b.i(G.P[Sn].X?.66:.33)};var Tn=Xj(c(700),c(1/29)).a(Xj(c(350),c(1/29))),Un=Xj(c(612500),c(1/52)).a(Xj(c(306250),c(1/52)));
function Vn(a,b,d,e,f){var g=jn();if(0==d&&a.type==yl){var h=Wn();b.l(h);f&&f.push([Um[d],!0,h,b.clone()])}1!=d||a.type!=wl&&a.type!=Gl||(h=Xn(),b.l(h),f&&f.push([Um[d],!0,h,b.clone()]));1==d&&a.type==xl&&(h=Yn(),b.l(h),f&&h.J(1)&&f.push([Um[d],!0,h,b.clone()]));if(2==d&&a.type==xl){h=Zn();b.ki(h);var k=c(1).sub(new c(.5));b.f.ec(0)&&b.f.l(k);b.B.ec(0)&&b.B.l(k);b.h.ec(0)&&b.h.l(k);b.K.ec(0)&&b.K.l(k);b.Y.ec(0)&&b.Y.l(k);b.v.ec(0)&&b.v.l(k);b.ta.ec(0)&&b.ta.l(k);b.ca.ec(0)&&b.ca.l(k);b.W.ec(0)&&b.W.l(k);
f&&f.push([Um[d],!0,h,b.clone()])}2!=d||a.type!=wl&&a.type!=Gl||(h=$n(),b.ki(h),f&&h.J(1)&&f.push([Um[d],!0,h,b.clone()]));3!=d||a.type!=wl&&a.type!=Gl&&a.type!=xl&&a.type!=yl&&a.type!=Cl&&a.type!=Fl||!e||(h=!1,a.type!=wl&&a.type!=Gl||!sn()||(h=!0),a.type==xl&&un()&&(h=!0),a.type==yl&&wn()&&(h=!0),k=Rm[e.y][e.x],k.bd||h||(e=c(ao),e.J(1)&&(b.ki(e),f&&f.push([Um[d],!0,e,b.clone()]))),!k.bd||a.type!=wl&&a.type!=Gl&&a.type!=xl||(h=bo(),a.Oc&&(h=Jj(h,1).i(.5).L(1)),b.l(h),f&&f.push(["winter tree warmth",
!0,h,b.clone()])),!g&&k.bd&&G.S[Nn[3]].count&&a.type==yl&&(h=co,b.l(h),f&&f.push(["winter tree warmth (flowers)",!0,h,b.clone()])));if(G.challenge==eo&&5==d&&0<=a.g){g=-1;d=void 0;if(a.type==wl||a.type==Gl)g=a.g,d=Tn;a.type==xl&&(g=2*a.g+2,d=Un);e=c(1E-9);0<=g&&(e.l(Qj(c(.5),g+1)),g=G.o[a.Ta],e.l(Qj(c(d),-g.count)));a.type==Al&&b.f&&(a=Yb(a.Sb.f,b.f),b.f.sa(e).ka(a)&&b.f.J(0)&&(e=a.a(b.f)));b.l(e);f&&f.push(["infernal",!0,e,b.clone()])}}
function fo(a){return G.challenge==go?Mj(Pj(a,.25).L(2)):Mj(Pj(a,.5).L(2))}function ho(a,b){var d=new c(1);if(!a)return d;for(var e=0;4>e;e++){var f=a.x+(1==e?1:3==e?-1:0),g=a.y+(2==e?1:0==e?-1:0);0>f||f>=G.C||0>g||g>=G.F||(f=G.G[g][f],io(f)&&S(f).type==zl&&(f=jo(S(f),f,b),d.l(fo(f))))}return d}var ko=c(.25),lo=c(4);
yn.prototype.Cb=function(a,b,d){var e=jn(),f=this.Sb,g=this.Oe;if(G.challenge==Kl&&this.type==Al){var h=Km(0);h.f=new c(0);g=f=h.ub(16)}h=new P(f);if(this.type==Gl){h=G.$j;if(1==b||2==b||4==b||5==b)h=G.ak;h=new P(h)}if(d)if(0<G.D[this.index].oa){d.push(["base",!0,c(0),g.clone()]);f=el(f);g=el(g);for(var k=c(NaN),l=0;l<f.length;l++){var p=f[l],q=g[l];if(!Zb(p,0)||!Zb(q,0))if(p=p.a(q),k.isNaN()||p.ba(k))k=p}d.push(["prestige",!0,k,h.clone()])}else d.push(["base",!0,c(0),h.clone()]);this.type==Gl&&(h.l(mo),
d&&d.push(["pumpkin",!0,mo,h.clone()]));if(G.challenge==Kl&&a&&1>a.H&&this.type==xl)return h.Na(0),d&&d.push(["tower growing",!0,c(0),h.clone()]),h;if(this.type==Fl&&G.oj)return h.Na(0),d&&d.push(["squirrel evolution in progress",!0,c(0),h.clone()]),h;if(this.Oc&&a&&0!=no(a.x,a.y))return h.Na(0),d&&d.push(["not the main 2x2 crop piece",!0,c(0),h.clone()]),h;b&&3!=b||!a||oo(a)&&G.challenge!=Rn||(G.challenge==Rn?(f=c(po(a.H)*a.H),h.l(f),d&&d.push(["withering",!0,f,h.clone()])):(f=a.H*a.H,this.type==
xl?(h.f.Na(f),f=Math.pow(f,4),h.B.Na(f)):h.Na(f),d&&d.push(["growing",!0,c(f),h.clone()])));null!=this.Ta&&(p=G.o[this.Ta],f=Bn[this.Ta],0<p.count&&(f=this.type==Al?c(qo*p.count+1):Pj(f.La,p.count),h.l(f),d&&d.push(["upgrades ("+p.count+")",!0,f,h.clone()])));if(3==b||4==b)return h;!e&&(this.type==wl||this.type==xl||this.type==Gl)&&0<G.Xa&&(h.l(ro),d&&d.push(["squirrel evolution",!0,ro,h.clone()]));this.type!=wl&&this.type!=xl&&this.type!=Gl||2!=G.o[so].count||(f=c(to+1),h.l(f),d&&d.push(["resin choice: production",
!0,f,h.clone()]));e||(this.type!=Fl&&(h.l(G.Yg),d&&d.push(["achievements",!0,G.Yg,h.clone()])),this.type!=wl&&this.type!=xl&&this.type!=Gl||!G.Bf||(f=c(2),h.l(f),d&&d.push(["amber production bonus active",!0,f,h.clone()])));if(2!=e){if(this.type==wl||this.type==Gl)f=on(uo),0<f&&(f=qn(uo,f,rn()).L(1),h.l(f),d&&d.push(["fruit: "+vo(uo),!0,f,h.clone()]));this.type==xl&&(f=on(wo),0<f&&(f=qn(wo,f,rn()).L(1),h.l(f),d&&d.push(["fruit: "+vo(wo),!0,f,h.clone()])),f=on(xo),0<f&&(f=c(1).sub(qn(xo,f,rn())),h.f.l(f),
d&&d.push(["fruit: "+vo(xo),!0,f,h.clone()])));this.type==Fl&&(f=on(yo),0<f&&(f=qn(yo,f,rn()).L(1),h.l(f),d&&d.push(["fruit: "+vo(yo),!0,f,h.clone()])));if(this.type==wl||this.type==xl||this.type==Gl)f=on(zo),0<f&&(f=qn(zo,f,rn()).L(1),h.f.l(f),d&&d.push(["fruit: "+vo(zo),!0,f,h.clone()]));this.type==xl&&(f=on(Ao),0<f&&(f=qn(Ao,f,rn()).L(1),g=lo,ac(f,1E3)&&(g=new c(f),k=c(1),k.Gc(g),g.A=k.A,g.e=k.e,k=Lj(g),g=c(1).sa(g).add(lo.sa(k))),h.l(f),h.f.l(g),d&&d.push(["fruit: "+vo(Ao),!0,f,h.clone()])))}if(!e){f=
new P;f.mb(1);if(this.type==wl||this.type==Gl)f.f=G.jk.L(1);this.type==xl&&(f.f=G.Ri.L(1),f.B=G.Ri.L(1));g=P(h);g.f.l(f.f);g.B.l(f.B);g.h.l(f.h);g.K.l(f.K);g.Y.l(f.Y);g.v.l(f.v);g.ta.l(f.ta);g.ca.l(f.ca);g.W.l(f.W);if(h.Eb(g)){if(d){f=c(1);h=el(h);k=el(g);for(l=0;l<h.length;l++)if(h[l].Eb(k[l])){f=k[l].a(h[l]);break}d.push(["ethereal crops",!0,f,g.clone()])}h=g}if(this.type==wl||this.type==xl||this.type==Gl)if(f=Bo(),f.J(1)&&(h.l(f),d&&d.push(["tree's gesture",!0,f,h.clone()])),f=G.S[Co].count)f=
Do.i(f).i(G.U-25).L(1),h.l(f),d&&d.push(["ethereal tree level > 25",!0,f,h.clone()]);if(Eo()){if(this.type==wl||this.type==Gl)G.fa[Fo].count&&(f=Go.i(G.fa[Fo].count).L(1),h.l(f),d&&d.push(["squirrel upgrades",!0,f,h.clone()])),g=G.D[this.index].oa,this.type==Gl&&(g=G.Al),g&&G.fa[Ho].count&&(f=Io.i(G.fa[Ho].count).L(1),f=Pj(f,g),h.l(f),d&&d.push(["squirrel prestiged",!0,f,h.clone()]));this.type==xl&&(G.fa[Jo].count&&(f=Ko.i(G.fa[Jo].count).L(1),h.l(f),d&&d.push(["squirrel upgrades",!0,f,h.clone()])),
G.D[this.index].oa&&G.fa[Lo].count&&(f=Mo.i(G.fa[Lo].count).L(1),f=Pj(f,G.D[this.index].oa),h.l(f),d&&d.push(["squirrel prestiged",!0,f,h.clone()])))}No()&&G.b.Y.mf(1)&&this.type!=Fl&&(f=Oo(),h.l(f),d&&d.push(["unused nuts",!0,f,h.clone()]));G.b.h.mf(1)&&this.type!=Fl&&(f=Po(G.b.h),h.l(f),d&&d.push(["unused resin",!0,f,h.clone()]));this.type!=Fl&&(f=Qo(),f.J(1)&&(h.l(f),d&&d.push(["unused twigs",!0,f,h.clone()])));this.type!=wl&&this.type!=xl&&this.type!=Gl||!Ro(So)||(f=To(So).L(1),h.l(f),d&&d.push(["ethereal mistletoe leafiness",
!0,f,h.clone()]));this.type!=wl&&this.type!=Gl||!Ro(Uo)||(f=To(Uo).L(1),h.l(f),d&&d.push(["ethereal mistletoe berry-ness",!0,f,h.clone()]));this.type==Fl&&Ro(Vo)&&(f=To(Vo).L(1),h.l(f),d&&d.push(["ethereal mistletoe nuttiness",!0,f,h.clone()]));this.type==xl&&Ro(Wo)&&(f=To(Wo).L(1),h.l(f),d&&d.push(["ethereal mistletoe funginess",!0,f,h.clone()]))}k=On();if(a&&(this.type==wl||this.type==xl||this.type==Gl)){var n=c(1);f=0;q=a.x;var u=a.y,x=G.C,y=G.F,r=Xo(a,!1);for(g=0;g<r.length;g++)l=q+r[g][0],p=
u+r[g][1],0>l||l>=x||0>p||p>=y||(l=G.G[p][l],io(l)&&S(l).type==yl&&(l=b?jo(S(l),l,b):Rm[l.y][l.x].Ea,l.J(0)&&(n.u(l),f++)));h.l(n);d&&0<f&&d.push(["flowers ("+f+")",!0,n,h.clone()])}if(a&&this.type==Fl){n=c(1);f=0;q=a.x;u=a.y;x=G.C;y=G.F;r=G.Og[yl]-1;for(g=0;4>g;g++)l=q+(1==g?1:3==g?-1:0),p=u+(2==g?1:0==g?-1:0),0>l||l>=x||0>p||p>=y||(l=G.G[p][l],io(l)&&S(l).type==yl&&S(l).g>=r&&(n.u(ko.i(l.H)),f++));h.l(n);d&&0<f&&d.push(["flowers ("+f+", "+K(ko)+" each)",!0,n,h.clone()])}!a||this.type!=wl&&this.type!=
Fl&&this.type!=Gl||(g=Rm[a.y][a.x],f=g.gi,g=b?ho(a,b):g.$k,0<f&&(h.l(g),d&&d.push(["stingy crops malus ("+f+")",!0,g,h.clone()])));if(a&&this.type==xl){n=c(1);r=c(1);f=0;q=a.x;u=a.y;x=G.C;y=G.F;for(g=0;4>g;g++)if(l=q+(1==g?1:3==g?-1:0),p=u+(2==g?1:0==g?-1:0),!(0>l||l>=x||0>p||p>=y)&&(l=G.G[p][l],p=S(l),Yo(l)&&p.type==zl&&(l=b?jo(p,l,b):Rm[l.y][l.x].Ea,l.J(0)&&(n.u(l),f++,G.challenge==Kl)))){if(null!=p.Ta){var v=p.g;p=G.o[p.Ta];v+=.5*Zo(p.count,50);v=1+4*v;l=l.ub(v)}r.u(l)}h.B.l(n);G.challenge==Kl&&
h.f.l(r);d&&0<f&&d.push(["stingy crops ("+f+")",!0,n,h.clone()])}e||this.type!=wl&&this.type!=xl&&this.type!=Gl||!$o(this.type)||(f=ap(this),0<f&&(l=bp(this.type).i(f).L(1),G.challenge==Kl&&this.type==xl?h.B.l(l):h.l(l),d&&d.push(["multiplicity ("+(f==Math.floor(f)?f.toString():f.toPrecision(3))+")",!0,l,h.clone()])));0<G.s&&this.type!=Al&&this.type!=Fl&&(f=c(1).add(cp()),h.l(f),d&&f.J(1)&&d.push(["tree level ("+G.s+")",!0,f,h.clone()]));Vn(this,h,k,a,d);G.challenge!=dp||this.type!=wl&&this.type!=
xl&&this.type!=Gl||(g=c(.5),h.l(g),d&&d.push(["stormy",!0,g,h.clone()]));if(this.type==wl||this.type==Gl)sn()?(f=ep(),f.mb(1),h.f.Na(f),d&&d.push(["sun",!0,f,h.clone()])):fp(0)&&(f=ep(!0),f.mb(1),h.f.Na(f),d&&d.push(["sun (inactive)",!0,f,h.clone()]));this.type==xl&&(un()?(f=gp(),h.f.l(f),d&&d.push(["mist (less seeds)",!0,f,h.clone()]),f=hp(),f.mb(1),h.B.l(f),d&&d.push(["mist (more spores)",!0,f,h.clone()])):fp(1)&&(f=hp(!0),f.mb(1),h.B.l(f),d&&d.push(["mist (inactive)",!0,f,h.clone()])));e||(this.type!=
wl&&this.type!=xl&&this.type!=Gl||!G.df.J(1)||(h.l(G.df),d&&d.push(["challenge highest levels",!0,G.df,h.clone()])),(this.type==wl||this.type==xl||this.type==Gl)&&G.fa[ip].count&&G.Oa>jp&&(f=kp(),h.l(f),d&&d.push(["highest tree level ever "+G.Oa+" (squirrel upgrade)",!0,f,h.clone()])),this.type!=wl&&this.type!=xl&&this.type!=Gl||!G.fa[lp].count||(g=mp(5==b),f=60*Math.floor(g/60),f>np&&(f=np),g>np&&(g=np),0<f?(f=c(1+f*op/np),h.l(f),d&&d.push(["weighted time at level: "+m.R(g),!0,f,h.clone()])):d&&
d.push(["time at level (begins after 1 minute)",!0,c(1),h.clone()])),this.type!=wl&&this.type!=xl&&this.type!=Gl||G.challenge!=cn||(f=G.Yj.L(1),h.ki(f),d&&d.push(["worker bees (challenge)",!0,f,h.clone()])),!G.pd.J(0)||this.type!=wl&&this.type!=xl&&this.type!=Gl||(f=G.pd.L(1),h.l(f),d&&d.push(["infinity field",!0,f,h.clone()])));!pp()||this.type!=wl&&this.type!=xl&&this.type!=Gl||(f=new c(1.25),h.l(f),G.$a&1?d&&d.push(["present effect",!0,f,h.clone()]):d&&d.push(["egg effect",!0,f,h.clone()]));if(2==
b&&this.type==Al&&a){g=Rm[a.y][a.x];k=qp(this,a,b,null,g.gm());q=qp(this,a,b,null,wl);G.challenge==Kl&&(q=new c(0));u=qp(this,a,b,null,xl);x=qp(this,a,b,null,Fl);e=!e&&G.fa[rp].count;y=P();for(g=f=0;4>g;g++)l=a.x+(1==g?1:3==g?-1:0),p=a.y+(2==g?1:0==g?-1:0),0>l||l>=G.C||0>p||p>=G.F||(l=G.G[p][l],l.index==sp&&(l=tp(l)),!(p=S(l))||p.type!=wl&&p.type!=xl&&p.type!=Fl&&p.type!=Gl||(y.u(p.Cb(l,b)),f++));y.f.l(q);y.B.l(u);y.Y.l(x);e&&ac(y.f,0)&&(y.f=new c(0));h.u(y);d&&(y.empty()?d.push(["no neighbors, not copying",
!1,y,h.clone()]):(ac(k,1)&&d.push(["copy reduction due to multiple watercress globally",!0,k,void 0]),d.push(['<span class="efWatercressHighlight">copying neighbors ('+f+")</span>",!1,y,h.clone()])))}return h};
function jo(a,b,d,e){if(a.type!=yl&&a.type!=zl)return c(0);var f=a.Ea.clone();e&&e.push(["base",!0,c(0),f.clone()]);var g=jn();if(a.index==up&&!d&&G.challenge!=vp){var h=jo(Pm[wp],null,1),k=jo(Pm[up],null,1);h.ba(k)&&(k=h.a(k),f.l(k),e&&e.push(["adjust",!0,k,f.clone()]))}a.index!=xp||d||G.challenge==go||(k=jo(Pm[up],null,1),h=jo(Pm[xp],null,1),k.ba(h)&&(k=k.a(h),f.l(k),e&&e.push(["adjust",!0,k,f.clone()])));d||!b||oo(b)&&G.challenge!=Rn||(G.challenge==Rn?(k=c(po(b.H)),f.l(k),e&&e.push(["withering",
!0,k,f.clone()])):(k=c(b.H),f.l(k),e&&e.push(["growing",!0,k,f.clone()])));if(null!=a.Ta&&(k=G.o[a.Ta],h=Bn[a.Ta],0<k.count)){var l=k.count;a.type==zl&&(l=Math.pow(l,yp));h=h.La.i(l).L(1);f.l(h);e&&e.push([" upgrades ("+k.count+")",!0,h,f.clone()])}Vn(a,f,On(),b,e);if(2!=g&&(a.type==yl&&(k=on(zp),0<k&&(h=qn(zp,k,rn()).L(1),f.l(h),e&&e.push(["fruit: "+vo(zp),!0,h,f.clone()]))),a.type==zl)){k=on(Ap);if(0<k){h=qn(Ap,k,rn()).L(1);f.l(h);e&&e.push(["fruit: "+vo(Ap),!0,h,f.clone()]);var p=h}h=on(Bp);0<
h&&(0<k?(h=qn(Bp,h,rn()).i(Cp).L(1),h=Jj(h.add(p),1).a(p)):h=Pj(qn(Bp,h,rn()).i(Cp).L(1),Dp),f.l(h),e&&e.push(["fruit: "+vo(Bp),!0,h,f.clone()]))}g||(a.type==yl&&(p=G.lk.L(1),p.J(1)&&(f.l(p),e&&e.push(["ethereal crops",!0,p,f.clone()]))),a.type==zl&&(p=G.mk.L(1),p.J(1)&&(f.l(p),e&&e.push(["ethereal crops",!0,p,f.clone()]))),Eo()&&(a.type==zl&&G.fa[Ep].count&&(k=Fp.i(G.fa[Ep].count).L(1),f.l(k),e&&e.push(["squirrel upgrades",!0,k,f.clone()])),a.type==yl&&(G.fa[Gp].count&&(k=Hp.i(G.fa[Gp].count).L(1),
f.l(k),e&&e.push(["squirrel upgrades",!0,k,f.clone()])),G.D[a.index].oa&&G.fa[Ip].count&&(k=Jp.i(G.fa[Ip].count).L(1),k=Pj(k,G.D[a.index].oa),f.l(k),e&&e.push(["squirrel prestiged",!0,k,f.clone()])))),a.type==zl&&Ro(Kp)&&(h=To(Kp).L(1),f.l(h),e&&e.push(["ethereal mistletoe",!0,h,f.clone()])));G.challenge==dp&&a.type==yl&&(k=c(.5),f.l(k),e&&e.push(["stormy",!0,k,f.clone()]));a.type==yl&&(wn()?(p=Lp(),p.mb(1),f.Na(p),e&&e.push(["rainbow",!0,p,f.clone()])):fp(2)&&(p=Lp(!0),p.mb(1),f.Na(p),e&&e.push(["rainbow (inactive)",
!0,p,f.clone()])));g||(a.type!=yl&&a.type!=zl||!$o(a.type)||(p=ap(a),0<p&&(k=bp(a.type).i(p).L(1),f.l(k),e&&e.push(["multiplicity ("+(p==Math.floor(p)?p.toString():p.toPrecision(3))+")",!0,k,f.clone()]))),G.challenge==cn&&(p=G.Yj.L(1),f.ki(p),e&&e.push(["worker bees (challenge)",!0,p,f.clone()])));if(2!=g&&b&&a.type==yl){g=Rm[b.y][b.x];p=g.zj;if(d){g=(G.challenge==Mp?0:0==On())?8:4;k=new c(0);if(b)for(h=0;h<g;h++){l=b.x+(1==h||4==h||5==h?1:3==h||6==h||7==h?-1:0);var q=b.y+(0==h||4==h||7==h?-1:2==
h||5==h||6==h?1:0);0>l||l>=G.C||0>q||q>=G.F||4<=h&&!Np(b.x,b.y,l,q,G.G)||(l=G.G[q][l],io(l)&&S(l).type==Cl&&(l=Op(S(l),l,d),k.u(l)))}g=k.L(1)}else g=g.zl.L(1);k=g;0<p&&(f.l(k),e&&e.push(["bees ("+p+")",!0,k,f.clone()]))}b&&a.type==yl&&(g=Rm[b.y][b.x],p=g.gi,k=d?ho(b,d):g.$k,0<p&&(f.l(k),e&&e.push(["stingy crops malus ("+p+")",!0,k,f.clone()])));return f}
function Op(a,b,d,e){var f=c(0),g=jn(),h=!1;a.type==Cl&&(h=!0);a.index==Pp&&(h=!0);a.index==Qp&&(h=!0);a.index==Rp&&(h=!0);if(!h)return e&&e.push(["base",!0,c(0),f.clone()]),f;f=a.Ea.clone();e&&e.push(["base",!0,c(0),f.clone()]);d||!b||oo(b)&&G.challenge!=Rn||a.type==Dl||(G.challenge==Rn?(d=c(po(b.H)),f.l(d),e&&e.push(["withering",!0,d,f.clone()])):(d=c(b.H),f.l(d),e&&e.push(["growing",!0,d,f.clone()])));if(null!=a.Ta&&(d=G.o[a.Ta],h=Bn[a.Ta],0<d.count)){var k=c(d.count);Nj(k,Sp);h=h.La.i(k).L(1);
f.l(h);e&&e.push([" upgrades ("+d.count+")",!0,h,f.clone()])}if(2!=g&&a.type==Cl){d=on(Tp);if(0<d){h=qn(Tp,d,rn()).L(1);f.l(h);e&&e.push(["fruit: "+vo(Tp),!0,h,f.clone()]);var l=h}h=on(Bp);0<h&&(0<d?(h=qn(Bp,h,rn()).i(Up).L(1),h=Jj(h.add(l),1).a(l)):h=Pj(qn(Bp,h,rn()).i(Up).L(1),Vp),f.l(h),e&&e.push(["fruit: "+vo(Bp),!0,h,f.clone()]))}g||(Eo()&&a.type==Cl&&G.fa[Wp].count&&(g=Xp.i(G.fa[Wp].count).L(1),f.l(g),e&&e.push(["squirrel upgrades",!0,g,f.clone()])),a.type==Cl&&$o(a.type)&&(g=ap(a),0<g&&(l=
bp(a.type).i(g).L(1),f.l(l),e&&e.push(["multiplicity ("+(g==Math.floor(g)?g.toString():g.toPrecision(3))+")",!0,l,f.clone()]))),a.type==Cl&&(g=G.ik.L(1),g.J(1)&&(f.l(g),e&&e.push(["ethereal crops",!0,g,f.clone()]))),a.type==Cl&&Ro(Yp)&&(h=To(Yp).L(1),f.l(h),e&&e.push(["ethereal mistletoe",!0,h,f.clone()])));Vn(a,f,On(),b,e);return f}function Zp(a){return a.type!=Al||0==G.o[En].count?!1:!0}
function qp(a,b,d,e,f){f==Gl&&(f=wl);if(a.type!=Al){var g=c(0);e&&e.push(["none",!0,c(0),g.clone()]);return P()}var h=jn();g=c(a.di||1);e&&e.push(["base",!0,c(1),g.clone()]);if(G.challenge==Kl){var k=c(.25);g.l(k);e&&e.push(["tower defense",!0,k,g.clone()]);return g}var l=1==G.o[En].count,p=!b||.001<b.H?!1:Zp(a);if(2==G.o[En].count){var q=Math.min(Math.max(0,b.H),1);.01<q&&(.75>q?(q/=.75,q=q*q*q*(q*(6*q-15)+10)):q=1,k=c(1+.5*q),g.l(k),e&&e.push(["high-yield brassica choice upgrade",!0,k,g.clone()]))}1==
G.o[En].count&&(k=c(1.25),g.l(k),e&&e.push(["sturdy brassica choice upgrade",!0,k,g.clone()]));p&&(k=new c(l?.45:.15),g.l(k),e&&e.push(["end-of-life",!0,k,g.clone()]));l=3==On();b&&Rm[b.y][b.x].bd&&(l=!1);l&&(k=$p,g.l(k),e&&e.push(["winter malus",!0,k,g.clone()]));if(f!=Fl&&6!=d){b=on(aq);p=on(Bp);if((0<b||0<p)&&G.challenge!=bq){k=0<b?qn(aq,b,rn()).L(1):new c(1);var n=f==wl?cq:dq;q=k;var u=null;0<p&&(0<b?(n=qn(Bp,p,rn()).i(eq).L(1),k=Jj(k.add(n),1),u=k.a(q)):(k=qn(Bp,p,rn()).i(eq).L(1),u=g.L(1),k=
Jj(Pj(g.sa(k).L(1).a(u).L(1),n),1),u=g.L(1).sa(k).a(g),k=q.sa(u)));n=c(1);l&&(n=Jj(k,1).sa($p).L(1),n=n.a(k));0<b&&(g.l(q),e&&e.push(["fruit: "+vo(aq),!0,q,g.clone()]));0<p&&(g.l(u),e&&e.push(["fruit: "+vo(Bp),!0,u,g.clone()]));l&&(g.l(n),e&&e.push(["winterfruit effect weakness",!0,n,g.clone()]))}h||(h=G.kk.L(1),h.J(1)&&(g.l(h),e&&e.push(["ethereal crops",!0,h,g.clone()])),G.fa[Dn].count&&(k=c(1.5),g.l(k),e&&e.push(["squirrel: brassica space-time",!0,k,g.clone()])),Ro(fq)&&(k=To(fq).L(1),g.l(k),e&&
e.push(["ethereal mistletoe: brassica",!0,k,g.clone()])))}f==Fl&&6!=d&&(k=c(.5),g.l(k),e&&e.push(["copying from nuts",!0,k,g.clone()]));a=G.xe[a.type];1<a&&G.challenge!=Kl&&(a=Math.pow(.66,a-1.5),g.Na(a),e&&e.push(["reduction for multiple",!0,c(a),g.clone()]));return g}var gq=[],Pm=[],hq=[],iq=-1;
function jq(a,b,d,e,f,g,h,k,l){g||(g=ue);if(Pm[iq]||0>iq||65535<iq)throw"crop id already exists or is invalid!";var p=new yn;p.index=iq++;Pm[p.index]=p;gq.push(p.index);p.name=a;p.T=b;p.Sb=d;p.fb=f||0;p.image=g;p.ad=h||"";p.Ea=e;p.type=k;p.g=l;p.Fp=l;void 0!=k&&void 0!=l&&(hq[k]||(hq[k]=[]),void 0==hq[k][l]&&(hq[k][l]=p));p.Oe=P(p.Sb);p.Hj=p.fb;return p.index}function kq(a,b,d,e,f){var g=lq(b),h=mq(b);return jq(a,g,h,c(0),d,e,f,wl,b)}
function nq(a,b,d,e,f){var g=oq(b),h=Km(b);return jq(a,g,h,c(0),d,e,f,xl,b)}function pq(a,b,d,e,f){var g=qq(b),h=rq(b);return jq(a,g,h,c(0),d,e,f,Fl,b)}function sq(a,b,d,e,f){var g=tq(b);return jq(a,g,P({}),d,e,f,void 0,yl,b)}function uq(a,b,d,e,f){var g=vq(b);return jq(a,g,P({}),d,e,f,void 0,zl,b)}function wq(a,b,d,e,f,g){var h=P({f:Math.pow(10,b+1)});a=jq(a,h,d,c(0),f,g,void 0,Al,b);Pm[a].di=e;return a}function xq(a,b,d,e){var f=tq(0).i(2),g=P({});return jq(a,f,g,c(0),d,e,void 0,Bl,b)}
function yq(a,b,d,e,f){var g=tq(4*b+3.15);a=jq(a,g,P({}),c(0),e,f,void 0,Cl,b);Pm[a].Ea=d;return a}function zq(a,b,d,e,f,g){return jq(a,d,P({}),c(0),e,f,g,Dl,b)}function Aq(a,b,d,e,f,g){return jq(a,d,P({}),c(0),e,f,g,Gl,b)}function lq(a){if(1>a)var b=0==a?c(1E3):Uj(40,c(a)).i(1E3);else{b=Uj(2E3,c(a));b.Na(20);var d=a;16<=a&&(d-=.7251225);17<=a&&(d-=.2748775);b.l(Uj(1.5,c((d-1)*(d-1))))}a=b;b=new c(a);b.A=Math.round(2147483648*a.A)/2147483648;Dj(b);return P({f:b})}
function mq(a){var b=Uj(2E3,c(a));b.Na(2);0==a&&b.Na(2);b.l(Uj(.35,c(a)));return P({f:b})}function oq(a){return lq(1.5+2*a)}function Km(a){var b=mq(2+2*a).f.Lc(),d=mq(2).f.Lc();d=b.a(d).i(1);1<a&&d.Na(Math.pow(1.25,a-1));return P({f:b,B:d})}var Bq=45,Cq=6;function qq(a){return Jm(Bq+a*Cq).i(1.5)}function rq(a){a=Xj(c(1E3),c(a)).i(.05);return P({Y:a})}function tq(a){return lq(.5+2*a)}function Dq(a){return 0==a?c(.5):1==a?c(2):c(.5).sa(Pj(c(16),a-1))}
function vq(a){var b=4*a+1;2==a&&(b=10);return oq(.05+b)}iq=25;
var Eq=kq("blackberry",0,60,ve),Fq=kq("blueberry",1,120,we),Gq=kq("cranberry",2,240,xe),Hq=kq("currant",3,480,ye),Iq=kq("goji",4,720,ze),Jq=kq("gooseberry",5,960,Ae),Kq=kq("grape",6,1200,Be),Lq=kq("honeyberry",7,1500,Ce),Mq=kq("juniper",8,1800,De),Nq=kq("lingonberry",9,2100,Ee),Oq=kq("mulberry",10,2400,Fe),Pq=kq("physalis",11,2700,Ge),Qq=kq("raspberry",12,3E3,Me),Rq=kq("strawberry",13,3300,Ne,"Botanically speaking, not actually a berry!"),Sq=kq("wampee",14,3600,Oe),Tq=kq("whitecurrant",15,3900,Pe);
iq=50;var Uq=nq("champignon",0,60,Ye),Vq=nq("matsutake",1,180,$e),Wq=nq("morel",2,360,Ze),Xq=nq("muscaria",3,600,af,"amanita muscaria"),Yq=nq("oyster mushroom",4,900,bf),Zq=nq("portobello",5,1200,ef),$q=nq("shiitake",6,1500,ff),ar=nq("truffle",7,1800,gf);iq=75;
var br=sq("anemone",0,Dq(0),90,Qe),cr=sq("clover",1,Dq(1),270,Re),dr=sq("cornflower",2,Dq(2),540,Se),er=sq("daisy",3,Dq(3),810,Te),fr=sq("dandelion",4,Dq(4),1080,Ue),gr=sq("iris",5,Dq(5),1350,Ve),hr=sq("lavender",6,Dq(6),1620,We),ir=sq("orchid",7,Dq(7),1890,Xe);iq=100;var wp=uq("nettle",0,c(5),15,yf),up=uq("thistle",1,c(375),15,zf),xp=uq("poison ivy",2,c(1E5),15,Af);iq=105;var jr=wq("watercress",0,P({f:1}),c(1),60,Ff);Pm[jr].wm=Gf;Pm[jr].vm=If;var kr=wq("wasabi",1,P({f:10}),c(1.25),75,Jf);
Pm[kr].wm=Lf;Pm[kr].vm=Mf;iq=110;var lr=xq("mistletoe",0,50,Uf);iq=120;var mr=yq("bee nest",0,c(3),60,Xf),nr=yq("beehive",1,c(243),120,Yf);iq=130;var or,qr=P();or=jq("squirrel",qr,P({}),c(0),.5,og,void 0,Ym,0);iq=150;
var rr=pq("acorn",0,60,hf,"it's a little oak tree"),sr=pq("almond",1,120,jf),tr=pq("beechnut",2,180,kf),ur=pq("brazil nut",3,240,lf),vr=pq("cashew",4,300,mf),wr=pq("chestnut",5,360,nf),xr=pq("coconut",6,420,of),yr=pq("ginkgo nut",7,480,pf),zr=pq("hazelnut",8,540,qf),Ar=pq("macadamia nut",9,600,rf),Br=pq("peanut",10,660,sf),Cr=pq("pecan nut",11,720,tf),Dr=pq("pili nut",12,780,uf),Er=pq("pine nut",13,840,vf),Fr=pq("pistachio",14,900,wf),Gr=pq("walnut",15,960,xf);iq=200;
var Pp=zq("worker bee",0,P({f:2E4}),60,Zf,"provides bonus to all crops, but only if the worker is next to a flower. This bonus is boosted if the worker is also next to a drone. Since it boosts berries, flowers, mushrooms and mushroom economy, it scales cubically rather than just linearly.");Pm[Pp].dk=c(25);Pm[Pp].Ea=c(.2);var Qp=zq("drone",0,P({f:2E5}),90,ag,"A male bee. Boosts orthogonally neighboring worker bees. Can be boosted by queen bee");Pm[Qp].dk=c(25);Pm[Qp].Ea=c(1);
var Rp=zq("queen bee",0,P({f:2E6}),120,bg,"Boosts orthogonally neighboring drones");Pm[Rp].dk=c(25);Pm[Rp].Ea=c(1);var Hr=jq("aster",P({f:2E4}),P({}),c(.1),60,cg,"Special flower only available in the bee challenge. Place worker bees orthogonally next to this flower for a global boost.");Pm[Hr].type=yl;Pm[Hr].g=0;iq=210;
var vm=zq("spore statue",0,P({f:10}),5,lj,'Spore statue. Makes orthogonally or diagonally connected mushroom stronger, but reduces range. This effect stacks with multiple statues. If at least two spore statues touch a mushroom, adds the "focused" effect: does more damage to waves with small amount of pests.'),wm=zq("splash statue",0,P({f:10}),5,oj,"Splash statue. Makes orthogonally or diagonally connected mushroom weaker, but do splash damage, which is good against groups (but not against splash resistent pests). Does not stack (one splash statue is enough)"),
xm=zq("range statue",0,P({f:10}),5,rj,"Range statue. Increases range of orthogonally or diagonally connected mushroom. This effect stacks with multiple statues."),ym=zq("sniper statue",0,P({f:10}),5,Aj,"Sniper statue. Makes orthogonally or diagonally connected mushrooms snipers: their range covers the full map, and they hit harder, but they are much slower. Splash damage statues have less effect, the splash only works within 1-cell groups (like ticks, ...). Does not stack (one sniper statue is enough)."),
zm=zq("snail statue",0,P({f:10}),5,xj,"Snail statue. Makes orthogonally or diagonally connected mushroom weaker, but slow down pests for a while (unless slow resistent). This effect stacks for multiple statues at a single mushroom, but not from multiple mushrooms."),Am=zq("seed statue",0,P({f:10}),5,uj,"Seed statue. Makes orthogonally or diagonally connected mushroom weaker, but let pests drop more resources when exterminated for a while. This effect stacks for multiple statues at a single mushroom, but not from multiple mushrooms."),
Ir=[];function Jr(a){Pm[a].mc=!0;Pm[a].T=P(0);return Ir[Pm[a].type]=a}iq=300;var Kr=Jr(wq("brassica template",-1,P(0),c(1),0,ah)),Lr=Jr(kq("berry template",-1,0,eh)),Mr=Jr(nq("mushroom template",-1,0,ih)),Nr=Jr(sq("flower template",-1,c(0),0,mh)),Or=Jr(uq("stinging template",-1,c(0),0,qh)),Pr=Jr(yq("bee template",-1,c(0),0,uh)),Wr=Jr(xq("mistletoe template",-1,0,zh)),Xr=Jr(pq("nuts template",-1,0,Lh)),Yr=Jr(Aq("pumpkin template (2x2)",-1,c(0),0,Ph));Pm[Yr].Oc=!0;Pm[Yr].Rg=[Th,Yh,bi,fi];iq=350;
var Zr=Jr(zq("spore statue template",-1,P({f:0}),0,nj)),$r=Jr(zq("splash statue template",-1,P({f:0}),0,qj)),as=Jr(zq("range statue template",-1,P({f:0}),0,tj)),bs=Jr(zq("sniper statue template",-1,P({f:0}),0,Cj)),cs=Jr(zq("slow statue template",-1,P({f:0}),0,zj)),ds=Jr(zq("seed statue template",-1,P({f:0}),0,wj)),es=[];es[vm]=Zr;es[wm]=$r;es[xm]=as;es[ym]=bs;es[zm]=cs;es[Am]=ds;var fs=[],gs;for(gs in es)es.hasOwnProperty(gs)&&(fs[es[gs]]=gs);var hs=[];
function is(a){Pm[a].Vb=!0;Pm[a].T=P(0);return hs[Pm[a].type]=a}iq=400;var js=is(wq("brassica ghost",-1,P(0),c(1),0,ch));is(kq("berry ghost",-1,0,gh));is(nq("mushroom ghost",-1,0,kh));is(sq("flower ghost",-1,c(0),0,oh));is(uq("stinging ghost",-1,c(0),0,sh));is(yq("bee ghost",-1,c(0),0,wh));is(xq("mistletoe ghost",-1,0,Bh));is(pq("nuts ghost",-1,0,Nh));var ks=is(Aq("pumpkin ghost",-1,c(0),0,Rh));Pm[ks].Oc=!0;Pm[ks].Rg=[Vh,$h,di,ii];iq=2E3;
var ls=P({f:666E6}),mo=c(2),ms=Aq("pumpkin (2x2)",0,ls,10,Ug,"Happy halloween! This crop takes up 2x2 field spaces. Its base seed production is "+K(mo)+" of the best planted berry anywhere in the field, so some regular berry must be planted somewhere. The pumpkin is bigger so can have more flower and other neighbors, which gives a significant layout advantage. It gets the full bonus from most neighbors, but only half the bonus for winter tree warmth. For the rest it acts as a berry and gets the same bonuses and neighbor interactions. You can only have max 1 pumpkin.");
Pm[ms].Oc=!0;Pm[ms].Rg=[Qg,Rg,Sg,Tg];iq=3E3;var Qm=kq("berry_placeholder",0,60,void 0),ns=nq("mushroom_placeholder",0,60,void 0),os=[],Bn=[],ps=-1;
function qs(){this.name="a";this.kn=this.description=void 0;this.ue="A";this.ve="B";this.Wn=this.Vn="";this.kl=this.hb=void 0;this.index=0;this.Db=1;this.Vf=this.Uf=this.Ie=this.Xh=this.$d=!1;this.T=P();this.Ah=c(1);this.La=void 0;this.sg="#ff0";this.tg="000";this.Qg=this.Pg=void 0;this.ff=!1;this.Ra=void 0;this.Ee=function(){var a=this.name;0<G.o[this.index].count&&1!=this.Db&&(a+=" "+rs(G.o[this.index].count));return a};this.im=function(){var a=this.name;1!=this.Db&&(a+=" "+rs(G.o[this.index].count+
1));return a};this.Wh=function(){return 0==this.Db?!1:G.o[this.index].count>=this.Db};this.Ff=function(){return G.o[this.index].c&&!this.Wh()};this.O=function(a){a=Pj(this.Ah,G.o[this.index].count+(a||0));return this.T.sa(a)}}
function ss(a,b,d,e,f,g,h,k,l,p,q){if(Bn[ps]||0>ps||65535<ps)throw"upgrades id already exists or is invalid!";var n=new qs;n.index=ps++;Bn[n.index]=n;os.push(n.index);n.name=a;n.T=b;n.Db=f;k&&(n.sg=k);l&&(n.tg=l);p&&(n.Pg=p);q&&(n.Qg=q);n.hb=function(u){this.$d?G.o[this.index].count=u:G.o[this.index].count++;G.o[this.index].c=!0;d()};e||(e=function(){return!0});n.kl=e;n.description=g;n.kn=h;return n.index}
function ts(a,b,d,e,f){var g=Pm[a],h="Unlock "+g.name,k="Unlocks new crop: "+g.name+".";Ub(g.Sb.f,0)&&(k+=" Produces seeds.");Ub(g.Sb.B,0)&&(k+=" Produces spores.");Zb(g.Ea,0)||(k=g.type==zl?k+" Boosts neighbor mushroom spores production without increasing seed consumption, but negatively orthogonally affects neighboring berries and flowers, so avoid touching those with this plant.":g.type==Cl?k+" Boosts neighboring flower's boost.":k+" Boosts neighbors such as berries and mushrooms. Does not boost watercress, but watercress can copy everything from berries that are boosted by flowers.");
k+=" Crop type: "+an(g.type);h=ss(h,b,function(){a!=br||!G.Qa[3]&&0!=G.na||T("You unlocked the first type of flower! Flowers don't produce resources directly, but boost neighboring plants.",us,456645);a!=vs||!G.Qa[3]&&0!=G.na||T("You unlocked the first type of mushroom! Mushrooms produce spores rather than seeds, and spores will be used by the tree.",us,8932);G.D[g.index].c=!0},function(){return e&&!e()?!1:f&&f()||void 0==d||G.Ib[Pm[d].type]>Pm[d].g||G.challenge==Kl&&G.ab[d]?!0:!!G.D[d].I},1,k,"Unlocks new crop of type "+
an(g.type),"#dfc","#0a0",g.image[4],void 0);k=Bn[h];k.Ra=a;k.Ie=!0;k.O=function(){return b};return h}
function ws(a,b){var d=b.g,e=1,f=c(1);if(b.type==wl){var g=lq(d).i(xs);var h=lq(d+1).i(xs/40);e=29;f=c(1.005)}else b.type==xl?(g=oq(d).i(xs),h=oq(d+1).i(xs/400),e=52,f=c(1.0025)):b.type==Fl&&(g=qq(d),h=qq(d+1),e=20,f=c(1.0025));var k=Pj((b.type==Fl?h.B:h.f).a(b.type==Fl?g.B:g.f),1/e);a.T=g;a.O=function(l){l=G.o[this.index].count+(l||0);if(b.type==Fl){var p=Xj(f,c(l*l));l=g.B.sa(Pj(k,l+1)).sa(p);return new P({B:l})}p=Xj(f,c(l*l));l=g.f.sa(Pj(k,l)).sa(p);return new P({f:l})}}
function ys(a,b,d){var e=Pm[a],f=e.name;e.Ta=ps;var g="production";e.type==xl&&(g="production but also consumption");var h=g="Improves "+g+" of "+e.name+" by "+Math.floor(100*(b-1))+"% (multiplicative)";e.type==xl&&(g+="<br><br>Warning: if your mushrooms don't have enough seeds from neighbors, this upgrade will not help since it also increases the consumption. Get your seeds production up first.");f=ss("Upgrade "+f,void 0,function(){},function(){return void 0==d?G.D[a].I>G.D[a].oa:G.o[d].count},0,
g,h,"#fdd","#f00",e.image[4],Bd);g=Bn[f];g.La=c(b);g.Ra=a;g.Xh=!0;ws(g,e);return f}
function zs(a,b,d,e){var f=Pm[a],g=f.g+$m[f.type],h=ss("Prestige "+f.name,b,function(){var k=Pm[a];G.D[a].oa=1;As(a);var l=Ir;G.challenge==Sn&&(l=hs);for(var p=0;p<G.F;p++)for(var q=0;q<G.C;q++){var n=G.G[p][q];Yo(n)&&Bs(n)==a&&(n.index=0,l[k.type]&&(n.index=Cs+l[k.type]),n.H=0)}null!=k.Ta&&(G.o[k.Ta].count=0)},function(){return G.Ib[f.type]<g-1?!1:G.Ib[d]>e||G.Kk[d]>=e||G.challenge==Kl&&G.Ib[d]>=e?!0:!1},1,"Prestiges the crop: "+f.name+". This resets all its upgrades from this run to zero, removes any planted instances, and increases the production rate and cost of this crop, turning it into the next tier.",
"Prestiges the crop: "+f.name,"#ff6","#a80",f.image[4],void 0);h=Bn[h];h.Ra=a;h.Uf=!0;h.O=function(){return b}}function Ds(a,b){var d=a.Ah;if(b.type==yl&&b.index!=Hr){var e=30;if(0==b.g||1==b.g)e=7;a.T=new P({f:tq(b.g).f.i(Es)});var f=a.T.f;b=tq(b.g+1).f.i(Es);d=Pj(b.a(f),1/e)}else b.type==Cl&&(e=80,a.T=new P({f:tq(4*b.g+3.15).f.i(Fs)}),f=a.T.f,b=tq(4*(b.g+1)+3.15).f.i(Fs),d=Pj(b.a(f),1/e));a.O=function(g){g=Pj(d,G.o[this.index].count+(g||0));return this.T.sa(g)}}
function Gs(a,b,d,e,f){var g=Pm[a],h=g.name;g.Ta=ps;var k=g.type==zl?"Improves boost of "+g.name+" by "+Math.floor(100*d)+"% (scales by n^"+yp+" )":g.type==Cl?"Improves boost of "+g.name+" by "+Math.floor(100*d)+"% (scales by n^"+Sp+" )":"Improves boost of "+g.name+" by "+Math.floor(100*d)+"% (additive)";b=ss("Upgrade "+h,b,function(){},function(){return G.challenge==vp&&a==up||G.challenge==go&&a==xp?!0:void 0==e?G.D[a].I>G.D[a].oa:G.o[e].count},0,k,k,"#fdd","#f00",g.image[4],Bd);h=Bn[b];h.La=c(d);
h.Ra=a;h.Xh=!0;h.Ah=c(f);Ds(h,g);return b}var qo=.25;function Hs(a,b,d,e,f){var g=Pm[a],h=g.name;g.Ta=ps;var k="+"+K(c(qo))+" "+g.name+" base production (additive), +35%  lifespan duration";b=ss("Upgrade "+h,b,function(){},function(){return f&&f()?!0:void 0==e?1==(d||1)?G.D[a].I>G.D[a].oa:G.Qb[a]>=(d||1):G.o[e].count},0,k,k,"#fdd","#f00",g.image[4],Bd);g=Bn[b];g.La=c(.35);g.Ra=a;g.Xh=!0;g.O=function(l){l=Qj(c(Is),G.o[this.index].count+(l||0));return this.T.sa(l)};return b}var Js=[];
function Ks(a,b,d,e,f,g,h,k){var l="Choice upgrade, pick one of the two proposed effects. Choose wisely. <br><br><b>"+e+"</b>:<br>"+g+"<br><br><b>"+f+"</b>:<br>"+h;a=ss(a,P(),d,b,1,l,"Choice upgrade, pick one of the two proposed effects","#000","#fff",k,void 0);b=Bn[a];b.$d=!0;b.ue=e;b.ve=f;b.Vn=g;b.Wn=h;Js.push(b);return a}function Ls(){var a=ss("<none>",P(),function(){},function(){return!1},1,"<none>","<none>");Bn[a].ff=!0;return a}ps=25;
var Ms=ts(Eq,lq(0),jr,function(){return 0<G.na?!0:10<=G.Ad+G.lc}),Ns=ts(Fq,lq(1),Eq,void 0,function(){return!1}),Os=ts(Gq,lq(2),Fq,void 0,function(){return!1}),Ps=ts(Hq,lq(3),Gq),Qs=ts(Iq,lq(4),Hq),Rs=ts(Jq,lq(5),Iq),Ss=ts(Kq,lq(6),Jq),Ts=ts(Lq,lq(7),Kq),Us=ts(Mq,lq(8),Lq),Vs=ts(Nq,lq(9),Mq),Ws=ts(Oq,lq(10),Nq),Xs=ts(Pq,lq(11),Oq),Ys=ts(Qq,lq(12),Pq),Zs=ts(Rq,lq(13),Qq),$s=ts(Sq,lq(14),Rq),at=ts(Tq,lq(15),Sq);ps=50;
var vs=ts(Uq,oq(0),Fq,void 0,function(){return!jn()&&G.S[bt].count?!0:!1}),ct=ts(Vq,oq(1),Hq,function(){return!!G.o[vs].count}),dt=ts(Wq,oq(2),Jq,function(){return!!G.o[ct].count}),et=ts(Xq,oq(3),Lq,function(){return!!G.o[dt].count}),ft=ts(Yq,oq(4),Nq,function(){return!!G.o[et].count}),gt=ts(Zq,oq(5),Pq,function(){return!!G.o[ft].count}),ht=ts($q,oq(6),Rq,function(){return!!G.o[gt].count}),it=ts(ar,oq(7),Tq,function(){return!!G.o[ht].count});ps=75;
var kt=ts(br,tq(0),Eq,void 0,function(){return!jn()&&G.S[jt].count?!0:!1}),lt=ts(cr,tq(1),Gq,function(){return!!G.o[kt].count}),mt=ts(dr,tq(2),Iq,function(){return!!G.o[lt].count}),nt=ts(er,tq(3),Kq,function(){return!!G.o[mt].count}),ot=ts(fr,tq(4),Mq,function(){return!!G.o[nt].count}),pt=ts(gr,tq(5),Oq,function(){return!!G.o[ot].count}),qt=ts(hr,tq(6),Qq,function(){return!!G.o[pt].count}),rt=ts(ir,tq(7),Sq,function(){return!!G.o[qt].count});ps=100;
var st=ts(wp,vq(0),void 0,function(){return G.D[Vq].I||G.D[Iq].I||G.challenge==Kl&&(G.D[Vq].c||G.D[Iq].c)?!0:!1}),tt=ts(up,vq(1),void 0,function(){return 2!=jn()&&G.P[vp].X&&G.challenge!=vp?G.D[Zq].I||G.D[Qq].I||G.challenge==Kl&&(G.D[Zq].c||G.D[Qq].c||G.D[Eq].oa)?!0:!1:!1}),ut=ts(xp,vq(2),void 0,function(){return 2!=jn()&&G.P[go].X&&G.challenge!=vp&&G.challenge!=go?1<G.D[Wq].I||1<G.D[Kq].I||G.challenge==Kl&&(G.D[Wq].oa||G.D[Kq].oa)?!0:!1:!1});ps=110;
var wt=ts(lr,tq(0).i(2),void 0,function(){return jn()||G.challenge&&!V[G.challenge].Ec||!(0<G.na&&G.S[vt].count)?!1:G.D[Eq].I||G.o[Ns].count||!jn()&&G.S[jt].count?!0:!1});ps=120;var xt=ts(mr,tq(3.15),void 0,function(){return 2!=jn()&&G.P[cn].X?G.D[er].I||G.Qb[Lq]||G.challenge==Kl&&(G.D[er].c||G.D[Lq].c)?!0:!1:!1}),yt=ts(nr,tq(7.15),void 0,function(){return 2!=jn()&&G.P[cn].X&&G.o[xt].count?G.D[ir].I||G.D[Tq].I||G.challenge==Kl&&(G.D[ir].c||G.D[Tq].c)?!0:!1:!1});ps=200;
var zt=ts(rr,qq(0),void 0,function(){return!Eo()||G.challenge&&!V[G.challenge].og?!1:G.s>=Bq}),At=ts(sr,qq(1),rr,function(){return Eo()?!0:!1}),Bt=ts(tr,qq(2),sr,function(){return Eo()?!0:!1}),Ct=ts(ur,qq(3),tr,function(){return Eo()?!0:!1}),Dt=ts(vr,qq(4),ur,function(){return Eo()?!0:!1}),Et=ts(wr,qq(5),vr,function(){return Eo()?!0:!1}),Ft=ts(xr,qq(6),wr,function(){return Eo()?!0:!1}),Gt=ts(yr,qq(7),xr,function(){return Eo()?!0:!1}),Ht=ts(zr,qq(8),yr,function(){return Eo()?!0:!1}),It=ts(Ar,qq(9),
zr,function(){return Eo()?!0:!1}),Jt=ts(Br,qq(10),Ar,function(){return Eo()?!0:!1}),Kt=ts(Cr,qq(11),Br,function(){return Eo()?!0:!1}),Lt=ts(Dr,qq(12),Cr,function(){return Eo()?!0:!1}),Mt=ts(Er,qq(13),Dr,function(){return Eo()?!0:!1}),Nt=ts(Fr,qq(14),Er,function(){return Eo()?!0:!1}),Ot=ts(Gr,qq(15),Fr,function(){return Eo()?!0:!1});ps=250;var Pt=ts(kr,P({f:100}),void 0,function(){return 2!=jn()&&G.P[bq].X?G.D[Mq].I||G.challenge==Kl&&G.D[Mq].c?!0:!1:!1});ps=325;zs(Eq,lq(16),wl,15);
zs(Fq,lq(17),wl,16);zs(Gq,lq(18),wl,17);zs(Hq,lq(19),wl,18);zs(Iq,lq(20),wl,19);zs(Jq,lq(21),wl,20);zs(Kq,lq(22),wl,21);zs(Lq,lq(23),wl,22);zs(Mq,lq(24),wl,23);zs(Nq,lq(25),wl,24);zs(Oq,lq(26),wl,25);zs(Pq,lq(27),wl,26);zs(Qq,lq(28),wl,27);zs(Rq,lq(29),wl,28);zs(Sq,lq(30),wl,29);zs(Tq,lq(31),wl,30);ps=350;zs(Uq,oq(8),wl,17);zs(Vq,oq(9),wl,19);zs(Wq,oq(10),wl,21);zs(Xq,oq(11),wl,23);zs(Yq,oq(12),wl,25);zs(Zq,oq(13),wl,27);zs($q,oq(14),wl,29);zs(ar,oq(15),wl,31);ps=375;zs(br,tq(8),wl,16);
zs(cr,tq(9),wl,18);zs(dr,tq(10),wl,20);zs(er,tq(11),wl,22);zs(fr,tq(12),wl,24);zs(gr,tq(13),wl,26);zs(hr,tq(14),wl,28);zs(ir,tq(15),wl,30);var Qt=Pj(rq(1).Y.a(rq(0).Y),.05),Is=1.65,xs=10,Es=15,yp=1.05,Sp=1.05,Fs=10;ps=400;Gs(Hr,P({f:1E3}).i(Es),.5,void 0,2.5);var Rt=Gs(Pp,Pm[Pp].T.i(10),c(.5),void 0,10);Bn[Rt].description="boosts the worker bee boost "+K(Bn[Rt].La)+" (additive)";var St=Gs(Qp,Pm[Qp].T.i(10),c(.5),void 0,10);Bn[St].description="boosts the drone boost "+K(Bn[St].La)+" (additive)";
var Tt=Gs(Rp,Pm[Rp].T.i(10),c(.5),void 0,10);Bn[Tt].description="boosts the queen bee boost "+K(Bn[Tt].La)+" (additive)";ps=500;var Ut=ys(Eq,1.25,Ms);ys(Fq,1.25,Ns);ys(Gq,1.25,Os);ys(Hq,1.25,Ps);ys(Iq,1.25,Qs);ys(Jq,1.25,Rs);ys(Kq,1.25,Ss);ys(Lq,1.25,Ts);ys(Mq,1.25,Us);ys(Nq,1.25,Vs);ys(Oq,1.25,Ws);ys(Pq,1.25,Xs);ys(Qq,1.25,Ys);ys(Rq,1.25,Zs);ys(Sq,1.25,$s);ys(Tq,1.25,at);ps=525;var Vt=ys(Uq,1.25,vs);ys(Vq,1.25,ct);ys(Wq,1.25,dt);ys(Xq,1.25,et);ys(Yq,1.25,ft);ys(Zq,1.25,gt);ys($q,1.25,ht);
ys(ar,1.25,it);ps=550;var Wt=Gs(br,tq(0).i(Es),.5,kt,2.5);Gs(cr,tq(1).i(Es),.5,lt,2.5);Gs(dr,tq(2).i(Es),.5,mt,2.5);Gs(er,tq(3).i(Es),.5,nt,2.5);Gs(fr,tq(4).i(Es),.5,ot,2.5);Gs(gr,tq(5).i(Es),.5,pt,2.5);Gs(hr,tq(6).i(Es),.5,qt,2.5);Gs(ir,tq(7).i(Es),.5,rt,2.5);ps=575;var Xt=Gs(wp,vq(0).i(10),.5,st,2.5);Gs(up,vq(1).i(10),.5,tt,2.5);Gs(xp,vq(2).i(10),.5,ut,2.5);ps=580;
var $t=Hs(jr,P({f:100}),5,void 0,function(){return!jn()&&G.S[Yt].count||2!=jn()&&Zt()?!0:(1<=G.Ad||5<=G.lc)&&1<=G.lc}),au=Hs(kr,P({f:1E3}),1,Pt);ps=590;var bu=Gs(mr,tq(3.15).i(Fs),.5,xt,5);Gs(nr,tq(7.15).i(Fs),.5,yt,5);ps=600;ys(rr,Qt,zt);var cu=ys(sr,Qt,At);ys(tr,Qt,Bt);ys(ur,Qt,Ct);ys(vr,Qt,Dt);ys(wr,Qt,Et);ys(xr,Qt,Ft);ys(yr,Qt,Gt);ys(zr,Qt,Ht);ys(Ar,Qt,It);ys(Br,Qt,Jt);ys(Cr,Qt,Kt);ys(Dr,Qt,Lt);ys(Er,Qt,Mt);ys(Fr,Qt,Nt);ys(Gr,Qt,Ot);ps=1E3;
var vn=ss("mist ability",Jm(4).i(0),function(){},function(){return G.challenge==dp?!1:4<=G.s?(G.o[vn].c=!0,G.o[vn].count=1,!0):!1},1,'While enabled, mist temporarily increases mushroom spore production while decreasing seed consumption. In addition, mushrooms are then not affected by winter. This active ability is enabled using its icon button at the top or (by default) the shortcut "shift+2".',"Unlocks active weather ability","#fff","#88f",Gd,void 0);Bn[vn].Vf=!0;
var tn=ss("sun ability",Jm(2).i(0),function(){},function(){return G.challenge==dp?!1:2<=G.s?(G.o[tn].c=!0,G.o[tn].count=1,!0):!1},1,'While enabled, the sun temporarily increases berry seed production. In addition, berries are then not affected by winter. This active ability is enabled using its icon button at the top or (by default) the shortcut "shift+1".',"Unlocks active weather ability","#ccf","#88f",Hd,void 0);Bn[tn].Vf=!0;
var xn=ss("rainbow ability",Jm(6).i(0),function(){},function(){return G.challenge==dp?!1:6<=G.s?(G.o[xn].c=!0,G.o[xn].count=1,!0):!1},1,'While enabled, flowers get a boost, and are not affected by winter. This active ability is enabled using its icon button at the top or (by default) the shortcut "shift+3".',"Unlocks active weather ability","#ccf","#00f",Id,void 0);Bn[xn].Vf=!0;ps=1025;
var du=Ks("fern choice",function(){return 3<=G.s},function(){},"Slower ferns","Richer ferns","Ferns take 9 instead of 2 minutes to appear, but contain enough resources to make up the difference exactly. Ferns left for a very long time will give additional resources, up to several hours worth. This allows to collect more fern resources during idle play, but has no effect on the overall fern income during active play.","Ferns contain on average 25% more resources, but they'll appear as often as before so this benefits active play more than idle play, and is a disadvantage for e.g. combining ferns with weather effects.",
hd[0]);Bn[du].Vf=!0;var eu=Ls();Ls();Ls();Ls();Ls();Ls();Ls();
var fu=.25,hn=Ks("weather choice",function(){return 8<=G.s},function(){1==G.o[hn].count&&(120<G.time-G.Lb&&(G.Lb-=720),180<G.time-G.xb&&(G.xb-=1080),240<G.time-G.zb&&(G.zb-=1440))},"Long weather","Strong weather","Makes the active weather abilities run twice as long, but also twice as long to recharge. This benefits idle play, but gives on average no benefit for active play.","Increases all active ability weather effects by "+100*fu+"%. The active abilities recharge time remains the same so this benefits active play more than idle play.",Hd);
Bn[hn].Vf=!0;
var gu=Ls(),Fn=.5,En=Ks("brassica choice",function(){return 14<=G.s},function(){for(var a=0;a<G.F;a++)for(var b=0;b<G.C;b++){var d=G.G[a][b];d.index==Cs+jr&&(d.H=1)}},"Sturdy brassica","High-yield brassica","Increases brassica (such as watercress) copying effect constantly by 25% and its lifetime by "+K(c(Fn))+". In addition, the brassica will never fully wither, it will remain with limited production after the end of its lifetime. This benefits idle play more than active play, compared to the other choice.","Increases brassica (such as watercress) copying effect by 50% initially, but after a while this bonus gradually reduces to the default production. It will also never wither, but with much less production than the sturdy brassica choice at end of life. This benefits active play more than idle play, compared to the other choice.",
Ff[4]);Bn[En].Vf=!0;var to=.25,so=Ks("resin choice",function(){return 22<=G.s},function(){},"Resin bonus","Production bonus","Gives a 25% bonus to resin production, but not to seed and spores production","Gives a "+100*to+"% bonus to seed and spores production, but not to resin production",Ed);Bn[so].Vf=!0;os=os.sort(function(a,b){return a-b});
function hu(){if(G.challenge||!(G.$a&4)||jn()||!G.na||!G.o[Ms].count)return!1;var a=!1;0==G.challenge&&(a=!0);if(G.challenge==iu||G.challenge==vp)a=!0;G.challenge==eo&&(a=!0);G.challenge==dp&&(a=!0);G.challenge==ju&&(a=!0);G.challenge==Rn&&(a=!0);G.challenge==bq&&(a=!0);return a?!0:!1}ps=2E3;var ku=ts(ms,ls,void 0,function(){return hu()});ps=3E3;zs(rr,qq(16),Fl,15);zs(sr,qq(17),Fl,16);zs(tr,qq(18),Fl,17);zs(ur,qq(19),Fl,18);zs(vr,qq(20),Fl,19);zs(wr,qq(21),Fl,20);zs(xr,qq(22),Fl,21);
zs(yr,qq(23),Fl,22);zs(zr,qq(24),Fl,23);zs(Ar,qq(25),Fl,24);zs(Br,qq(26),Fl,25);zs(Cr,qq(27),Fl,26);zs(Dr,qq(28),Fl,27);zs(Er,qq(29),Fl,28);zs(Fr,qq(30),Fl,29);zs(Gr,qq(31),Fl,30);
function lu(){this.description=this.name="a";this.Pc=["a"];this.qn="a";this.index=0;this.dd=this.og=this.Ec=this.ng=this.ed=!1;this.ia=[0];this.rl=this.nn=void 0;this.wc=0;this.La=c(0);this.ne=this.Pb=0;this.Vd=c(1);this.Cd=c(0);this.hd=c(1);this.Vc=c(1);this.kc=this.$b=0;this.$e=.5;this.ja=0;this.hk=void 0;this.ie=!1;this.Fk=void 0;this.cn=function(){return!1};this.Co=[function(){}];this.si=function(a){return void 0==this.ia?this.nn():0==this.ia.length?!1:G.s>=this.ia[a]};this.Rb=function(){return void 0==
this.ia?1:this.ia.length};this.$g=function(a){if(0==this.Rb())return 0<G.P[this.index].$||a&&G.challenge==this.index?1:0;var b=G.P[this.index].X;a&&G.challenge==this.index&&b<this.Rb()&&this.si(b)&&b++;return b};this.Hc=function(a){return 0==this.Rb()?0<G.P[this.index].$||(a?G.challenge==this.index:!1):this.$g(a)>=this.Rb()};this.ro=function(){return void 0==this.ia?this.Hc(!1):0==this.ia.length?this.Hc(!1):G.s>=this.ei(!1)};this.ac=function(a,b){var d=G.P[this.index];if(1>=this.ja)return d.X?!0:
b?this.si(0):!1;d=d.Ab;b&&G.challenge==this.index&&this.si(0)&&d++;return d>a};this.vl=function(a){if(1>=this.ja)return this.Hc(a);var b=G.P[this.index].Ab;a&&G.challenge==this.index&&this.si(0)&&b++;return 0<b&&b>=this.ja};this.hj=function(){return 2>this.ja?0:G.P[this.index].Ab%this.ja};this.ei=function(a){return void 0==this.ia||0==this.ia.length?0:this.Hc(a)?this.ia[this.ia.length-1]:this.ia[this.$g(a)]};this.ip=function(){return void 0==this.ia||0==this.ia.length?0:this.ia[this.ia.length-1]};
this.fo=function(){return"string"==typeof this.hn?this.hn:this.hn()}}var mu=[],V=[],nu=1;
function ou(a,b,d,e,f,g,h,k,l,p,q){if(V[nu]||0>nu||65535<nu)throw"challenge id already exists or is invalid!";void 0==b||Array.isArray(b)||(b=[b]);Array.isArray(h)||(h=[h]);Array.isArray(p)||(p=[p]);var n=new lu;n.index=nu++;V[n.index]=n;mu.push(n.index);n.name=a;n.description=f;n.hn=g;n.Pc=h;n.qn=k;n.ia=b;n.nn=d;n.rl=e;n.cn=l;n.Co=p;n.ed=!!(q&1);n.ng=!!(q&2);n.Ec=!!(q&4);n.og=!!(q&16);n.dd=!!(q&8);return n.index}
var cn=ou("bee challenge",10,void 0,void 0,"Grow bees during this challenge! This has different gameplay than the regular game.",'\n\u2022 You get only limited regular crops, and must instead boost global production using specially placed bees:<br>\n&nbsp;&nbsp;- Worker bees must be next to a flower, to add to a global boost.<br>\n&nbsp;&nbsp;- Drones must be next to a worker bee, to boost that worker.<br>\n&nbsp;&nbsp;- Queens must be next to a drone, to boost that drone.<br>\n&nbsp;&nbsp;- You still also have to use berries, mushrooms, flowers and watercress to get the necessary spores and seeds.<br>\n\u2022 The only types of crop available are 1 berry type, 1 mushroom type, 1 flower type and 3 types of bee. They\'re all available from the beginning, and no others unlock.<br>\n\u2022 The bee boost applies to the global ecosystem: all berries, mushrooms and flowers (so effectively cubic scaling).<br>\n\u2022 "Neighbor" and "next to" mean the 4-neighborhood, so orthogonally touching but not diagonally.<br>\n',
"Bee nests available in the regular game from now on after planting daisies. In the main game, bee nests boost flowers next to the bee nests. The bee types of this challenge don't exist in the main game and the bee nest works very differently in the main game (no global boost) than the bees in this challenge.","having grown a daisy.",function(){return 1<=G.Qb[er]},function(){},0);V[cn].La=c(.5);V[cn].Pb=0;V[cn].Cd=c(.5);V[cn].Vd=c(.25);V[cn].ie=!0;
var iu=ou("rocks challenge",[15,45,75,105,135,165,195,225],void 0,void 0,"The field has rocks on which you can't plant. The rock pattern is randomly generated at the start of the challenge, but will always be the same within the same when starting in the same 3-hour time interval (based on global UTC time)",function(){return"\u2022 All regular crops, upgrades, ... are available and work as usual<br>\u2022 There are randomized unremovable rocks on the field, blocking the planting of crops<br>\u2022 Next pattern reset in: "+
m.R(10800-m.getTime()%10800)+"<br>"},"one extra storage slot for fruits;another extra storage slot for fruits;another extra storage slot for fruits;another extra storage slot for fruits;another extra storage slot for fruits;another extra storage slot for fruits;another extra storage slot for fruits;another extra storage slot for fruits".split(";"),"reaching tree level 15",function(){return 15<=G.s},[function(){G.Da++},function(){G.Da++},function(){G.Da++},function(){G.Da++},function(){G.Da++},function(){G.Da++},
function(){G.Da++},function(){G.Da++}],31);V[iu].wc=2;V[iu].$b=15;V[iu].kc=100;V[iu].$e=.75;V[iu].hd=c(1.6);V[iu].Vc=c(1.4);V[iu].La=c(.2);V[iu].Pb=0;V[iu].Cd=c(.5);V[iu].Vd=c(.2);V[iu].ie=!0;
var Sn=ou("undeletable challenge",25,void 0,void 0,"\nDuring this challenge, no crops can be removed, only added. Ensure to leave spots open for future crops, and plan ahead before planting!\n","\n\u2022 All regular crops, upgrades, ... are available and work as usual<br>\n\u2022 No crops can be deleted, except watercress<br>\n","deleting a crop gives 66% instead of 33% recoup of resources","reaching tree level 27",function(){return 27<=G.s},function(){},11);V[Sn].La=c(.1);V[Sn].Pb=10;V[Sn].Cd=c(.5);
V[Sn].Vd=c(.5);V[Sn].ie=!0;
var ju=ou("no upgrades challenge",[20,30],void 0,void 0,"\nDuring this challenge, crops cannot be upgraded.\n","\n\u2022 Crops cannot be upgraded, except watercress<br>\n\u2022 Ethereal upgrades, achievement boost, etc..., still apply as normal<br>\n",["unlock the auto-upgrade and auto-choice abilities of the automaton","add more options to the cost configuration dialogs of the automaton"],"reaching ethereal tree level 2 and having automaton",function(){return 2<=G.U&&pu()},[function(){qu(29);T("Auto-upgrade unlocked!",
ru,1067714398)},function(){for(var a=1;a<G.Td.length;a++)G.Td[a]=G.Td[0];for(a=1;a<G.Zb.length;a++)G.Zb[a]=G.Zb[0];qu(30);T("Auto-upgrade extra options unlocked!",ru,1067714398)}],31);V[ju].La=c(.003);V[ju].Pb=10;V[ju].Cd=c(.5);function su(a){return a.Xh&&a.index!=$t&&a.index!=au}
var Rn=ou("wither challenge",[50,70,90,110,130,150,170,200],void 0,void 0,"\nDuring this challenge, crops wither and must be replanted.\n","\n\u2022 Planted crops are fullgrown immediately<br>\n\u2022 Planted crops wither and disappear after 2 minutes<br>\n\u2022 Crops gradually produce less and less as they wither<br>\n\u2022 Cannot delete crops, they'll disappear over time instead, but you can replace crops immediately by more expensive crops of the same type.<br>\n\u2022 Cannot use blueprints. However, one of the later target levels of this challenge unlocks the ability to use them in this challenge too.<br>\n","unlock the auto-action ability of the automaton;allow using blueprints during future wither challenge runs;unlock one more automaton auto-action;auto-action can now also automate weather, fern and brassica refresh;unlock one more automaton auto-action;unlock auto-transcend, season overrides and auto-hold-season;unlock one more automaton auto-action;unlock one more automaton auto-action".split(";"),
"reaching ethereal tree level 5 and having automaton with auto-unlock plants",function(){return 5<=G.U&&pu()&&tu()},[function(){uu(G,vu());T("Automaton auto-action unlocked!",ru,1067714398,void 0,void 0,!0);qu(40)},function(){T("From now on, you can use blueprints during the wither challenge!",ru,1067714398,void 0,void 0,!0)},function(){uu(G,vu());T("An additional automaton auto-action unlocked!",ru,1067714398,void 0,void 0,!0)},function(){T("From now on, auto-actions can also be configured to activate weather, refresh brassica or pick up a fern!",
ru,1067714398,void 0,void 0,!0)},function(){uu(G,vu());T("An additional automaton auto-action unlocked!",ru,1067714398,void 0,void 0,!0)},function(){T("Auto-transcend unlocked!",ru,1067714398,void 0,void 0,!0);qu(45)},function(){uu(G,vu());T("An additional automaton auto-action unlocked!",ru,1067714398,void 0,void 0,!0)},function(){uu(G,vu());T("An additional automaton auto-action unlocked!",ru,1067714398,void 0,void 0,!0)}],0);V[Rn].La=c(.003);V[Rn].Pb=30;V[Rn].Cd=c(.5);V[Rn].ie=!0;
function po(a){return 0>a?0:1<a?1:Math.pow(a,.66)}
var xu=ou("blackberry challenge",[19],void 0,void 0,"\nDuring this challenge, only the first tier of each crop type is available.\n","\n\u2022 Only blackberries, champignons, anemones, nettle, bee nests, watercress and mistletoe are available, from the beginning<br>\n",["unlock the auto-unlock ability of the automaton"],"reaching ethereal tree level 3 and having automaton with auto-upgrade",function(){return 3<=G.U&&pu()&&wu()},[function(){T("Auto-unlock unlocked!",ru,1067714398);qu(33)}],15);
V[xu].La=c(.003);V[xu].Pb=0;V[xu].Cd=c(.25);
var yu=["0001000010100001001100011","1001010000010011110101000","0000010001000110100101000","0100100001000011000011000","0000000001000011100100000"],Mp=ou("rockier challenge",[40],void 0,void 0,"A harder version of the rocks challenge. The field has a difficult predetermined rock pattern. Beating the challenge the first time gives a new type of passive bonus (multiplicity). The rock patterns are very restrictive and don't benefit from field size above 5x5. This challenge is not a cakewalk, especially later patterns.","\n\u2022 All regular crops, upgrades, ... are available and work as usual<br>\n\u2022 There are unremovable rocks on the field, blocking the planting of crops<br>\n\u2022 Bees can't diagonally reach flowers even in spring, due to the heavy amount of rocks<br>\n\u2022 The rock pattern is predetermined, every time you beat the challenge it cycles to a next, harder, pattern<br>\n\u2022 There are 5 patterns in total, each gives an achievement<br>\n",
"multiplicity for berries and mushrooms","reaching tree level 45",function(){return 45<=G.s},function(){qu(34)},31);V[Mp].La=c(0);V[Mp].Pb=20;V[Mp].Cd=c(.2);V[Mp].ja=5;V[Mp].hk=[c(.02),c(.025),c(.03),c(.035),c(.04)];V[Mp].Vd=c(.5);V[Mp].ie=!0;
var vp=ou("thistle challenge",[66],void 0,void 0,"The field is full of thistles which you cannot remove. The thistle pattern is randomly determined at the start of the challenge, and is generated with a 3-hour UTC time interval as pseudorandom seed, so you can get a new pattern every 3 hours. The thistles hurt most crops, but benefit mushrooms, they are next-tier nettles.",function(){return"\u2022 All regular crops, upgrades, ... are available and work as usual<br>\u2022 There are randomized unremovable thistles on the field, which hurt crops that touch them, but benefit mushrooms, more than nettles<br>\u2022 Next pattern reset in: "+
m.R(10800-m.getTime()%10800)+"<br>"},["Unlocks the thistle crop, which is the next tier of nettles. Once unlocked, it's available in the base game once you have grown a portobello."],"having grown a portobello",function(){return 1<=G.Qb[Zq]},function(){T("Thistle unlocked! Thistle is the next tier of the nettle crop.")},31);V[vp].wc=2;V[vp].$b=70;V[vp].kc=100;V[vp].$e=.75;V[vp].hd=c(1.25);V[vp].Vc=c(1.75);V[vp].La=c(.002);V[vp].Pb=33;V[vp].ie=!0;
var bq=ou("wasabi challenge",[65],void 0,void 0,"You only get income from brassica, such as watercress.","\n\u2022 You can only get income from brassica, such as watercress, and their copying effect.<br>\n\u2022 Mushrooms, berries, flowers and so on all still work as normal, but you need to ensure there's a brassica next to some berry, and a brassica next to some mushroom, to get income.<br>\n\u2022 The brassica copying fruit ability does not work during this challenge.<br>\n\u2022 As usual, having multiple brassica reduces the global brassica copying effect, max 2 or so works well.<br>\n",
["Unlocks the wasabi crop, which is the next tier of brassica after watercress. Once unlocked, it's available in the base game once you have grown a juniper (berry tier 9), and can be used in re-runs of this challenge as well."],"reaching ethereal tree level 7",function(){return 7<=G.U},function(){T("Wasabi unlocked! Wasabi is the next tier of brassica, after watercress crop.")},31);V[bq].wc=2;V[bq].$b=65;V[bq].kc=100;V[bq].$e=.66;V[bq].hd=c(1.25);V[bq].Vc=c(1.75);V[bq].La=c(.0025);V[bq].Pb=40;
var zu=ou("basic challenge",[10],void 0,void 0,"Upgrades and effects that last through transcensions don't work, everything is back to basics","\n\u2022 Everything, except the effects listed below, is back to basics like at the first run of the game: Upgrades and effects that last through transcensions (e.g. ethereal crops and upgrades, achievement bonus, squirrel, challenge bonus, multiplicity, ...) or unlock later (amber, ...) don't work.<br>\n\u2022 Basic upgrades, weather, seasons, etc... work, since these are part of a single run, not an effect that lasts through transcensions<br>\n\u2022 Automation with the automaton works<br>\n\u2022 Crops that were unlocked by a challenge, like bee nests, are available if unlocked, but they may not be feasibly reachable<br>\n\u2022 Fruits only partially work, as follows:<br>\n&nbsp;&nbsp;- The fruit abilities strength is virtually reduced to that of a fruit with tier as low as current tree level could drop (e.g. zinc or bronze) with all abilities at maximum level 3.<br>\n&nbsp;&nbsp;- This will be visible in the detailed crop stats in the field, the fruit tab itself will show the fruits with their original levels as if the challenge isn't active.<br>\n&nbsp;&nbsp;- You get the benefit of having multiple abilities of higher tier fruits, even though the fruit otherwise acts like a lower tier one.<br>\n\u2022 Field size remains at your current size, it is not lowered to the original 5x5.<br>\n\u2022 Reminder: you have to plant enough watercress before blackberry unlocks<br>\n",
["No special reward other than the challenge production bonus itself!"],"reaching tree level 50",function(){return 50<=G.s},function(){},0);V[zu].La=c(.075);V[zu].Pb=10;V[zu].Cd=c(.35);V[zu].Vd=c(.5);V[zu].ne=30;
var Au=ou("truly basic challenge",[10],void 0,void 0,"Like the basic challenge, but even less effects work, truly everything is back to basics.","\n\u2022 Truly everything is back to basics like at the first run of the game and even a bit more difficult. Running this challenge now is as good as it can get since no future game advancement can make it easier.<br>\n\u2022 Examples of effects that don't work: ethereal crops and upgrades, achievement bonus, squirrel, challenge bonus, multiplicity, resin bonus, amber, fruits, automaton, field size (it will be 5x5), bees don't exist, ...<br>\n\u2022 Basic upgrades, weather, seasons, etc... work, since these are part of a single run, not an effect that lasts through transcensions<br>\n\u2022 The tabs such as fruit, automaton, squirrel and ethereal field are visible and usable, but won't affect the basic field during this challenge.<br>\n\u2022 Reminder: you have to plant enough watercress before blackberry unlocks<br>\n",["Automaton can do auto-prestige. This is available as part of auto-unlock and enabled by default."],
"Prestiging any crop",function(){return 1<=G.cj},function(){G.rg=1;qu(38);T("Auto-prestige unlocked!",ru,2067714398)},0);V[Au].La=c(.1);V[Au].Pb=10;V[Au].Cd=c(.35);V[Au].Vd=c(.5);V[Au].ne=25;V[Au].ie=!0;var Bu=.25;function Cu(){return G.P[dp].X&&!jn()&&G.challenge!=dp}function fp(a){var b;(b=!Cu())||(b=G.wb,b=0==b?sn():1==b?un():2==b?wn():!1);if(b)return!1;b=!1;0==a&&(b=!!G.o[tn].count);1==a&&(b=!!G.o[vn].count);2==a&&(b=!!G.o[xn].count);return b?G.Ob==a:!1}
var dp=ou("stormy challenge",[65],void 0,void 0,"The weather is stormy, other weather doesn't work","\n\u2022 The weather is stormy throughout the challenge, and other weather abilities don't work.<br>\n\u2022 Every 2 minutes, a crop gets hit by lightning and turns into a ghost. By an amazing coincidence, the lightning always hits the most expensive crop.<br>\n\u2022 Berries, mushrooms and flowers are half as efficient as normal.<br>\n",["Weather effects permanently last in a weaker form after they were activated."],
"reaching tree level 65",function(){return 65<=G.s},function(){},31);V[dp].La=c(.0025);V[dp].Pb=50;
var eo=ou("infernal challenge",[],void 0,void 0,"A challenge where the season is infernal and everything is difficult.","\n\u2022 There is only one season: infernal. This doesn't affect the timing of seasons of regular runs.<br>\n\u2022 Production or boost of most crops divided through 1 billion.<br>\n\u2022 In addition, the stats of berries and mushrooms are reduced even more for higher tiers.<br>\n\u2022 Seasonal boosts don't work.<br>\n",["No special reward other than the challenge production bonus itself!"],
"reaching tree level 85",function(){return 85<=G.s},function(){},0);V[eo].wc=2;V[eo].$b=20;V[eo].kc=100;V[eo].$e=.5;V[eo].hd=c(1.1);V[eo].Vc=c(2);V[eo].La=c(.005);V[eo].Pb=20;V[eo].Vd=c(1.1);
var go=ou("poison ivy challenge",void 0,function(){return 0<G.D[Wq].oa||0<G.D[Kq].oa?!0:!1},"prestige the morel","The field is full of poison ivy in a regular pattern which you cannot remove. The poison ivy hurts most crops, but benefits mushrooms, they are next-tier thistles.\n","\n\u2022 All regular crops, upgrades, ... are available and work as usual<br>\n\u2022 There are unremovable poison ivy on the field, which hurt crops that touch them, but benefit mushrooms, more than thistles<br>\n\u2022 It's significantly harder to reach prestiged morel with this challenge than without.<br>\n\u2022 Automaton will not buy poison ivy upgrades automatically during this challenge. Note that upgrading it makes the challenge even harder, so beware!<br>\n",["Unlocks the poison ivy crop, which is the next tier of thistles. Once unlocked, it's available in the base game after growing a prestiged morel."],
"having prestiged the morel",function(){return 0<G.D[Wq].oa||0<G.D[Kq].oa?!0:!1},function(){T("Poison ivy unlocked! Poison ivy is the next tier of the stingy crop, after the thistle.")},31);V[go].wc=2;V[go].$b=150;V[go].kc=100;V[go].$e=.75;V[go].hd=c(1.3);V[go].Vc=c(1.5);V[go].La=c(.0075);V[go].Pb=130;V[go].ie=!0;
var Kl=ou("tower defense challenge",[],void 0,void 0,"Tower defense\n","\n\u2022 Pests spawn from the top left of the field and will move towards the tree. Pests spawn in increasingly stronger waves, and defeating a wave will increase the tree level by 1.<br>\n\u2022 You should build a maze, with crops, to make the path the pests have to take to the tree longer.<br>\n\u2022 Crops cannot be deleted (once the waves started), but can upgraded and replaced (so the maze shape cannot be altered, but crop types can be changed)<br>\n\u2022 It's not possible to block the maze, there must always be an open path to the tree.<br>\n\u2022 The field size is 2 cells larger than usual in each direction.<br>\n\u2022 When any pest reaches the tree, it's game over, the tree cannot level any further and the only remaining thing to do is to end the challenge<br>\n\u2022 Mushrooms and brassica serve as the towers in \"tower defence\": they shoot spores at the pests to defeat them before they reach the tree.<br>\n\u2022 Various types of statues can be placed next to mushrooms to affect their tower damage type.<br>\n\u2022 Seeds are gained by eliminating pests.<br>\n\u2022 The shooting damage of mushrooms and brassica depends on their spore production, which is determined by flowers, stingy crops and berries as usual (mostly).<br>\n\u2022 Stingy crops boost mushrooms, but unlike normally also increase their seed consumption (higher tiers give a small seed efficiency bonus only).<br>\n\u2022 Mushroom multiplicity does not make them consume more seeds.<br>\n\u2022 Brassica can always copy diagonally from mushrooms (no squirrel ability required).<br>\n\u2022 There's no penalty to brassica for having multiple brassica, but most brassica copying bonuses (like fruits and ethereal field) don't work.<br>\n\u2022 Ferns don't appear during this challenge.<br>\n\u2022 Crops grow faster than usual (and even faster before starting the waves), but towers cannot attack during the few seconds of growing time.<br>\n\u2022 Crops give 100% of resources back when replaced, rather than only a partial recoup. It's possible to change the location of an expensive tower for free by downgrading one and upgrading another this way.<br>\n\u2022 Automaton auto-plant will only work for a small fraction of resources (it will work normally before the first wave).<br>\n\u2022 Any production/s shown for crops is not added to stacks, but instead used for damage calculations. The only income gotten is from exterminating pests. Production/s is shown to be able to see mushroom seed requirement for spores damage. Actual damage is a number that's derived from mushroom spore production and shown in mushroom info.<br>\n\u2022 Crop costs for multiple of the same crop type scale higher than in the regular game.<br>\n\u2022 If any tower hits with extremely high damage compared to the wave's health, it will fast forward to a later wave to speed up the early waves.<br>\n\u2022 See the tower defense help dialog, which can be found under the main menu -> help -> tower defense (down in the list of dynamic help dialogs), or appears when starting tower defense for the first time, for more information on the individual tower and pest types, and tips.<br>\n",["No special reward other than the challenge production bonus itself!"],
"reaching tree level 75",function(){return 75<=G.s},function(){},0);V[Kl].La=c(1);V[Kl].ie=!0;V[Kl].wc=1;V[Kl].$b=75;V[Kl].kc=100;V[Kl].$e=.66;V[Kl].hd=c(2);V[Kl].Vc=c(2);V[Kl].Fk=44;var Du=[iu,Mp,cn,Sn,ju,xu,Rn,vp,dp,bq,zu,Kl,eo,Au,go];if(Du.length!=mu.length)throw"challenges order not same length as challenges!";function jn(){return G.challenge==Au?2:G.challenge==zu?1:0}
function Eu(){this.name="a";this.T=P();this.Sb=P();this.effect=c(0);this.fb=this.index=0;this.Ea=c(0);this.type=void 0;this.g=0;this.ad="";this.image=void 0;this.U=0;this.Vb=this.mc=!1}Eu.prototype.O=function(a,b){var d=1.5;this.type==Xm&&(d=2);this.type==El&&(d=1.5);a=G.Tb[this.index]+(a||0);void 0!=b&&(a=b);return this.T.i(Math.pow(d,a))};Eu.prototype.Wa=function(){return this.O(-1).i(1)};Eu.prototype.Ja=function(){return this.fb};
function Fu(a,b,d){var e=a.Ea.clone();d&&d.push(["base",!0,c(0),e.clone()]);if(b&&a.type==Xm){for(var f=0,g=0;8>g;g++){var h=b.x+(1==g||4==g||5==g?1:3==g||6==g||7==g?-1:0),k=b.y+(0==g||4==g||7==g?-1:2==g||5==g||6==g?1:0);0>h||h>=G.qa||0>k||k>=G.pa||4<=g&&!Np(b.x,b.y,h,k,G.xa)||(h=G.xa[k][h],Yo(h)&&Bs(h)==Gu&&h.wj&&f++)}f&&Ro(Hu)&&(b=To(Hu).L(1),e.l(b),d&&d.push(["mistletoe neighbor",!0,b,e.clone()]))}a.type==Xm&&(a=G.S[Iu],0<a.count&&(b=Ju.i(c(a.count).pow(Ku)).L(1),e.l(b),d&&d.push(["upgrades ("+
a.count+")",!0,b,e.clone()])));return e}var Lu=c(.5),Mu=c(.5);function Nu(){var a=new c(0);0<G.Xa&&a.u(Ou);G.fa[Pu].count&&a.u(Qu.i(G.fa[Pu].count));G.fa[Ru].count&&a.u(Su.i(G.fa[Ru].count));return a}var Tu=0;
Eu.prototype.Kc=function(a,b){if(a&&!b&&a.Zn&&a.fp==Tu)return a.Zn;var d=this.effect.clone();b&&b.push(["base",!0,c(0),d.clone()]);if(a){for(var e=new c(1),f=0,g=0;4>g;g++){var h=a.x+(1==g?1:3==g?-1:0),k=a.y+(2==g?1:0==g?-1:0);0>h||h>=G.qa||0>k||k>=G.pa||(h=G.xa[k][h],Yo(h)&&Uu[Bs(h)].type==Xm&&(h=Fu(Uu[Bs(h)],h),h.J(0)&&(e.u(h),f++)))}f&&(d.l(e),b&&b.push(["lotuses ("+f+")",!0,e,d.clone()]))}if(a){var l=0,p=0;for(g=f=e=0;8>g;g++)h=a.x+(1==g||4==g||5==g?1:3==g||6==g||7==g?-1:0),k=a.y+(0==g||4==g||
7==g?-1:2==g||5==g||6==g?1:0),0>h||h>=G.qa||0>k||k>=G.pa||4<=g&&!Np(a.x,a.y,h,k,G.xa)||(h=G.xa[k][h],Yo(h)&&(Bs(h)==Vu&&l++,Bs(h)==Wu&&p++,Bs(h)==Gu&&h.wj&&e++),!(4>g||G.fa[Xu].count)||h.index!=em&&h.index!=fm||f++);g=!!l;h=!!p;e=!!e&&Ro(Yu);f=!!f;k=g?Zu():new c(0);p=h?$u():new c(0);l=e?To(Yu):new c(0);var q=f?Nu():new c(0),n=k.L(1),u=p.L(1),x=l.L(1),y=q.L(1),r=0;g&&r++;h&&r++;e&&r++;f&&r++;var v=n,w=u,H=x,D=y;1<r&&(v=k.add(p).add(l).add(q).L(1),n.sa(u).sa(x).sa(y),w=new c(1),g&&w.l(n),h&&w.l(u),
e&&w.l(x),f&&w.l(y),w=new c(Wj(w)),D=(new c(Wj(v))).a(w),v=g?Pj(n,D):new c(1),w=h?Pj(u,D):new c(1),H=e?Pj(x,D):new c(1),D=f?Pj(y,D):new c(1));g&&(d.l(v),b&&(g="automaton neighbor",1<r&&(g+=" ["+K(k)+"]"),b.push([g,!0,v,d.clone()])));h&&(d.l(w),b&&(g="squirrel neighbor",1<r&&(g+=" ["+K(p)+"]"),b.push([g,!0,w,d.clone()])));e&&(d.l(H),b&&(g="mistletoe neighbor",1<r&&(g+=" ["+K(l)+"]"),b.push([g,!0,H,d.clone()])));f&&D.J(1)&&(d.l(D),b&&(g="tree neighbor",1<r&&(g+=" ["+K(q)+"]"),b.push([g,!0,D,d.clone()])));
1<r&&(g=c(1.5),d.l(g),b&&b.push(["have at least two special neighbor types",!0,g,d.clone()]))}this.type==wl&&(g=G.S[av],0<g.count&&(h=bv.i(g.count).L(1),d.l(h),b&&b.push(["upgrades ("+g.count+")",!0,h,d.clone()])));this.type==xl&&(g=G.S[cv],0<g.count&&(h=dv.i(g.count).L(1),d.l(h),b&&b.push(["upgrades ("+g.count+")",!0,h,d.clone()])));this.type==yl&&(g=G.S[ev],0<g.count&&(h=fv.i(g.count).L(1),d.l(h),b&&b.push(["upgrades ("+g.count+")",!0,h,d.clone()])));this.type==zl&&(g=G.S[gv],0<g.count&&(h=hv.i(g.count).L(1),
d.l(h),b&&b.push(["upgrades ("+g.count+")",!0,h,d.clone()])));this.type==Cl&&(g=G.S[iv],0<g.count&&(h=jv.i(g.count).L(1),d.l(h),b&&b.push(["upgrades ("+g.count+")",!0,h,d.clone()])));a&&!b&&(a.fp=Tu,a.Zn=d);return d};var kv=[],Uu=[],lv=[],mv=-1;
function nv(a,b,d,e,f,g,h,k,l,p,q){l||(l=ue);if(Uu[mv]||0>mv||65535<mv)throw"crop2 id already exists or is invalid!";var n=new Eu;n.index=mv++;Uu[n.index]=n;kv.push(n.index);n.name=a;n.T=d;n.Sb=e;n.Eh=h;n.Dh=k;n.fb=g;n.image=l;n.ad="";n.Ea=f;n.U=b;n.g=q;n.type=p;void 0!=p&&void 0!=q&&(lv[p]||(lv[p]=[]),lv[p][q]=n);return n.index}function ov(a){a&&"."!=a[a.length-1]&&(a+=".");return a+" Boosted by lotuses and other special ethereal neighbors"}
function pv(a,b,d,e,f,g,h,k){h&&(h=ov(h));a=nv(a,b,e,P({}),c(0),f,void 0,h,k,wl,d);Uu[a].effect=g;return a}function qv(a,b,d,e,f,g,h,k){h&&(h=ov(h));a=nv(a,b,e,P({}),c(0),f,void 0,h,k,xl,d);Uu[a].effect=g;return a}function rv(a,b,d,e,f,g,h,k){h&&(h=ov(h));a=nv(a,b,e,P({}),c(0),f,void 0,h,k,yl,d);Uu[a].effect=g;return a}function sv(a,b,d,e,f,g,h,k){h&&(h=ov(h));a=nv(a,b,e,P({}),c(0),f,void 0,h,k,zl,d);Uu[a].effect=g;return a}
function tv(a,b,d,e,f,g,h){g&&(g=ov(g));a=nv(a,21,d,P({}),c(0),e,void 0,g,h,Al,b);Uu[a].effect=f;return a}function uv(a,b,d,e,f,g,h,k){return nv(a,b,e,P({}),c(f),g,void 0,h,k,Xm,d)}function vv(a,b,d,e,f,g,h,k){return nv(a,b,e,P({}),c(0),f,g,h,k,El,d)}function wv(a,b,d,e,f,g,h,k){h&&(h=ov(h));a=nv(a,b,e,P({}),c(0),f,void 0,h,k,Cl,d);Uu[a].effect=g;return a}function xv(a,b,d,e,f,g,h){a=nv(a,15,d,P({}),c(0),e,void 0,g,h,Bl,b);Uu[a].effect=f;return a}mv=0;
var yv=vv("fern",0,0,P({h:10}),10,"gives 1000 * n^3 starter seeds","Gives 1000 starter seeds after every transcension and also immediately now. If you have multiple, gives 1000 * n^3 starter seeds, with n the amount of ethereal ferns: first one gives 1000, with two you get 8000, three gives 27000, four gives 64000, and so on.",dg),zv=vv("fern II",2,1,P({h:200}),10,"gives 100K * n^3 starter seeds","Gives 100K starter seeds after every transcension and also immediately now. If you have multiple, gives 100K * n^3 starter, with n the amount of ethereal ferns: first one gives 100K, with two you get 800K, three gives 2700K, four gives 6400K, and so on.",
eg),Av=vv("fern III",4,2,P({h:5E4}),10,"gives 10M * n^3 starter seeds","Gives 10M starter seeds after every transcension and also immediately now. If you have multiple, gives 10M * n^3 starter, with n the amount of ethereal ferns: first one gives 10M, with two you get 80M, three gives 270M, four gives 640M, and so on.",fg),Bv=vv("fern IV",6,3,P({h:1E6}),10,"gives 1B * n^3 starter seeds","Gives 1B starter seeds after every transcension and also immediately now. If you have multiple, gives 1B * n^3 starter, with n the amount of ethereal ferns: first one gives 1B, with two you get 8B, three gives 27B, four gives 64B, and so on.",
gg),Cv=vv("fern V",8,4,P({h:2E8}),10,"gives 100B * n^3 starter seeds","Gives 100B starter seeds after every transcension and also immediately now. If you have multiple, gives 100B * n^3 starter, with n the amount of ethereal ferns: first one gives 100B, with two you get 800B, three gives 2700B, four gives 6400B, and so on.",hg);mv=10;var Vu,Dv=P({h:10});
Vu=nv("automaton",1,Dv,P({}),c(0),1.5,"Automates things","Automates things and unlocks crop templates. Boosts 8 ethereal neighbors. Can have max 1. The higher your ethereal tree level, the more it can automate and the more challenges it unlocks. See automaton tab.",lg,Wm,0);var Wu,Ev=P({h:10});Wu=nv("squirrel",5,Ev,P({}),c(0),1.5,"Boosts neighbors",function(){return"Unlocks nuts and squirrel upgrades. Boosts 8 ethereal neighbors. Can have max "+(G.Xa+1)+"."},og,Ym,0);mv=25;
var Fv=pv("blackberry",0,0,P({h:10}),10,c(.25),"boosts berries in the basic field (additive)",ve),Gv=pv("blueberry",1,1,P({h:100}),10,c(1),"boosts berries in the basic field (additive)",we),Hv=pv("cranberry",4,2,P({h:1E5}),10,c(4),"boosts berries in the basic field (additive)",xe),Iv=pv("currant",7,3,P({h:75E6}),10,c(16),"boosts berries in the basic field (additive)",ye),Jv=pv("goji",11,4,P({h:2E12}),10,c(64),"boosts berries in the basic field (additive)",ze),Kv=pv("gooseberry",14,5,P({h:2E15}),10,
c(256),"boosts berries in the basic field (additive)",Ae),Lv=pv("grape",18,6,P({h:3E19}),10,c(1024),"boosts berries in the basic field (additive)",Be),Mv=pv("honeyberry",22,7,P({h:1E24}),10,c(4096),"boosts berries in the basic field (additive)",Ce);mv=50;
var Nv=qv("champignon",0,0,P({h:20}),10,c(.25),"boosts mushrooms spore production and consumption in the basic field (additive)",Ye),Ov=qv("matsutake",3,1,P({h:2E4}),10,c(1),"boosts mushrooms spore production and consumption in the basic field (additive)",$e),Pv=qv("morel",5,2,P({h:5E5}),10,c(4),"boosts mushrooms spore production and consumption in the basic field (additive)",Ze),Qv=qv("muscaria",7,3,P({h:5E7}),10,c(16),"boosts mushrooms spore production and consumption in the basic field (additive)",
af),Rv=qv("oyster mushroom",10,4,P({h:5E11}),10,c(64),"boosts mushrooms spore production and consumption in the basic field (additive)",bf),Sv=qv("portobello",13,5,P({h:5E14}),10,c(256),"boosts mushrooms spore production and consumption in the basic field (additive)",ef),Tv=qv("shiitake",17,6,P({h:3E18}),10,c(1024),"boosts mushrooms spore production and consumption in the basic field (additive)",ff),ew=qv("truffle",22,7,P({h:1E24}),10,c(4096),"boosts mushrooms spore production and consumption in the basic field (additive)",
gf);mv=75;
var fw=rv("anemone",0,0,P({h:50}),10,c(.25),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",Qe),gw=rv("clover",3,1,P({h:25E3}),10,c(1),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",Re),hw=rv("cornflower",6,2,P({h:5E6}),10,c(4),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",Se),
iw=rv("daisy",9,3,P({h:1E10}),10,c(16),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",Te),jw=rv("dandelion",12,4,P({h:5E13}),10,c(64),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",Ue),kw=rv("iris",15,5,P({h:5E16}),10,c(256),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",
Ve),lw=rv("lavender",19,6,P({h:5E20}),10,c(1024),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",We),mw=rv("orchid",23,7,P({h:2.5E25}),10,c(4096),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",Xe);mv=100;
var nw=sv("nettle",2,0,P({h:200}),10,c(.35),"boosts stinging plants in the basic field (additive).",yf),ow=sv("thistle",10,1,P({h:1E11}),10,c(1.4),"boosts stinging plants in the basic field (additive).",zf),pw=sv("poison ivy",26,2,P({h:5E29}),10,c(6),"boosts stinging plants in the basic field (additive).",Af);mv=125;var qw=tv("watercress",0,P({h:9.999999999999999E22}),10,c(1E-4),"boosts brassica in the basic field (additive).",Ff);mv=150;
var rw=uv("white lotus",0,0,P({h:50}),.5,10,"boosts the bonus effect of ethereal neighbors of types that boost basic field (such as berry, mushroom, but not fern). No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",Nf),sw=uv("pink lotus",4,1,P({h:25E4}),4,10,"boosts the bonus effect of ethereal neighbors of types that boost basic field (such as berry, mushroom, but not fern). No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",
Of),tw=uv("blue lotus",8,2,P({h:1E9}),32,10,"boosts the bonus effect of ethereal neighbors of types that boost basic field (such as berry, mushroom, but not fern). No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",Pf),uw=uv("black lotus",12,3,P({h:2E14}),256,10,"boosts the bonus effect of ethereal neighbors of types that boost basic field (such as berry, mushroom, but not fern). No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",
Qf),vw=uv("gold lotus",16,4,P({h:5E17}),2048,10,"boosts the bonus effect of ethereal neighbors of types that boost basic field (such as berry, mushroom, but not fern). No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",Rf),ww=uv("green lotus",20,5,P({h:1E22}),8192,10,"boosts the bonus effect of ethereal neighbors of types that boost basic field (such as berry, mushroom, but not fern). No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",
Sf),xw=uv("red lotus",24,6,P({h:2.5E26}),32768,10,"boosts the bonus effect of ethereal neighbors of types that boost basic field (such as berry, mushroom, but not fern). No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",Tf);mv=200;
var yw=wv("worker bee",8,0,P({h:2E9}),10,c(.01),"boosts bees in the basic field. Does not boost ethereal flowers. Gets a boost from neighboring lotuses.",Zf),zw=wv("drone",13,1,P({h:1E15}),10,c(.04),"boosts bees in the basic field. Does not boost ethereal flowers. Gets a boost from neighboring lotuses.",ag),Aw=wv("queen bee",19,2,P({h:1E21}),10,c(.12),"boosts bees in the basic field. Does not boost ethereal flowers. Gets a boost from neighboring lotuses.",bg);mv=250;
var Gu=xv("mistletoe",0,P({h:10}),1.5,c(.01),"Must be planted next to ethereal tree to work. Gives multiple bonuses, which can be unlocked and upgraded over time.",Uf);function Bw(a){Uu[a].mc=!0;Uu[a].T=P(0);return a}mv=300;
var Cw=Bw(pv("berry template",1,-1,P(),0,c(0),"",eh)),Dw=Bw(qv("mushroom template",1,-1,P(),0,c(0),"",ih)),Ew=Bw(rv("flower template",1,-1,P(),0,c(0),"",mh)),Fw=Bw(sv("nettle template",2,-1,P(),0,c(0),"",qh)),Gw=Bw(uv("lotus template",1,-1,P(),0,0,"",Dh)),Hw=Bw(vv("fern template",1,-1,P(),0,void 0,"",Fh)),Iw,Jw=P();Iw=nv("automaton template",1,Jw,P({}),c(0),0,void 0,"",Hh,Wm,-1);var Kw=Bw(Iw),Lw,Mw=P();Lw=nv("squirrel template",5,Mw,P({}),c(0),0,void 0,"",Jh,Ym,-1);
var Nw=Bw(Lw),Ow=Bw(wv("bee template",8,-1,P(),0,c(0),"",uh)),Pw=Bw(xv("mistletoe template",-1,P(),0,c(0),"",zh)),Qw=Bw(tv("brassica template",-1,P(),0,c(0),"",ah)),Rw=[],Sw=[],Tw=-1;
function Uw(){this.name="a";this.hb=this.description=void 0;this.index=0;this.Db=1;this.T=P();this.sg="#8cf";this.tg="#ff0";this.Qg=this.Pg=void 0;this.Ah=c(1);this.ff=!1;this.U=0;this.Ee=function(){var a=this.name;1<G.S[this.index].count&&(a+=" "+rs(G.S[this.index].count));return a};this.im=function(){var a=this.name;0<G.S[this.index].count&&(a+=" "+rs(G.S[this.index].count+1));return a};this.Wh=function(){return 0==this.Db?!1:G.S[this.index].count>=this.Db};this.Ff=function(){return G.S[this.index].c&&
!this.Wh()}}Uw.prototype.O=function(a){a=Pj(this.Ah,G.S[this.index].count+(a||0));return this.T.sa(a)};function Vw(a){return"function"==typeof a.description?a.description():a.description}
function Ww(a,b,d,e,f,g,h,k,l,p,q,n){if(Sw[Tw]||0>Tw||65535<Tw)throw"upgrades2 id already exists or is invalid!";var u=new Uw;u.index=Tw++;Sw[u.index]=u;Rw.push(u.index);u.name=a;u.T=d;u.Db=h;u.Ah=c(e);l&&(u.sg=l);p&&(u.tg=p);q&&(u.Pg=q);n&&(u.Qg=n);u.hb=function(){G.S[this.index].count++;f()};u.kl=function(){return!G.na||G.U<b||g&&!g()?!1:!0};u.U=b;u.description=k;return u.index}function Xw(){var a=Ww("<deprecated>",99,P(),0,function(){},function(){return!1},1,"<deprecated>");Sw[a].ff=!0}Tw=10;Xw();
Xw();Xw();Xw();Xw();Xw();Xw();Xw();Xw();Tw=20;var Yw=[.33,.25,.25,.25],Zw=[],$w=0;Zw[0]=Ww("improve spring",$w,P({h:10}),2,function(){},function(){return!0},0,"improve spring effect "+100*Yw[0]+"% (scales by n^1.25). Spring boosts flowers.",void 0,void 0,Li[3][1][0]);
Zw[1]=Ww("improve summer",$w,P({h:10}),2,function(){},function(){return!0},0,"improve summer effect "+100*Yw[1]+"% (scales by n^1.25). Summer boosts berry production, this ethereal upgrade additionally slightly boosts mushrooms.",void 0,void 0,Li[3][1][1]);
Zw[2]=Ww("improve autumn",$w,P({h:10}),2,function(){},function(){return!0},0,"improve autumn effect "+100*Yw[2]+"% (scales by n^1.25). Autumn boosts mushroom production, this ethereal upgrade additionally slightly boosts berries.",void 0,void 0,Li[3][1][2]);Zw[3]=Ww("winter hardening",$w,P({h:10}),2,function(){},function(){return!0},0,"increase winter tree warmth effect "+100*Yw[3]+"% (scales by n^1.25).",void 0,void 0,Li[3][1][3]);var In=90;Tw=25;
var Hn=Ww("grow speed",$w,P({h:25}),2,function(){},function(){return!0},0,"basic crops grow up to "+In+" seconds per upgrade level faster. This is soft-capped for already fast crops, a crop that already only takes "+In+" seconds, will not get much faster. So this upgrade mainly improves the higher tier, slower, crops to become faster and thus within reach.",void 0,void 0,ve[0]),ax=c(.02),bx=1.05,cx=1.2,ex=Ww("basic tree boost bonus",$w,P({h:10}),1.5,function(){},function(){return!0},0,function(){var a=
"add "+K(ax)+" to the basic tree production bonus per level (scales by n^"+cx+").",b=G.s||1,d=G.Oa,e=dx(b,G.S[ex].count,!0),f=dx(b,G.S[ex].count+1,!0),g=dx(d,G.S[ex].count,!0),h=dx(d,G.S[ex].count+1,!0);a=a+"<br><br><b>Current bonus at tree level "+(b+"</b>: "+K(e));a=a+"<br><b>Next upgrade bonus at tree level "+(b+"</b>: "+K(f));b!=d&&(a=a+"<br><b>Current bonus at tree level "+(d+"</b>: "+K(g)),a=a+"<br><b>Next upgrade bonus at tree level "+(d+"</b>: "+K(h)));return a},void 0,void 0,Li[10][1][1]),
fx=Ww("extra fruit slot",0,P({h:50,ca:25}),2,function(){G.Da++},function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Ld[1]);function gx(){jn()||G.o[Ms].count||Bn[Ms].hb()}Tw=101;
var Yt=Ww("blackberry secret",$w,P({h:50}),2,function(){gx()},function(){return!0},1,"blackberry is unlocked immediately after a transcension, the upgrade to unlock it is no longer needed and given for free. In addition, the upgrade-watercress upgrade is available from the start rather than after 5 watercress. This makes the start of a run more convenient. TIP: get a fern in the ethereal field to get 1000+ starting seeds to be able to plant a blackberry immediately too.",void 0,void 0,ve[4]);Tw=28;
Tw=50;var ix=Ww("larger field 6x6",$w,P({h:100}),1,function(){var a=Math.max(6,G.C),b=Math.max(6,G.F);2!=jn()&&hx(a,b)},function(){return 5<=G.C&&5<=G.F},1,"increase basic field size to 6x6 tiles",void 0,void 0,qd[0]);Tw=99;
var vt=Ww("unlock mistletoe",$w,P({h:25}),1,function(){},function(){return!0},1,"Unlock mistletoe crop in the basic field. This crop will allow leveling up the ethereal tree through a basic field mechanic giving twigs, and the ethereal tree levels then allow to get next sets of ethereal upgrades and crops. The mistletoe will become available in the basic field when anemones become available and then needs to then be unlocked with a regular upgrade first as usual. Then it can be planted next to the basic tree to start getting twigs (which you actually get on transcend, like resin). This ethereal upgrade is the first step in that process, and this is ultimately required to progress to next stages of the game.",void 0,
void 0,Uf[3]);$w=1;Tw=100;var jx=c(.25),kx=Ww("resin gain",$w,P({h:50}),2,function(){},function(){return!0},0,"increase resin gain from tree by "+100*jx+"% (additive).",void 0,void 0,Ed);Tw++;var lx=Ww("diagonal winter warmth",$w,P({h:150}),2,function(){},function(){return!0},1,"the winter warmth effect of the tree works also diagonally, adding 4 more possible neighbor spots for this effect.",void 0,void 0,Li[5][1][3]);
Ww("unlock automaton",$w,P({h:100}),2,function(){mx(Vu);qu(28);T("Auto-plant unlocked!",ru,1067714398,void 0,void 0,!0);G.fd=1},function(){return!0},1,"the automaton can be placed in the ethereal field, and when placed, boosts 8 neighboring ethereal plants, unlocks the automaton tab, allows to automate things, and allows to place crop templates",void 0,void 0,lg[4]);
var nx=c(.25),ox=Ww("twigs gain",$w,P({h:100}),2,function(){},function(){return!0},0,"increase twigs gain from tree by "+100*nx+"% (additive).",void 0,void 0,Uf[2]);function px(){jn()||G.challenge==Sn||G.challenge==cn||G.challenge==xu||(G.o[Ns].count||Bn[Ns].hb(),G.o[kt].count||Bn[kt].hb(),G.o[wt].count||(!G.challenge||V[G.challenge].Ec)&&Bn[wt].hb())}Tw=122;
var jt=Ww("blueberry secret",$w,P({h:200}),2,function(){px()},function(){return G.S[Yt].count},1,"blueberry, as well as anemone and mistletoe, are unlocked immediately after a transcension, the upgrades to unlock them are no longer needed and given for free, and there is no more waiting required for a fullgrown blackberry.",void 0,void 0,we[4]);Tw=105;$w=2;Tw=120;
Ww("ethereal field 6x6",$w,P({h:2E3,K:2E3}),1,function(){qx(Math.max(6,G.qa),Math.max(6,G.pa));rx()},function(){return 5<=G.qa&&5<=G.pa},1,"increase ethereal field size to 6x6 tiles",void 0,void 0,td[0]);var sx=Ww("twigs extraction",$w,P({h:1E4}),1,function(){},function(){return!0},1,"increase the multiplier per level for twigs, giving exponentially more twigs at higher tree levels: base of exponentiation before: 1.25, after: 1.3",void 0,void 0,Uf[1]);Tw++;
function tx(){jn()||G.challenge==Sn||G.challenge==cn||G.challenge==xu||(G.o[Os].count||Bn[Os].hb(),G.o[vs].count||Bn[vs].hb())}Tw=146;var bt=Ww("cranberry secret",$w,P({h:1E3}),2,function(){tx()},function(){return G.S[jt].count},1,"cranberry, as well as champignon, are unlocked immediately after a transcension, the upgrades to unlock them are no longer needed and given for free, and there is no more waiting required for a fullgrown blueberry.",void 0,void 0,xe[4]);Tw=123;$w=3;Tw=140;
var ux=Ww("extra fruit slot",$w,P({h:5E3,ca:250}),2,function(){G.Da++},function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Ld[2]),vx=Ww("resin extraction",$w,P({h:5E4}),1,function(){},function(){return!0},1,"increase the multiplier per level for resin, giving exponentially more resin at higher tree levels: base of exponentiation before: 1.2, after: 1.25",void 0,void 0,Ed),dn=Ww("diagonal mistletoes",$w,P({h:75E3}),1,function(){},function(){return!0},1,"mistletoes also work diagonally to the tree (10 instead of 6 possible spots)",
void 0,void 0,Uf[4]);Tw=145;var wx=Ww("larger field 7x6",$w,P({h:1E5}),1,function(){var a=Math.max(7,G.C),b=Math.max(6,G.F);2!=jn()&&hx(a,b)},function(){return 6<=G.C&&6<=G.F},1,"increase basic field size to 7x6 tiles",void 0,void 0,qd[0]);Tw++;$w=4;Tw=160;
var bv=c(.25),av=Ww("ethereal berries",$w,P({h:5E5}),2,function(){},function(){return!0},0,"increase bonus of all ethereal berries by "+K(bv)+" (additive).",void 0,void 0,dh,Bd),dv=c(.25),cv=Ww("ethereal mushrooms",$w,P({h:5E5}),2,function(){},function(){return!0},0,"increase bonus of all ethereal mushrooms by "+K(dv)+" (additive).",void 0,void 0,hh,Bd);$w=5;Tw=180;
Ww("ethereal field 7x6",$w,P({h:5E6,K:5E6}),1,function(){qx(Math.max(7,G.qa),Math.max(6,G.pa));rx()},function(){return 6<=G.qa&&6<=G.pa},1,"increase ethereal field size to 7x6 tiles",void 0,void 0,td[0]);
var xx=Ww("extra fruit slot",$w,P({h:2E6,ca:1E4}),2,function(){G.Da++},function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Ld[3]),yx=Ww("unlock squirrel",$w,P({h:1E6}),2,function(){mx(Wu);G.b.Y=c(0);qu(35)},function(){return!0},1,"unlocks the squirrel, nut crops, and a new squirrel tab with a new kind of upgrade. The squirrel must be placed in the ethereal field and then also boosts 8 neighboring ethereal plants. Nuts crops unlock starting from tree level 45.",void 0,void 0,
og[4]),zx=c(.005),Ax=c(.001),Bx=Ww("tree's gesture",$w,P({h:2E6}),5,function(){},function(){return!0},95,function(){return"Highest tree level ever bonus: gain "+K(zx)+" bonus to seeds, spores, resin and twigs income per highest tree level ever reached (multiplicative). For each next upgrade, gain an additional "+K(Ax)+" per upgrade level (additive). Full formula: bonus multiplier = ("+zx.L(1).toString(5)+" + "+Ax.toString(5)+" * (upgrade_levels - 1)) ^ max_tree_level_ever<br><br><b>Current bonus</b>: "+
K(Jj(Bo(0),1))+"<br><b>Next upgrade bonus</b>: "+K(Jj(Bo(1),1))+"<br><b>Next tree level bonus</b>: "+K(Jj(Bo(0,1),1))},void 0,void 0,Li[20][1][1]);$w=6;Tw=200;var Pn=.25,co=c(1.5),Nn=[];Nn[0]=Ww("spring grow speed",$w,P({h:2E7}),2,function(){},function(){return!0},1,"crops grow "+K(c(Pn))+" faster in spring",void 0,void 0,Li[10][1][0]);Nn[1]=Ww("summer resin",$w,P({h:2E7}),2,function(){},function(){return!0},1,"adds a resin bonus to summer, about half as strong as that of winter",void 0,void 0,Li[10][1][1]);
Nn[2]=Ww("autumn resin",$w,P({h:2E7}),2,function(){},function(){return!0},1,"adds a resin bonus to autumn, about half as strong as that of winter",void 0,void 0,Li[10][1][2]);Nn[3]=Ww("winter warmth flowers",$w,P({h:2E7}),2,function(){},function(){return!0},1,"winter tree warmth now also gives a flat "+K(Jj(co,1))+" bonus to flowers",void 0,void 0,Li[10][1][3]);
var fv=c(.25),ev=Ww("ethereal flowers",$w,P({h:1E7}),2,function(){},function(){return!0},0,"increase bonus of all ethereal flowers by "+K(fv)+" (additive).",void 0,void 0,lh,Bd);$w=7;Tw=220;
var Cx=Ww("larger field 7x7",$w,P({h:5E8}),1,function(){var a=Math.max(7,G.C),b=Math.max(7,G.F);2!=jn()&&hx(a,b)},function(){return 7<=G.C&&6<=G.F},1,"increase basic field size to 7x7 tiles",void 0,void 0,qd[0]),Dx=Ww("extra fruit slot",$w,P({h:2E8,ca:1E5}),2,function(){G.Da++},function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Ld[4]);$w=8;Tw=300;
Ww("ethereal field 7x7",$w,P({h:1E10}),1,function(){qx(Math.max(7,G.qa),Math.max(7,G.pa));rx()},function(){return 7<=G.qa&&6<=G.pa},1,"increase ethereal field size to 7x7 tiles",void 0,void 0,td[0]);$w=9;Tw=400;var hv=c(.25),gv=Ww("ethereal stinging",$w,P({h:5E10}),2,function(){},function(){return!0},0,"increase bonus of all ethereal stinging plants (such as nettles) by "+K(hv)+" (additive).",void 0,void 0,ph,Bd);$w=10;Tw=500;
var Ex=Ww("larger field 7x8",$w,P({h:15E11}),1,function(){var a=Math.max(7,G.C),b=Math.max(8,G.F);2!=jn()&&hx(a,b)},function(){return 7<=G.C&&7<=G.F},1,"increase basic field size to 7x8 tiles",void 0,void 0,qd[0]),Fx=Ww("twigs siphoning",$w,P({h:5E11}),1,function(){},function(){return!!G.S[sx].count},1,"gain more twigs at tree levels above 85: base of exponentiation switches from 1.3 to 1.35 starting from this level",void 0,void 0,Uf[1]),Gx=Ww("extra fruit slot",$w,P({h:2E11,ca:1E6}),2,function(){G.Da++},
function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Ld[5]);$w=11;Tw=600;Ww("ethereal field 7x8",$w,P({h:2E13}),1,function(){qx(Math.max(7,G.qa),Math.max(8,G.pa));rx()},function(){return 7<=G.qa&&7<=G.pa},1,"increase ethereal field size to 7x8 tiles",void 0,void 0,td[0]);
var Hx=Ww("resin siphoning",$w,P({h:1E13}),1,function(){},function(){return!!G.S[vx].count},1,"gain more resin at tree levels above 85: base of exponentiation switches from 1.25 to 1.3 starting from this level",void 0,void 0,Ed);$w=12;Tw=700;
var jv=c(.25),iv=Ww("ethereal bees",$w,P({h:1E14}),2,function(){},function(){return!0},0,"increase bonus of all ethereal bees by "+K(jv)+" (additive).",void 0,void 0,xh,Bd),Jx=Ww("unused nuts bonus",$w,P({h:25E12}),2,function(){},function(){return Ix()},1,"get a production bonus for unused nuts (logarithmic).",void 0,void 0,Fd);$w=13;Tw=800;$w=14;Tw=900;
var Kx=Ww("extra fruit slot",$w,P({h:1E15,ca:2E6}),2,function(){G.Da++},function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Ld[6]);$w=15;Tw=1E3;
Ww("unlock ethereal mistletoe",$w,P({h:1E15}),2,function(){mx(Gu);qu(41)},function(){return!0},1,"unlocks the ethereal mistletoe. This crop must be placed in the ethereal field next to the tree. You can have only one of this crop at the same time. It has multiple effects that can get unlocked and upgraded over time. Upgrades cost time.",void 0,void 0,Uf[4]);$w=16;Tw=1100;$w=17;Tw=1200;
var Lx=Ww("larger field 8x8",$w,P({h:2E19}),1,function(){var a=Math.max(8,G.C),b=Math.max(8,G.F);2!=jn()&&hx(a,b)},function(){return 7<=G.C&&8<=G.F},1,"increase basic field size to 8x8 tiles",void 0,void 0,qd[0]);$w=18;Tw=1300;Ww("ethereal field 8x8",$w,P({h:2E20}),1,function(){qx(Math.max(8,G.qa),Math.max(8,G.pa));rx()},function(){return 7<=G.qa&&8<=G.pa},1,"increase ethereal field size to 8x8 tiles",void 0,void 0,td[0]);$w=19;Tw=1400;
var Mx=Ww("extra fruit slot",$w,P({h:2E20,ca:1E7}),2,function(){G.Da++},function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Ld[7]);$w=20;Tw=1500;
var Nx=Ww("unlock infinity field",$w,P({h:8}),2,function(){G.Vg=G.time;qu(42)},function(){return!0},1,"unlocks the infinity field. This is a new field with its own crops producing its own resources. The crops give a small bonus to the basic field, but unlike the ethereal field the infinity field is more focused on growing itself than boosting the basic field.",void 0,void 0,Mi);$w=21;Tw=1600;
var Ox=Ww("larger field 9x8",$w,P({h:1.9999999999999998E23}),1,function(){var a=Math.max(9,G.C),b=Math.max(8,G.F);2!=jn()&&hx(a,b)},function(){return 8<=G.C&&8<=G.F},1,"increase basic field size to 9x8 tiles",void 0,void 0,qd[0]);$w=22;Tw=1700;Ww("ethereal field 9x8",$w,P({h:1E25}),1,function(){qx(Math.max(9,G.qa),Math.max(8,G.pa));rx()},function(){return 8<=G.qa&&8<=G.pa},1,"increase ethereal field size to 9x8 tiles",void 0,void 0,td[0]);$w=23;Tw=1800;$w=24;Tw=1900;$w=25;Tw=2E3;
var Ju=c(.15),Ku=c(1.025),Iu=Ww("ethereal lotuses",$w,P({h:1E29}),7.5,function(){},function(){return!0},0,function(){var a="increase bonus of all ethereal lotuses by "+K(Ju)+" * level ^ "+Ku.toString(4)+". Since lotuses boost multiple different crops, the actual effect is larger than this.",b=G.S[Iu],d=Ju.i(c(b.count).pow(Ku));b=Ju.i(c(b.count+1).pow(Ku));a=a+"<br><br><b>Current bonus</b>: +"+K(d);return a=a+"<br><b>Next upgrade bonus</b>: +"+K(b)},void 0,void 0,Ch,Bd);$w=26;Tw=2100;
var Do=c(.5),Co=Ww("spectral arboretum",$w,P({h:1E30}),6,function(){},function(){return!0},0,function(){var a="production bonus of "+K(Do)+" for ethereal tree levels above 25.";a+="<br>Formula: 50% * upgrade_levels * (ethereal_tree_level - 25).";var b=G.S[Co].count,d=G.U-25,e=Do.i(b).i(d),f=Do.i(b+1).i(d);b=Do.i(b).i(d+1);a=a+"<br><br><b>Current bonus</b>: +"+K(e);a+="<br><b>Next upgrade bonus</b>: +"+K(f);return a+="<br><b>Next ethereal tree level bonus</b>: +"+K(b)},"",void 0,void 0,Li[20][1][4]);
$w=27;Tw=2200;var Kn=180,Jn=Ww("prestiged grow speed",$w,P({h:1E31}),2,function(){},function(){return!0},0,"prestiged crops grow up to "+Kn+" seconds per upgrade level faster. This is soft-capped for already fast crops, a crop that already only takes "+Kn+" seconds, will not get much faster. So this upgrade mainly improves the higher tier, slower, crops to become faster and thus within reach.",void 0,void 0,we[0]);Rw.sort(function(a,b){return Sw[a].index-Sw[b].index});
function Zo(a,b){if(0==b)return 0==a?0:0>a?-1:1;a*=.57735/b;return a/Math.sqrt(a*a+1)}var Px=0,Qx=Px++,uo=Px++,wo=Px++,xo=Px++,zp=Px++,aq=Px++,Gn=Px++,pn=Px++,Ap=Px++,Rx=Px++,Sx=Px++,yo=Px++,Tp=Px++,Bp=Px++,Tx=Px++,zo=Px++,Ao=Px++,Ux=Px++;Px=20;var Vx=Px++,Wx=Px++,Xx=Px++,Yx=Px++,Zx=Px++,$x=Px++,ay=Px++,by=Px++,cy=Px++,dy=Px++;
function qn(a,b,d,e,f){var g=.05*Math.pow(ey(d),.75);if(a==uo)return 9<=d?Pj(c(1.5*g*b),1.1):c(1*g*b);if(a==wo)return 9<=d?Pj(c(2.5*g*b),1.1):8<=d?c(2*g*b):c(1.5*g*b);if(a==xo)return a=Zo(b,5),c(.4*(1+.6*d/11)*a);if(a==zp)return c(1*g*b);if(a==aq)return c(1.25*g*b);if(a==Gn)return a=Zo(b,5),c(.2*(1+3*d/12)*a);if(a==pn)return 8<=d?c(1*g*b):c(1.5*g*b);if(a==Ap)return 8<=d?c(1.5*g*b):c(1*g*b);if(a>=Vx&&a<=Yx)return c(.25);if(a>=Zx&&a<=by)return fy(1)?c(.3):c(0);if(a==cy)return fy(2)?c(.35):c(0);if(a==
dy)return fy(3)?e&&jn()?c(.4):c(1):fy(2)?c(.35):c(0);if(a==Rx){if(1==f)return Pj(c(1*g*b),.25);a=Zo(b,5);d-=4;0>d&&(d=0);return c(2.5*(.2+.5*d/6)*a)}if(a==Sx){if(1==f)return Pj(c(1*g*b),.25);a=Zo(b,5);d-=4;0>d&&(d=0);return c(2.5*(.2+.5*d/6)*a)}if(a==Ux){if(1==f)return Pj(c(1*g*b),.15);a=Zo(b,5);d-=4;0>d&&(d=0);return c(2.5*(.2+.5*d/6)*a)}return a==yo?(a=Zo(b,5),d-=4,0>d&&(d=0),c((.2+.5*d/6)*a)):a==Tp?c(g*b*.5):a==Bp?8<=d?c(g*b*1.25):c(g*b*1.2):a==Tx?gy(d,b,1==f):a==zo?c(1.1*g*b):a==Ao?Pj(c(2.5*g*
b),1.1).i(2.5):c(.1)}var Cp=1,Dp=.3,eq=1.25,cq=.6,dq=.3,Up=.5,Vp=.4;function hy(a){return a==Vx||a==Wx||a==Xx||a==Yx||a==Zx||a==$x||a==ay||a==by||a==cy||a==dy?!0:!1}function iy(a,b,d){var e=!1;a==xo&&(e=!0);a==Gn&&(e=!0);a==Rx&&(e=!0);a==Sx&&(e=!0);a==Ux&&(e=!0);a==yo&&(e=!0);a=e?Pj(c(1.5),b):Pj(c(1.25),b);a=a.i(jy(d));return P({ca:a})}function ky(a){var b=10*jy(a.g);0<a.type&&(b*=1.25);return P({ca:b})}
function jy(a){switch(a){case 0:return 1;case 1:return 4;case 2:return 12;case 3:return 30;case 4:return 45;case 5:return 100;case 6:return 500;case 7:return 1500;case 8:return 4E3;case 9:return 25E3;case 10:return 1E5;case 11:return 4E5}return 0>a?0:4E5}
function ey(a){switch(a){case 0:return 1;case 1:return 4;case 2:return 12;case 3:return 30;case 4:return 45;case 5:return 100;case 6:return 500;case 7:return 1500;case 8:return 4E3;case 9:return 1E4;case 10:return 4E4;case 11:return 1E5}return 0>a?0:1E5}
function ly(a){for(var b=new c(0),d=0;d<a.V.length;d++){var e=a.V[d];if(!hy(e)&&e!=Qx)for(var f=a.Fa[d],g=a.ud[d];g<f;g++){var h=iy(e,g,a.g);b.u(h.ca)}}if(b.ba(a.ca.i(1.01)))for(f=d=-1;b.ba(a.ca);){d++;d>=a.V.length&&(d=0);if(d==f)break;e=a.V[d];hy(e)||e==Qx||a.Fa[d]<=a.ud[d]||(a.Fa[d]--,h=iy(e,a.Fa[d],a.g),b.wa(h.ca),f=d)}a.ca=b}
function my(a,b,d){var e=.1,f=.2,g=.25,h=.5,k=.75;d&&(e=.05,f=.1,g=.15,h=.35,k=.66);return 5>b||5<=b&&9>=b?0:10<=b&&14>=b?a>k?1:0:15<=b&&19>=b?15>G.Ic?1:a>h?1:0:20<=b&&24>=b?a>g?1:0:25<=b&&29>=b?a>h?2:1:30<=b&&34>=b?a>g?2:1:35<=b&&39>=b?a>k?3:2:40<=b&&44>=b?a>h?3:2:45<=b&&49>=b?a>g?3:2:50<=b&&54>=b?a>f?3:2:55<=b&&59>=b?a>k?4:3:60<=b&&64>=b?a>h?4:3:65<=b&&69>=b?a>g?4:3:70<=b&&74>=b?a>f?4:3:75<=b&&79>=b?a>k?5:4:80<=b&&84>=b?a>h?5:4:85<=b&&89>=b?a>g?5:4:90<=b&&94>=b?a>f?5:4:95<=b&&99>=b?a>k?6:5:100<=
b&&104>=b?a>h?6:5:105<=b&&109>=b?a>g?6:5:110<=b&&114>=b?a>f?6:5:115<=b&&119>=b?a>k?7:6:120<=b&&124>=b?a>h?7:6:125<=b&&129>=b?a>g?7:6:130<=b&&134>=b?a>f?7:6:135<=b&&139>=b?a>k?8:7:140<=b&&144>=b?a>h?8:7:145<=b&&149>=b?a>g?8:7:150<=b&&154>=b?a>f?8:7:155<=b&&159>=b?a>e?8:7:160<=b&&165>b?a>k?9:8:165<=b&&170>b?a>h?9:8:170<=b&&175>b?a>g?9:8:175<=b&&180>b?a>f?9:8:180<=b&&185>b?a>e?9:8:185<=b&&190>b?9:190<=b&&195>b?a>k?10:9:195<=b&&200>b?a>h?10:9:200<=b&&205>b?a>g?10:9:205<=b&&210>b?a>f?10:9:210<=b&&215>
b?a>e?10:9:10}function ny(a){var b=1;1<=a&&(b=2);3<=a&&(b=3);5<=a&&(b=4);7<=a&&(b=5);9<=a&&(b=6);return b}var oy={};oy[Qx]=!0;oy[Vx]=!0;oy[Wx]=!0;oy[Xx]=!0;oy[Yx]=!0;oy[Zx]=!0;oy[$x]=!0;oy[ay]=!0;oy[by]=!0;oy[cy]=!0;oy[dy]=!0;
function py(a,b,d){if(a==b)return a;if(2<=d){if(1==a&&2==b||2==a&&1==b)return 5;if(2==a&&3==b||3==a&&2==b)return 6;if(3==a&&4==b||4==a&&3==b)return 7;if(4==a&&1==b||1==a&&4==b)return 8}if(4<=d&&(5==a&&7==b||7==a&&5==b||6==a&&8==b||8==a&&6==b))return 9;if(5<=d&&(0==a&&9==b||9==a&&0==b))return 10;d=Math.max(a,b);if(9==d||10==d)return Math.min(a,b);var e=0;if(1<=a&&4>=a)e=1<<a-1;else if(5<=a&&7>=a)e=3<<a-5;else if(8==a)e=9;else if(9==a||10==a)e=15;a=0;if(1<=b&&4>=b)a=1<<b-1;else if(5<=b&&7>=b)a=3<<b-
5;else if(8==b)a=9;else if(9==b||10==b)a=15;if((3==e||3==a)&&3==(e|a)&&0!=(e&a))return 5;if((6==e||6==a)&&6==(e|a)&&0!=(e&a))return 6;if((12==e||12==a)&&12==(e|a)&&0!=(e&a))return 7;if((9==e||9==a)&&9==(e|a)&&0!=(e&a))return 8;b=e&a;return 15==b?d:3==(b&3)?5:6==(b&6)?6:12==(b&12)?7:9==(b&9)?8:1==b?1:2==b?2:4==b?3:8==b?4:0}
function qy(a,b){for(var d=a.V.length,e=b.V.length,f=!0,g={},h={},k=0;k<d;k++)oy[a.V[k]]||(g[a.V[k]]=!0);for(k=0;k<e;k++)if(!oy[b.V[k]]){if(!g[b.V[k]]){f=!1;break}h[b.V[k]]=!0}for(k=0;k<d;k++)if(!oy[a.V[k]]&&!h[a.V[k]]){f=!1;break}return f}
function ry(a,b,d,e,f,g){if(!a||!b||a==b||a.g!=b.g)return null;var h=ny(a.g),k=a.V.length,l=b.V.length,p=py(a.type,b.type,d);if(9==a.type!=(9==b.type)&&(0==a.type||0==b.type)&&5>d)return g&&(g[0]="You need another squirrel upgrade before you can fuse star fruit with apple, and the apple must have the same set of abilities.",g[1]=1),null;if(10==p&&10>a.type&&10>b.type){d=qy(a,b);if(!d)return g&&(g[0]="You could get a legendary dragon fruit out of these fruit types, but only if they have the same abilities. Fuse a star fruit with an apple with the same set of abilities to get a dragon fruit.",
g[1]=1),null;g&&(g[0]="You fused a legendary dragon fruit! Beware, dragon fruits can only be fused with other dragon fruits, not with any other fruit types.",g[1]=0)}if(9==p&&9>a.type&&9>b.type){d=qy(a,b);if(!d)return g&&(g[0]="You could get a 4-season star fruit out of these fruit types, but only if they have the same abilities. Fuse two complementing two-seasonal fruits with the same set of abilities to get a star fruit.",g[1]=1),null;g&&(g[0]="You fused a 4-season star fruit! Beware, star fruits can only be fused with other star fruits, or, after you have a certain squirrel ability, with apples.",
g[1]=0)}g=new sy;g.g=a.g;g.type=a.type==b.type?a.type:p;1<=g.type&&(g.V[h]=Vx+g.type-1,1<=g.type&&4>=g.type?(g.Fa[h]=a.Fa[h],g.ud[h]=a.ud[h],g.Ua[h]=a.Ua[h]):4<g.type&&(g.Fa[h]=a.Fa[h],g.ud[h]=a.ud[h],g.Ua[h]=a.Ua[h]));g.Xd=a.Xd+b.Xd+1;g.name=a.name||b.name;g.mark=a.mark||b.mark;p={};var q={};for(d=0;d<k;d++)oy[a.V[d]]||(q[a.V[d]]=[d,a.Ua[d]],p[a.V[d]]=a.ud[d]);k={};for(d=0;d<l;d++)if(!oy[b.V[d]]){k[b.V[d]]=[d,b.Ua[d]];if(void 0==p[b.V[d]])var n=b.ud[d];else{n=p[b.V[d]];var u=b.ud[d];n=Math.ceil(.75*
Math.min(n,u)+.25*Math.max(n,u))}p[b.V[d]]=n}for(d=0;d<h;d++)g.V[d]=a.V[d],g.Ua[d]=a.Ua[d];for(d=0;d<h;d++)n=g.V[d],oy[n]||void 0==k[n]||(n=q[n][1]+k[n][1]+1,2<n&&(n=2),g.Ua[d]=n);for(d=n=0;d<l;d++)2==b.Ua[d]&&e[d]&&(void 0!=q[b.V[d]]?(f=m.clone(f),f[q[b.V[d]][0]]=!0):n++);k=[];for(d=u=0;d<h;d++)f[d]&&u++;u=Math.max(0,h-u-n);for(d=0;d<u&&!(k.length>=h-n);d++)k.push([g.V[d],g.Ua[d]]);for(d=u;d<h&&!(k.length>=h-n);d++)f[d]&&k.push([g.V[d],g.Ua[d]]);for(d=u;d<h-n&&!(k.length>=h-n);d++)f[d]||k.push([g.V[d],
g.Ua[d]]);for(d=0;d<l;d++)2==b.Ua[d]&&e[d]&&void 0==q[b.V[d]]&&k.push([b.V[d],2]);for(d=0;d<k.length&&!(d>=h);d++)g.V[d]=k[d][0],g.Ua[d]=k[d][1];f={};q={};for(e=0;e<a.V.length;e++)f[a.V[e]]=e;l=[];d=[];k=!0;for(e=0;e<g.V.length;e++)q[g.V[e]]=e,void 0!=f[g.V[e]]?a.V[e]!=g.V[e]&&(k=!1):d.push(e);if(!k){for(e=0;e<a.V.length;e++)void 0!=q[a.V[e]]&&l.push(q[a.V[e]]);n=k=0;q=[];for(e=0;e<g.V.length;e++)q[e]=void 0!=f[g.V[e]]?l[k++]:d[n++];for(e=0;e<q.length;e++)f=q[e],q[e]=[g.V[f],g.Ua[f]];for(e=0;e<q.length;e++)g.V[e]=
q[e][0],g.Ua[e]=q[e][1]}for(d=0;d<h;d++)e=p[g.V[d]],g.Fa[d]=e,g.ud[d]=e;p={};for(h=0;h<a.V.length;h++)oy[a.V[h]]||(p[a.V[h]]=a.Fa[h]);for(h=0;h<b.V.length;h++)oy[b.V[h]]||(p[b.V[h]]=p[b.V[h]]?Math.max(p[b.V[h]],b.Fa[h]):b.Fa[h]);e=Xb(a.ca,b.ca);a=ny(g.g);b=[];for(h=0;h<a;h++)b[h]=e.ub(a);e=c(e);f=[];for(h=0;h<a;h++)f[h]=p[g.V[h]];for(;;){p=!1;for(h=0;h<a;h++)l=g.Fa[h],b[h].Xk(0)||l>=f[h]||(l=iy(g.V[h],l,g.g).ca,l.ba(e)||(g.Fa[h]++,g.ca.u(l),e.wa(l),b[h].wa(l),p=!0));if(!p)break}return g}
var ty=10,uy=c(.05);function dx(a,b,d){var e=c(uy),f=jn();f&&!d||e.u(ax.i(Math.pow(b,cx)));e.Na(Math.pow(a,bx));2==f||d||(a=on(Tx),0<a&&(a=qn(Tx,a,rn()).L(1),e.l(a)));return e}function cp(){return dx(G.s,G.S[ex].count,!1)}function gy(a,b,d){var e=G.s;if(7>=a){var f=115;var g=135}else 8==a?(f=135,g=160):9==a?(f=160,g=190):(f=160+30*(a-9),g=f+30);return qn(Tp,b,a).i(Zo(((d?g:e)-(f+Math.floor(.37*(g-f))))/(g-f),.5)+1)}
function Jm(a){var b=new P;if(150>a)b.B=Uj(9,c(a-1)).i(6.666666);else{var d=Uj(9,c(148)).i(6.666666);a=Uj(18,c(a-149));b.B=d.sa(a)}return b}function vy(){return 1>=G.ce?c(1):c(.5*(G.ce-1)+1)}function wy(){var a=Jm(G.s+1);a.l(vy());return a}function xy(a){if(!a||0>a)return 0;a=10>a?a:50>a?10+Math.floor((a-10)/5):18+Math.floor((a-50)/10);a>=Li.length&&(a=Li.length-1);return a}var yy=c(.15),zy=c(.05);
function Ay(a,b){if(0>=a)return c(0);var d=1.2;G.S[vx].count&&(d=1.25);if(G.S[Hx].count&&85<=a){var e=Uj(d,c(83));d=1.3;e.l(Pj(c(d),a-85+1));e=e.i(.25).L(.5)}else e=Uj(d,c(a-1)).i(.25).L(.5);16<a&&e.mb(2*(a-16));b&&b.push(["base (per tree level roughly x"+d+")",!0,c(0),e.clone()]);a=On();3==a?(d=By(),e.l(d),b&&b.push(["winter bonus",!0,d,e.clone()])):0!=a&&(d=Cy(a),Ub(d,1)&&(e.l(d),b&&b.push([Um[a]+" bonus (ethereal upgrade)",!0,d,e.clone()])));if(a=G.S[kx].count)d=jx.i(a).L(1),e.l(d),b&&b.push(["ethereal upgrades",
!0,d,e.clone()]);if(a=G.fa[Dy].count)d=Ey.i(a).L(1),e.l(d),b&&b.push(["squirrel upgrades",!0,d,e.clone()]);G.U&&(d=zy.i(G.U).L(1),e.l(d),b&&b.push(["ethereal tree level",!0,d,e.clone()]));1==G.o[so].count&&(a=c(1.25),e.l(a),b&&b.push(["resin choice: resin",!0,a,e.clone()]));a=Bo();a.J(1)&&(e.l(a),b&&b.push(["tree's gesture",!0,a,e.clone()]));Ro(Fy)&&(a=To(Fy).L(1),e.l(a),b&&b.push(["ethereal mistletoe",!0,a,e.clone()]));if(G.Wd[Gy]||G.Ed.J(1))a=Hy(Gy,G,3),a.J(1)&&(d=Hy(Gy,G,0),e.l(a),b&&b.push([d.Ub(a)?
"tang (fish)":"tang fish (time-weighted)",!0,a,e.clone()]));G.te.J(1)&&(a=G.te,e.l(a),b&&b.push(["challenge highest levels",!0,a,e.clone()]));a=G.ce;1<a&&(d=Pj(c(1).sub(yy),a-1),e.l(d),b&&b.push(["mistletoe malus ("+a+")",!0,d,e.clone()]));Ub(G.ih,0)&&(a=G.ih.a(G.qk),!ck(a)&&a.mf(0)&&(a=a.L(1),e.l(a),b&&b.push(["fruit resin boost",!0,a,e.clone()])));return e}var Iy=10800,Jy="(the bonus is decreased if the fish is only present for part of the time during a run, time-weighted in a max "+m.R(Iy)+" time window)";
function Hy(a,b,d){if(3==d)return Yb(Hy(a,b,0),Hy(a,b,2));if(a==Ky)return a=b.cb[Ly],d=b.cb[My],b=b.cb[Ny],new c(1+Oy*a+Py*d+Qy*b);if(a==Ry)return a=b.cb[Sy],d=b.cb[Ty],new c(1+Uy*a+Vy*d);if(a==Wy)return a=b.cb[Xy],d=b.cb[Yy],new c(1+Zy*a+$y*d);if(a==az)return a=b.cb[bz],d=b.cb[cz],new c(1+dz*a+ez*d);if(a==fz)return a=b.cb[gz],d=b.cb[hz],b=b.cb[iz],new c(1+jz*a+kz*d+lz*b);if(a==mz)return a=b.cb[nz],d=b.cb[oz],b=b.cb[pz],new c(1+qz*a+rz*d+sz*b);if(a==tz){if(0==d)return a=b.cb[uz],d=b.cb[vz],new c(1+
wz*a+xz*d);if(ac(b.Fd,1))return new c(1);a=2==d?b.Qf:0;a=Math.min(Iy,b.ga-b.Pf+a);d=Iy-a;return b.Fd.i(d).add(b.Ce.i(a)).ub(a+d)}if(a==Gy){if(0==d)return a=b.cb[yz],d=b.cb[zz],new c(1+Az*a+Bz*d);if(ac(b.Ed,1))return new c(1);a=2==d?b.Of:0;a=Math.min(Iy,b.ga-b.Nf+a);d=Iy-a;return b.Ed.i(d).add(b.Be.i(a)).ub(a+d)}return a==Cz?(a=b.cb[Dz],d=b.cb[Ez],new c(1+Fz*a+Gz*d)):a==Hz?(a=b.cb[Iz],d=b.cb[Jz],0==a&&0==d?new c(1):new c(1+Kz*a+Lz*d)):new c(1)}
function Mz(a,b,d){if(3==b)return Yb(Mz(a,0),Mz(a,2));if(0==b){if(void 0!=d)return d;b=c(0);for(d=0;d<a.Ga;d++)for(var e=0;e<a.Ha;e++){var f=a.va[d][e];Yo(f)&&b.u(Nz[Bs(f)].Kc(f,void 0))}return b}if(ac(a.sf,0))return new c(0);b=Math.min(Iy,a.ga-a.Tf+(2==b?a.rf:0));d=Iy-b;return a.sf.i(d).add(a.qf.i(b)).ub(b+d)}function Oz(a,b){if(2==b)return nl(Oz(a,0),Oz(a,2));if(0==b)return a.Wg;if(void 0==a.Ug)return new c(0);b=Math.min(Iy,a.ga-a.Tg);var d=Iy-b;return a.Ug.i(d).add(a.Sg.i(b)).ub(b+d)}
function Pz(a){var b=G.s+1;if(0>=b)return P({K:0});var d=new P;d.K=c(.02);var e=1.25;G.S[sx].count&&(e=1.3);G.S[Fx].count&&85<=b?(d.K.l(Pj(c(e),83)),e=1.35,d.K.l(Pj(c(e),b-85+1))):d.K.l(Pj(c(e),b-1));d.K.mb(.55);11<b&&d.K.mb(b-11);a&&a.push(["base (per tree level roughly x"+e+")",!0,c(0),d.clone()]);b=c(Math.log2(G.ce+1));d.K.l(b);a&&(1==G.ce?a.push(["1 mistletoe (the minimum)",!0,b,d.clone()]):a.push(["#mistletoes ("+G.ce+")",!0,b,d.clone()]));2==On()&&(b=Qz(),d.K.l(b),a&&a.push(["autumn bonus",
!0,b,d.clone()]));if(b=G.S[ox].count)b=nx.i(b).L(1),d.K.l(b),a&&a.push(["ethereal upgrades",!0,b,d.clone()]);if(b=G.fa[Rz].count)b=Sz.i(b).L(1),d.K.l(b),a&&a.push(["squirrel upgrades",!0,b,d.clone()]);b=Bo();b.J(1)&&(d.K.l(b),a&&a.push(["tree's gesture",!0,b,d.clone()]));b=Tz;G.Kf&&(b==Tz||Ro(b))&&(b=To(Tz).L(1),d.K.l(b),a&&a.push(["ethereal mistletoe",!0,b,d.clone()]));if(G.Wd[tz]||G.Fd.J(1))b=Hy(tz,G,3),b.J(1)&&(e=Hy(tz,G,0),d.K.l(b),a&&a.push([e.Ub(b)?"eel":"eel (time-weighted)",!0,b,d.clone()]));
G.te.J(1)&&(b=G.te,d.K.l(b),a&&a.push(["challenge highest levels",!0,b,d.clone()]));Ub(G.ph,0)&&(b=G.ph.a(G.qk),!ck(b)&&b.mf(0)&&(b=b.L(1),d.K.l(b),a&&a.push(["fruit twigs boost",!0,b,d.K.clone()])));return d}function Uz(a){var b=new P;b.K=20>a?1==a?c(72):2==a?c(1296):Uj(12,c(a-1)).i(144):Uj(24,c(a-19)).i(3.8337599924474725E21);return b}var Vz=10.00001;
function Wz(a,b){var d=new P;d.f=c(Vz);G.challenge==Kl&&(d.f=c(Math.max(Vz,1E7)));if(jn())return d;var e=G.Tb[yv];a==yv&&e++;b==yv&&e--;d.f.mb(e*e*e*1E3);e=G.Tb[zv];a==zv&&e++;b==zv&&e--;d.f.mb(e*e*e*1E5);e=G.Tb[Av];a==Av&&e++;b==Av&&e--;d.f.mb(e*e*e*1E7);e=G.Tb[Bv];a==Bv&&e++;b==Bv&&e--;d.f.mb(e*e*e*1E9);e=G.Tb[Cv];a==Cv&&e++;b==Cv&&e--;d.f.mb(e*e*e*1E11);return d}
function Po(a){a=(new c(Yj(a.L(1)))).i(.1).L(1);var b=on(Rx);0<b&&(b=qn(Rx,b,rn(),!1,1).L(1),a=a.sa(b));b=on(Ux);0<b&&(b=qn(Ux,b,rn(),!1,1).L(1),a=a.sa(b));return a}function Qo(){var a=(new c(Yj(G.b.K.L(1)))).i(.01).L(1);var b=on(Sx);0<b&&(b=qn(Sx,b,rn(),!1,1).L(1),a=a.sa(b));b=on(Ux);0<b&&(b=qn(Ux,b,rn(),!1,1).L(1),a=a.sa(b));return a}function No(){return!!G.S[Jx].count}function Oo(){var a=G.b.Y;return No()?(new c(Yj(a.L(1)))).i(.025).L(1):c(1)}
var Xz=1.5,Yz=2.5,Zz=2.5,$z=1.5,ao=.75,aA=2.5,bA=1.5,cA=1.25,dA=.5,eA=.5;function Wn(){var a=c(Xz),b=G.S[Zw[0]].count;!jn()&&b&&(b=Pj(c(b),cA).i(Yw[0]).L(1),a=a.sa(b));var d=fA(Vx);b=d[0];d=d[1];0<b&&(b=c(1).add(qn(d,b,rn(),!0)),a.l(b));return a}function Xn(){var a=c(Yz),b=G.S[Zw[1]].count;!jn()&&0<b&&(b=Pj(new c(b),cA).i(Yw[1]).L(1),a=a.sa(b));var d=fA(Wx);b=d[0];d=d[1];0<b&&(b=qn(d,b,rn(),!0).L(1),a.l(b));return a}function Yn(){return Jj(Xn(),Yz).i(dA).L(1)}
function Zn(){var a=c(Zz),b=G.S[Zw[2]].count;!jn()&&0<b&&(b=Pj(new c(b),cA).i(Yw[2]).L(1),a=a.sa(b));var d=fA(Xx);b=d[0];d=d[1];0<b&&(b=qn(d,b,rn(),!0).L(1),a.l(b));return a}function $n(){return Jj(Zn(),Zz).i(eA).L(1)}function Qz(){var a=c($z),b=G.S[Zw[2]].count;!jn()&&b&&a.mb(.5*Zo(b,10));return a}var $p=c(.33);function bo(){var a=c(aA),b=G.S[Zw[3]].count;!jn()&&b&&(b=Pj(c(b),cA).i(Yw[3]).L(1),a=a.sa(b));var d=fA(Yx);b=d[0];d=d[1];0<b&&(b=c(1).add(qn(d,b,rn(),!0)),a.l(b));return a}
function By(){var a=c(bA),b=G.S[Zw[3]].count;!jn()&&b&&a.mb(.5*Zo(b,10));return a}function Cy(a){if(!(0<=a&&3>=a&&G.S[Nn[a]].count))return c(1);var b=c(1.25);a=G.S[Zw[a]].count;!jn()&&a&&b.mb(.25*Zo(a,10));return b}function ep(a){var b=c(1.5);b.l(nn());2!=G.o[hn].count||a||b.Na(1+fu);a&&b.Na(Bu);return b}function gp(){var a=c(.75);2==G.o[hn].count&&a.Dl(1+fu);return a}function hp(a){var b=c(1);b.l(nn());2!=G.o[hn].count||a||b.Na(1+fu);a&&b.Na(Bu);return b}
function Lp(a){var b=c(.75);b.l(nn());2!=G.o[hn].count||a||b.Na(1+fu);a&&b.Na(Bu);return b}
function gA(a,b,d,e,f){b=V[b];if(0==b.wc||2==b.wc&&1==a)return a=b.La,b.ja&&void 0!=f&&(a=b.hk[f]),f=d,b.ne&&(f=Math.min(b.ne,f)),b.Pb&&(f=Math.max(0,d-b.Pb+1)),d=Pj(c(f),b.Vd),d=a.i(d),e&&d.u(b.Cd),d;if(1==b.wc||2==b.wc&&0==a){if(0==d)return c(0);var g;d<b.$b?(e=g=0,f=b.$b):(g=Math.floor((d-b.$b)/b.kc)+1,e=b.$b+(g-1)*b.kc,f=e+b.kc);if(0==g){g=c(1);var h=b.hd}else g=1==g?b.hd:b.hd.sa(Xj(b.Vc,c(g-1))),h=g.sa(b.Vc);d=(d-e)/(f-e);d=Jj(g.add(h.sub(g).i(b.$e*d)),1);1==a&&(b=new c(Wj(d.L(1))),d=b.sa(b).i(.25));
return d}return c(0)}function hA(a){if(0==a)return c(0);var b=V[a];a=G.P[a];if(b.ja){for(var d=new c(0),e=0;e<b.ja;e++){var f=a.kb[e],g=b.ac(e,!1);d.u(gA(0,b.index,f,g,e))}return d}f=a.Pa;g=b.ac(void 0,!1);return Jj(gA(0,b.index,f,g,void 0).L(1),1)}
function iA(a){if(0==a)return c(0);if(G.challenge!=a)return hA(a);var b=V[a];a=G.P[a];if(b.ja){for(var d=new c(0),e=a.Ab%b.ja,f=0;f<b.ja;f++){var g=a.kb[f],h=b.ac(f,!1);f==e&&(g=Math.max(g,G.s),h=b.ac(f,!0));d.u(gA(0,b.index,g,h,f))}return d}g=Math.max(a.Pa,G.s);h=b.ac(void 0,!0);return Jj(gA(0,b.index,g,h,void 0).L(1),1)}function jA(a){return a?Jj(G.te,1):Jj(G.df,1)}
function kA(){var a=jA(0);if(!G.challenge)return a;a=V[G.challenge];var b=G.P[G.challenge];if(a.ja){var d=b.Ab%a.ja;var e=c(1);var f=c(1);for(var g=0;g<a.ja;g++){var h=b.kb[g],k=a.ac(g,!1),l=k=gA(0,a.index,h,k,g);if(g==d){l=Math.max(h,G.s);var p=a.ac(g,!0);l=gA(0,a.index,l,p,g)}e.u(k);f.u(l)}}else h=b.Pa,l=Math.max(b.Pa,G.s),k=a.ac(void 0,!1),p=a.ac(void 0,!0),e=gA(0,a.index,h,k,void 0).L(1),f=gA(0,a.index,l,p,void 0).L(1);a=f.a(e);return Jj(G.df.sa(a),1)}
function lA(){var a=Kl,b=G.P[a].Pa;G.challenge==a&&G.s>b&&(b=G.s);return b}var mA=1/24;function nA(){var a=120;1==G.o[du].count&&(a+=420);ac(G.b.f,10)&&ac(Vb.f,.5)&&(a=5);return a}function oA(){var a=G.time-G.nc-1800;if(0>=a)return 0;32400<a&&(a=32400);return.5*a}function pA(){var a=G.time-G.nc-1800;if(0>=a)return 0;32400<a&&(a=32400);return a*mA}
function $o(a){return jn()?!1:void 0==a||a==wl||a==Gl||a==xl?G.P[Mp].X:a==yl?G.P[Mp].X&&G.fa[qA].count:a==Cl?G.P[Mp].X&&G.fa[rA].count:a==zl?G.P[Mp].X&&G.fa[sA].count:!1}function bp(a){return a==wl||a==Gl?(a=c(.25),G.fa[tA].count&&a.u(uA.i(G.fa[tA].count)),a):a==xl?(a=c(.25),G.fa[vA].count&&a.u(wA.i(G.fa[vA].count)),a):a==yl?xA:a==Cl?yA:a==zl?zA:c(.1)}
function ap(a){var b=a.type;if(b==Gl)return b=G.qm[wl],void 0==b||Pm[b].mc?4*G.ab[ms]-1:ap(Pm[b]);var d=a.g,e=void 0;0<d&&hq[b]&&(e=hq[b][d-1]);e&&!zn(e)&&(e=void 0);var f=void 0;void 0!=d&&hq[b]&&(f=hq[b][d+1]);f&&!zn(f)&&(f=void 0);a=G.ab[a.index];e&&(a+=G.ab[e.index]);f&&(a+=G.ab[f.index]);b==wl&&(a+=4*G.ab[ms]);--a;0>a&&(a=0);return a}function AA(){this.name="a";this.cn=this.hb=this.description=void 0;this.index=0;this.image=void 0}
function BA(){var a=[],b=[];this.Uh=!1;this.Gm=this.fm=this.em=this.index=0;this.height=function(){return Math.max(Bn.length,Math.max(a.length,b.length))}}var CA=[],DA=[],EA=-1;function FA(a,b,d,e){if(DA[EA]||0>EA||65535<EA)throw"squirrel_upgrades id already exists or is invalid!";var f=new AA;f.index=EA++;DA[f.index]=f;CA.push(f.index);f.name=a;f.image=e||Si[0];f.hb=b||null;f.description=d;return f.index}var GA=[],HA=[],IA=[];
function JA(a,b,d,e){var f=KA;GA[f]||(GA[f]=[]);var g=GA[f];HA[f]||(HA[f]=0);IA[f]||(IA[f]=0);var h=new BA;h.Se=a||[];h.Dc=b||[];h.S=d||[];h.Uh=!!e;h.index=g.length;e&&HA[f]++;(e||b)&&IA[f]++;h.em=HA[f];h.fm=IA[f];0<h.index&&(a=g[h.index-1],h.Gm=a.Gm+a.Se.length+a.Dc.length+a.S.length);g.push(h)}EA=10;
var Go=c(.65),Ko=c(.65),Hp=c(.5),Fp=c(.5),Xp=c(.5),Mn=.2,Fo=FA("berry boost",void 0,"boosts berries +"+K(Go),ve[4]),Jo=FA("mushroom boost",void 0,"boosts mushroom production but also consumption by +"+K(Ko),Ye[4]),Gp=FA("flower boost",void 0,"boosts the flower boost by +"+K(Hp),Qe[4]),Ep=FA("nettle boost",void 0,"boosts the nettle boost by +"+K(Fp),yf[4]),Wp=FA("bee boost",void 0,"boosts the bee boost by +"+K(Xp),Xf[4]),LA=FA("fruit tier probability",void 0,"increases probability of getting a better fruit tier drop: moves the probability tipping point for higher tier drop by around 10%, give or take because the probability table is different for different tree levels",
Ld[4]),MA=FA("seasonal fruit probability",void 0,"increases probability of getting a better seasonal fruit drop from 1/4th to 1/3rd",Nd[3]),NA=FA("double fruit drop chance",void 0,"when the tree drops a fruit, it has "+K(c(.25))+" chance to drop 2 fruits at once",Ld[3]),Ln=FA("grow speed",void 0,"crops grow "+K(c(Mn))+" faster",ve[0]),rp=FA("watercress and mushroom soup",void 0,"when watercress copies from mushroom, it no longer increases seed consumption, it copies the spores entirely for free. Also works for other brassica.",
Ff[4]),Cn=FA("brassica time",void 0,"adds 50% to the lifetime of brassica, such as watercress",Ff[1]),Dn=FA("brassica space-time",void 0,"adds 50% to the lifetime and copying ability of brassica, such as watercress",Ff[1]),OA=c(.25),PA=FA("ethereal squirrel boost",void 0,"adds an additional "+K(OA)+" to the neighbor boost (which is originally 50%) of the ethereal squirrel",og[4]),QA=c(.25),RA=FA("ethereal automaton boost",void 0,"adds an additional "+K(QA)+" to the neighbor boost (which is originally 50%) of the ethereal automaton",
lg[4]),Qu=c(.2),Pu=FA("ethereal tree neighbor boost",void 0,"ethereal tree boosts non-lotus neighbors (non-diagonal) by "+K(Qu),Li[6][1][4]),SA=FA("seasonal fruit mixing",void 0,"Allows fusing mixed seasonal fruits, to get new multi-season fruit types that give the season bonus in 2 seasons:<br> \u2022 apricot + pineapple = mango (spring + summer),<br> \u2022 pineapple + pear = plum (summer + autumn),<br> \u2022 pear + medlar = quince (autumn + winter),<br> \u2022 medlar + apricot = kumquat (winter + spring).<br>Other fruit fusing rules work as usual. If this upgrade is removed due to respec, the multi-season fruits temporarily lose their season boost until getting this upgrade again. A later squirrel upgrade will extend the ability of this upgrade.",
Rd[4]),TA=FA("seasonal fruit mixing II",void 0,"A next level of fruit mixing: allows creating the 4-season star fruit! Fuse mango+quince, or alternatively plum+kumquat, but only if they have the same abilities, to get the star fruit. If this squirrel upgrade or its predecessor is removed due to respec, star fruits temporarily lose their season boost until getting this upgrade again.",Vd[4]),UA=FA("seasonal fruit mixing III",void 0,"The next level of fruit mixing: allows creating the legendary dragon fruit! Fuse star fruit + apple, but only if they have the same abilities, to get the dragon fruit, which is a version of the star fruit with more season bonus. If this squirrel upgrade is removed due to respec, dragon fruits temporarily act like star fruit, or lose the season boost entirely if the star fruit squirrel upgrade is also not active, until getting this upgrade again.",
Wd[4]),Ey=c(.25),Dy=FA("resin bonus",void 0,"increases resin gain by "+K(c(Ey)),Ed),Sz=c(.25),Rz=FA("twigs bonus",void 0,"increases twigs gain by "+K(c(Sz)),Uf[2]),VA=c(.5),WA=FA("essence bonus",void 0,"increases essence from sacrificed fruits by "+K(c(VA)),Ld[3]),xA=c(.1),qA=FA("flower multiplicity",void 0,"Unlocks multiplicity of flowers. Requires that regular multiplicity for berries and mushrooms has been unlocked. Given that, then this allows also the presence of multiple flowers anywhere in the field to give a global flower bonus, for all flowers with max 1 tier difference. The bonus per flower is "+
K(xA),Te[3]),XA=FA("diagonal brassica",void 0,"brassica (such as watercress) can also copy diagonally, they can get up to 8 instead of 4 neighbors to copy from",Ff[4]);function YA(){return G.challenge==Kl?!0:!jn()&&!!G.fa[XA].count}
var ZA=.1,$A=1.1,jp=75,aB="((highest level - "+jp+") * "+ZA+" + 1) ^ "+$A,ip=FA("highest tree level ever bonus",void 0,function(){return"unlocks a production bonus that depends on highest tree level ever reached, starting from level "+jp+". Bonus multiplier formula: "+aB+"<br>Current bonus: "+K(kp())+"<br>At next highest tree level ("+(G.Oa+1)+"): "+K(kp(1))},Li[6][1][1]);function kp(a){var b=G.Oa-jp;a&&(b+=a);return 0>=b?c(0):Pj(c(b*ZA+1),$A)}
var op=4,np=7200,lp=FA("time at level bonus",void 0,"unlocks a production bonus that depends how much time the tree has spent at the current level, with a weighed average including 2 previous level durations. The maximum bonus is +"+K(c(op))+" after "+np/3600+" hours.",he),yA=c(.1),rA=FA("bee multiplicity",void 0,"Unlocks multiplicity of bees. Requires that regular multiplicity for berries and mushrooms has been unlocked. Presence of multiple bees anywhere in the field will give a global bee bonus. The bonus per bee is "+
K(yA),Xf[4]),ln=.5,kn=FA("weather duration",void 0,"increases active duration of weather effects by "+K(c(ln))+" without increasing total active+cooldown cycle time",Hd);DA[kn].hb=function(){var a=m.getTime(),b=gn(120),d=gn(180),e=gn(240),f=mn(1080),g=mn(1440),h=a-G.Lb,k=a-G.xb;a-=G.zb;var l=b-h,p=d-k,q=e-a;if(h>mn(720)||h>b)l=0;if(k>f||k>d)p=0;if(a>g||a>e)q=0;0<p&&0<l&&(G.xb-=p);(0<l||0<p)&&0<q&&(G.zb-=q)};
var cB=FA("Evolve squirrel",function(){bB();return!0},"Resets and removes all squirrel upgrades. Gives a flat permanent production bonus. Replaces the squirrel upgrade tree with a new, more expensive, tree. You will be weaker after this, but eventually get stronger than ever before thanks to the new upgrades.",le),zA=c(1),sA=FA("stinging multiplicity",void 0,"Unlocks multiplicity of stingy crops. Requires that regular multiplicity for berries and mushrooms has been unlocked. Presence of multiple nettles anywhere in the field will give a global nettle bonus. The bonus per nettle is "+
K(zA),yf[4]),dB=FA("seasonal fruit mixing",void 0,"Unlocks all fruit mixing including dragon fruit. This upgrade combines seasonal fruit mixing I, II and III.",Wd[4]);function fy(a){return 1==a?G.fa[SA].count||G.fa[dB].count:2==a?G.fa[TA].count||G.fa[dB].count:3==a?G.fa[UA].count||G.fa[dB].count:!1}
var Jp=c(1.5),Ip=FA("prestiged flower boost",void 0,"Prestiged flowers get a "+K(Jp)+" boost",Qe[4]),Io=c(2),Ho=FA("prestiged berry boost",void 0,"Prestiged berries get a "+K(Io)+" boost",ve[4]),Mo=c(2),Lo=FA("prestiged mushroom boost",void 0,"Prestiged mushrooms get a "+K(Mo)+" boost",Ye[4]),uA=c(.1),tA=FA("berry multiplicity boost",void 0,"Boosts the berry multiplicity by an additional "+K(uA)+". Requires berry multiplicity has been unlocked.",ve[4]),wA=c(.2),vA=FA("mushroom multiplicity boost",
void 0,"Boosts the mushroom multiplicity by an additional "+K(wA)+". Requires mushroom multiplicity has been unlocked.",Ye[4]),eB=c(.5),fB=FA("ethereal squirrel boost II",void 0,"adds an additional "+K(eB)+" to the neighbor boost (which is originally 50%) of the ethereal squirrel",og[4]),gB=c(.5),hB=FA("ethereal automaton boost II",void 0,"adds an additional "+K(gB)+" to the neighbor boost (which is originally 50%) of the ethereal automaton",lg[4]),Su=c(.5),Ru=FA("ethereal tree neighbor boost II",
void 0,"ethereal tree boosts non-lotus neighbors (non-diagonal) by "+K(Su),Li[6][1][4]),Ou=c(.2),Xu=FA("diagonal ethereal tree",void 0,"ethereal tree boost also works diagonally",Li[6][1][4]),iB=FA("fruit tier and double fruit chance",void 0,"increases probability of getting a better fruit tier drop: moves the probability tipping point for higher tier drop by around 10%, give or take because the probability table is different for different tree levels. In addition, adds "+K(c(.125))+" chance to drop 2 fruits at once",
Ld[4]),jB=FA("seasonal fruit and double fruit chance",void 0,"increases probability of getting a better seasonal fruit drop from 1/4th to 1/3rd. In addition, adds "+K(c(.125))+" chance to drop 2 fruits at once",Nd[3]),KA;KA=0;JA([Fo],[PA],[Jo]);JA([Ep],[RA],[Gp]);JA([SA],void 0,[MA]);JA(void 0,[Pu],void 0,!0);JA([LA,Ln],void 0,[WA,rp]);JA([kn,Jo],void 0,[TA,qA]);JA([Cn,Wp],void 0,[NA,Fo]);JA(void 0,[PA],void 0,!0);JA([Dy],void 0,[Rz]);JA([XA],void 0,[ip]);JA([lp],void 0,[rA]);JA([Fo],void 0,[Jo]);
JA([UA],void 0,[Gp]);JA(void 0,[RA],void 0,!0);JA(void 0,[cB],void 0,!0);KA=1;JA([Ho],void 0,[Lo]);JA([sA],void 0,[Ip]);JA([dB],void 0,[rp]);JA(void 0,[fB],void 0,!0);JA([iB,WA,lp],void 0,[jB,Ln,rA]);JA([Pu,Xu,ip],void 0,[Jo,Fo,Gp]);JA([Dy],void 0,[Rz]);JA(void 0,[hB],void 0,!0);JA([XA],[vA],[Dn]);JA([Gp],[Ru],[qA]);JA([Jo],[PA],[Fo]);JA([Wp],[kn],[Ep]);JA(void 0,[RA],void 0,!0);var ro=c(101);
function kB(a){if(0==G.Xa){var b=Pj(c(10),a).i(1E3);33<=a&&b.Na(1E6);return b}if(1==G.Xa){if(0==a)return c(0);a--;return b=Pj(c(20),a).i(1E39)}return c(Infinity)}var lB=c(15),mB=c(20),nB=c(20),oB=c(20),pB=c(30),qB=c(0),rB=c(15);
function As(a){var b=Pm[a],d=G.D[a];if(b.Pn!=d.oa){b.Pn=d.oa;var e=b.g;if(b.type==wl){if(0>b.g)return;var f=b.g&15;f+=d.oa*$m[b.type];b.T=lq(f);b.Sb=mq(f);b.g=f;null!=b.Ta&&(f=Bn[b.Ta],ws(f,b));b.fb=b.Hj*(1+3*d.oa)}if(b.type==yl){if(0>b.g)return;f=b.g&7;f+=d.oa*$m[b.type];b.T=tq(f);b.Ea=Dq(f);b.g=f;null!=b.Ta&&(f=Bn[b.Ta],Ds(f,b));b.fb=b.Hj*(1+d.oa)}if(b.type==xl){if(0>b.g)return;f=b.g&7;f+=d.oa*$m[b.type];b.T=oq(f);b.Sb=Km(f);b.g=f;null!=b.Ta&&(f=Bn[b.Ta],ws(f,b));b.fb=b.Hj*(1+d.oa)}if(b.type==Fl){if(0>
b.g)return;f=b.g&15;f+=d.oa*$m[b.type];b.T=qq(f);b.Sb=rq(f);b.g=f;null!=b.Ta&&(f=Bn[b.Ta],ws(f,b));b.fb=b.Hj*(1+d.oa)}d=b.g;hq[b.type][e]=void 0;hq[b.type][d]=Pm[a]}}function sB(){for(var a=0;a<$m[wl];a++)As(Eq+a);for(a=0;a<$m[xl];a++)As(Uq+a);for(a=0;a<$m[yl];a++)As(br+a);for(a=0;a<$m[Fl];a++)As(rr+a)}
function tB(a,b){return a==Rn&&2>G.P[Rn].X?(b&&T("blueprints are disabled during the wither challenge, for now...",uB),!1):a==Sn?(b&&T("blueprints are disabled during the undeletable challenge, instead carefully plant crops 1 by 1 since you can never delete them",uB),!1):a==cn?(b&&T("blueprints are disabled during the bee challenge",uB),!1):a==Au?(b&&T("blueprints are disabled during the truly basic challenge",uB),!1):!0}var vB=120;
function mp(a){var b=Math.max(Math.max(wB(),G.rd[0]),Math.max(.66*G.rd[1],.33*G.rd[2]));a&&(G.time<G.fg+vB&&(b=Math.max(b,G.ee[0])),G.time<G.Jd+vB&&(b=Math.max(b,G.ee[1])));return b}function bB(){Da({icon:le,size:2,vb:function(){W({type:xB})},names:"evolution",Wc:"cancel",title:"Squirrel evolution"}).content.a.innerHTML=yB();39!=G.Za[39]&&T("Unlocked dynamic help dialog: "+zB[39].Go,us);G.Za[39]=39}
function SB(){if(!(G.Xa+1>=GA.length)){G.Xa++;G.Mm=G.nh.add(G.b.Y);G.b.Y=c(0);G.nh=c(0);TB(G);UB(G);for(var a=0;a<CA.length;a++)G.fa[CA[a]]=new VB;G.oj=!0;G.Rj=!1;WB(G);XB=void 0;YB()}}function ZB(){this.Ae=this.index=0;this.name="a";this.El=this.description="";this.Nn=3600;this.La=c(.1);this.de=!1;this.getTime=function(){return this.Nn*(G.Kb[this.index].$+1)};this.jj=function(){};this.Ck=function(){return this.jj(G.Kb[this.index].$+1)};this.jm=function(){}}var $B=[],aC=[],bC=0;
function cC(a,b,d,e,f,g){var h=new ZB;h.index=bC++;aC[h.index]=h;$B.push(h.index);void 0!=d&&(g=g.replace("%BONUS%",K(d)));h.name=a;h.El=b;h.La=d;h.Ae=e;h.Nn=f;h.description=g;return h.index}
var dC=c(.15),eC=cC("evolve","",c(.1),0,86400,"Evolves the ethereal mistletoe. Does not reset anything (existing upgrades stay). At some levels unlocks new types of bonuses. Gives an extra %BONUS% bonus to the other bonuses except those that give resin or twigs (additive with evolution levels)"),So=cC("leafiness","production",c(.07),0,3600,"Gives a %BONUS% production bonus per level to the main field"),Yu=cC("friendliness","neighbors",c(.07),1,3600,"Gives a %BONUS% bonus to orthogonally or diagonally neighboring ethereal crops to the ethereal mistletoe, to any type that can receive bonus from lotuses (but not to lotuses themselves)"),
Kp=cC("stinginess","stingy",c(.07),5,3600,"Gives a %BONUS% bonus to stingy crops (for spore production) per level"),Wo=cC("funginess","mushrooms",c(.07),9,3600,"Gives a %BONUS% bonus to mushrooms (both production and consumption) per level"),Uo=cC("berry-ness","berries",c(.07),11,3600,"Gives a %BONUS% bonus to berry seed production per level"),Hu=cC("lotus neighbors","lotuses",c(.03),12,3600,"Gives a %BONUS% bonus to lotuses that are orthogonally or diagonally neighboring an etherael mistletoe "),
Vo=cC("nuttiness","nuts",c(.05),10,3600,"Gives a %BONUS% bonus to nuts per level"),fq=cC("brassiness","brassica",c(.05),14,3600,"Gives a %BONUS% bonus to brassica copying per level"),Yp=cC("buzziness","bee",c(.05),15,3600,"Gives a %BONUS% bonus to bee bonus per level");bC=50;var Fy=cC("sappiness","resin",c(.1),3,3600,"Gives a %BONUS% bonus to resin production per level");aC[Fy].jj=function(a){return P({K:1E17}).sa(Xj(new c(2),new c(a-1)))};
aC[Fy].jm=function(a){a=this.jj(a+1);a.K.wa(new c(1E17));return a};var Tz=cC("twigginess","twigs",c(.1),7,3600,"Gives a %BONUS% bonus to twigs production per level");aC[Tz].jj=function(a){return P({h:1E18}).sa(Xj(new c(2),new c(a-1)))};aC[Tz].jm=function(a){a=this.jj(a+1);a.h.wa(new c(1E18));return a};var fC=cC("squirrel friendliness","neighbors",c(.07),13,3600,"Gives a %BONUS% bonus to ethereal crops that orthogonally or diagonally neighbor the ethereal squirrel, for crops of any type that can receive bonus from lotuses (but not to lotuses themselves)");
bC=100;var gC,hC=cC("second mistletoe",void 0,void 0,13,259200,"You can plant a second mistletoe in the ethereal field. This does not allow doing more upgrades, but allows more ethereal plants (including lotuses) to receive mistletoe neighbor boost. Multiple mistletoe bonuses do not stack to the same neighbor (not even additively), so the mistletoes should be spread out (but still next to tree to work) for best effect.");aC[hC].de=!0;gC=hC;var iC=m.clone($B);
iC.sort(function(a,b){var d=aC[a],e=aC[b];a=a==Fy||a==Tz;b=b==Fy||b==Tz;return d.de!=e.de?d.de-e.de:a!=b?a-b:d.Ae!=e.Ae?d.Ae-e.Ae:d.index-e.index});function jC(){return aC[eC].La.i(G.Kb[eC].$)}function kC(a){return a==Tz||a==Fy?c(0):jC()}function To(a){if(a==eC)return jC();if(a==Tz)return a=dC.add(aC[Tz].La.i(G.Kb[Tz].$)),a.l(kC(Tz).L(1)),a;var b=aC[a].La.i(G.Kb[a].$);b.l(kC(a).L(1));return b}
function lC(a){if(a==eC)return K(jC());var b=aC[a].La.i(G.Kb[a].$);a==Tz&&b.u(dC);b=""+K(b);kC(a).J(0)&&(b+=", with evo: "+K(To(a)));return b}function mC(a){return a==eC?!0:G.Kb[eC].$>=aC[a].Ae}function Ro(a){return!mC(a)||a!=gC&&!G.Kf?0:G.Kb[a].$}function nC(){this.name="a";this.T=P();this.Sb=P();this.fb=this.index=0;this.yl=c(0);this.He=c(0);this.type=void 0;this.g=0;this.ad="";this.image=void 0}aa=nC.prototype;
aa.O=function(a,b){if(this.type==Al)return this.T;a=G.Fc[this.index]+(a||0);void 0!=b&&(a=b);if(this.type==Hl)return this.T.sa(Rj(a*(a+1)>>1));b=4>this.g?1.1:4;this.type==yl&&(b=4>this.g?1.25:2);this.type==Cl&&(b=7>this.g?2:4);this.type==xl&&(b=10);this.type==El&&(b=2);this.type==Xm&&(b=7);return this.T.i(Math.pow(b,a))};aa.Wa=function(a,b){b=this.O((b||0)-1).i(1);a&&this.type==Al&&b.Na(Math.min(Math.max(0,a.H),1));return b};aa.Ja=function(){return this.fb};
aa.Cb=function(a,b){var d=this.Sb.clone();b&&b.push(["base",!0,c(0),d.clone()]);if(a&&(this.type==wl||this.type==Fl)){for(var e=new c(1),f=0,g=0;4>g;g++){var h=a.x+(1==g?1:3==g?-1:0),k=a.y+(2==g?1:0==g?-1:0);if(!(0>h||h>=G.Ha||0>k||k>=G.Ga)){var l=G.va[k][h];Yo(l)&&Nz[Bs(l)].type==yl&&(l=oC(Nz[Bs(l)],l),l.J(0)&&(e.u(l),f++))}}f&&(d.l(e),b&&b.push(["flowers ("+f+")",!0,e,d.clone()]))}if(a&&(this.type==wl||this.type==Fl)){e=new c(1);for(g=f=0;4>g;g++)h=a.x+(1==g?1:3==g?-1:0),k=a.y+(2==g?1:0==g?-1:0),
0>h||h>=G.Ha||0>k||k>=G.Ga||(l=G.va[k][h],Yo(l)&&Nz[Bs(l)].type==Xm&&Nz[Bs(l)].g==this.g&&(l=oC(Nz[Bs(l)],l),l.J(0)&&(e.u(l),f++)));f&&(d.l(e),b&&b.push(["lotuses ("+f+")",!0,e,d.clone()]))}d.v.J(0)&&G.Aa[Ly].c&&(h=Hy(Ky,G,3),(k=h.J(1))&&d.v.l(h),k=!k&&G.ma.W.ba(pC[Ly].T.W.i(2)),b&&b.push(["goldfish"+(k?" (have 0, put some in the pond!)":""),!0,h,d.clone()]));d.W.J(0)&&G.Aa[Xy].c&&(h=Hy(Wy,G,3),(k=h.J(1))&&d.W.l(h),k=!k&&G.ma.W.ba(pC[Xy].T.W.i(2)),b&&b.push(["octopus"+(k?" (have 0, put some in the pond!)":
""),!0,h,d.clone()]));this.type!=wl&&this.type!=Fl||!G.Aa[nz].c||(h=Hy(mz,G,3),(k=h.J(1))&&d.v.l(h),k=!k&&G.ma.W.ba(pC[nz].T.W.i(2)),b&&b.push(["puffer fish"+(k?" (have 0, put some in the pond!)":""),!0,h,d.clone()]));if(a&&this.type==xl){e=new c(1);var p=new c(1),q=0;for(g=f=0;4>g;g++)if(h=a.x+(1==g?1:3==g?-1:0),k=a.y+(2==g?1:0==g?-1:0),!(0>h||h>=G.Ha||0>k||k>=G.Ga)&&(l=G.va[k][h],Yo(l)&&Nz[Bs(l)].type==yl)){var n=Nz[Bs(l)];if(n.g>=this.g-1&&(l=new c(1),n.g<=this.g-1&&(l=new c(.5)),n.g>=this.g+1&&
(l=new c(1.5)),l.J(0))){e.u(l);q++;n=new c(1);for(var u=0;4>u;u++){var x=h+(1==u?1:3==u?-1:0),y=k+(2==u?1:0==u?-1:0);0>x||x>=G.Ha||0>y||y>=G.Ga||(x=G.va[y][x],Yo(x)&&Nz[Bs(x)].type==Cl&&(x=Nz[Bs(x)],x.g>=this.g-1&&(y=new c(.5),x.g<=this.g-1&&(y=new c(.25)),x.g>=this.g+1&&(y=new c(.75)),y.J(0)&&(n.u(y),f++))))}l.l(n);p.u(l)}}q&&(g=p.a(e),d.l(e),b&&b.push(["flower tiers ("+q+")",!0,e,d.clone()]),G.Aa[gz].c&&(h=Hy(fz,G,3),(k=h.J(1))&&d.l(h),k=!k&&G.ma.W.ba(pC[gz].T.W.i(2)),b&&b.push(["sea anemones"+
(k?" (have 0, put some in the pond!)":" (through flowers)"),!0,h,d.clone()])),d.l(g),b&&b.push(["bee tiers ("+f+")",!0,g,d.clone()]),f&&G.Aa[Dz].c&&(h=Hy(Cz,G,3),k=h.J(1),h=Jj(g,1).sa(h).L(1).a(g),k&&d.l(h),k=!k&&G.ma.W.ba(pC[Dz].T.W.i(2)),b&&b.push(["leporinus"+(k?" (have 0, put some in the pond!)":" (fish, through bees)"),!0,h,d.clone()])))}if(a&&this.type==xl){e=new c(1);for(g=f=0;4>g;g++)h=a.x+(1==g?1:3==g?-1:0),k=a.y+(2==g?1:0==g?-1:0),0>h||h>=G.Ha||0>k||k>=G.Ga||(l=G.va[k][h],Yo(l)&&Nz[Bs(l)].type==
Xm&&(n=Nz[Bs(l)],n.g==this.g&&(l=new c(1),e.u(l),f++)));f&&(d.l(e),b&&b.push(["lotus ("+f+")",!0,e,d.clone()]))}if(a&&this.type==xl){e=new c(1);for(g=f=0;4>g;g++)h=a.x+(1==g?1:3==g?-1:0),k=a.y+(2==g?1:0==g?-1:0),0>h||h>=G.Ha||0>k||k>=G.Ga||(l=G.va[k][h],Yo(l)&&Nz[Bs(l)].type==zl&&(n=Nz[Bs(l)],n.g>=this.g-1&&(l=n.He,n.g<=this.g-1&&(l=l.i(.2)),n.g>=this.g+1&&(l=l.i(2)),l.J(0)&&(e.u(l),f++))));f&&(d.l(e),b&&b.push(["stinging crops tiers ("+f+")",!0,e,d.clone()]))}a=qC+this.g-7;Nz[a]&&G.Fc[a]&&(f=G.Fc[a],
h=Nz[a].He.i(f).L(1),d.v.l(h),d.W.l(h),b&&b.push(["fern",!0,h,d.clone()]));this.type==Al&&G.Aa[bz].c&&(h=Hy(az,G,3),(k=h.J(1))&&d.l(h),k=!k&&G.ma.W.ba(pC[bz].T.W.i(2)),b&&b.push(["shrimp"+(k?" (have 0, put some in the pond!)":""),!0,h,d.clone()]));this.type==Al&&Ub(d.v,0)&&(a=rC(this),d.v.ka(a)&&(h=a.a(d.v),d.l(h),b&&b.push(["adjustment for self-sustainability",!0,h,d.clone()])));return d};function rC(a){return a.T.v.ub(a.fb).i(1.01)}
function oC(a,b,d){var e=a.He.clone();d&&d.push(["base",!0,c(0),e.clone()]);if(b&&a.type==yl){for(var f=0,g=new c(1),h=0;4>h;h++){var k=b.x+(1==h?1:3==h?-1:0),l=b.y+(2==h?1:0==h?-1:0);0>k||k>=G.Ha||0>l||l>=G.Ga||(k=G.va[l][k],io(k)&&S(k).type==Cl&&(f++,k=oC(S(k),k),g.u(k)))}0<f&&(e.l(g),d&&d.push(["bees ("+f+")",!0,g,e.clone()]))}a.type==yl&&G.Aa[gz].c&&(b=Hy(fz,G,3),(f=b.J(1))&&e.l(b),f=!f&&G.ma.W.ba(pC[gz].T.W.i(2)),d&&d.push(["sea anemones"+(f?" (have 0, put some in the pond!)":""),!0,b,e.clone()]));
a.type==Cl&&G.Aa[Dz].c&&(b=Hy(Cz,G,3),(f=b.J(1))&&e.l(b),f=!f&&G.ma.W.ba(pC[Dz].T.W.i(2)),d&&d.push(["leporinus (fish)"+(f?" (have 0, put some in the pond!)":""),!0,b,e.clone()]));a.type==Hl&&G.Wd[Ry]&&(b=Hy(Ry,G,3),b.J(1)&&(e.l(b),d&&d.push(["koi (fish)",!0,b,e.clone()])));return e}
aa.Kc=function(a,b){var d=this.yl.clone();b&&b.push(["base",!0,c(0),d.clone()]);var e=new c(1);if(a){for(var f=0,g=0;4>g;g++){var h=a.x+(1==g?1:3==g?-1:0),k=a.y+(2==g?1:0==g?-1:0);0>h||h>=G.Ha||0>k||k>=G.Ga||(h=G.va[k][h],Yo(h)&&Nz[Bs(h)].type==Hl&&(h=oC(Nz[Bs(h)],h,void 0),h.J(0)&&(e.u(h),f++)))}f&&(d.l(e),b&&b.push(["runestones ("+f+")",!0,e,d.clone()]))}this.type!=Hl&&G.Wd[Hz]&&(a=Hy(Hz,G,3),a.J(1)&&(f=Jj(a.add(e),1).a(e),d.l(f),b&&(Zb(e,1)?b.push(["oranda (fish)",!0,a,d.clone()]):b.push(["oranda (additive w. runestone)",
!0,a,d.clone()]))));return d};var sC=[],Nz=[],tC=[],uC=-1;function vC(a,b,d,e,f,g,h){h||(h=ue);if(Nz[uC]||0>uC||65535<uC)throw"crop3 id already exists or is invalid!";var k=new nC;k.index=uC++;Nz[k.index]=k;sC.push(k.index);k.name=a;k.type=b;k.g=d;k.T=e;k.yl=f;k.fb=g;k.image=h;k.ad="";void 0!=b&&void 0!=d&&(tC[b]||(tC[b]=[]),tC[b][d]=k);return k.index}function wC(a,b,d,e,f,g,h){a=vC(a,Al,b,d,f,g,h);Nz[a].Sb=e;return a}function xC(a,b,d,e,f,g){a=vC(a,wl,b,d,f,5,g);Nz[a].Sb=e;return a}
function yC(a,b,d,e,f,g){a=vC(a,xl,b,d,f,5,g);Nz[a].Sb=e;return a}function zC(a,b,d,e,f,g){a=vC(a,yl,b,d,f,5,g);Nz[a].He=e;return a}function AC(a,b,d,e,f,g){a=vC(a,Cl,b,d,f,5,g);Nz[a].He=e;return a}function BC(a,b,d,e,f,g){a=vC(a,zl,b,d,f,5,g);Nz[a].He=e;return a}function CC(a,b,d,e,f,g){a=vC(a,El,b,d,f,5,g);Nz[a].He=e;return a}function DC(a,b,d,e,f,g){a=vC(a,Fl,b,d,f,5,g);Nz[a].Sb=e;return a}uC=0;
var EC=wC("zinc watercress",0,P({v:10}),P({v:20.01/86400}),c(.05),86400,Yg(Ff," hm:#999")),FC=wC("bronze watercress",1,P({v:25E3}),P({v:5E4/172800}),c(.05),172800,Yg(Ff," hm:#c70")),GC=wC("silver watercress",2,P({v:5E7}),P({v:2E8/259200}),c(.05),259200,Yg(Ff," N:#eee M:#bbb m:#888 n:#555")),HC=wC("electrum watercress",3,P({v:2E12}),P({v:4E12/86400}),c(.05),86400,Yg(Ff," hm:#cfa",[4])),IC=wC("gold watercress",4,P({v:1E17}),P({v:5E11}),c(.05),432E3,Yg(Ff," hm:#fe0")),JC=wC("platinum watercress",5,P({v:2.4999999999999998E22}),
P({v:1E17}),c(.05),604800,Yg(Ff," N:#fff M:#eee m:#ddd n:#ccc",[2,6,7],[.15])),KC=wC("rhodium watercress",6,P({v:5E27}),P({v:2E22}),c(.05),259200,Yg(Ff," N:#fee M:#ecc m:#dbb n:#caa",[3,6],[.9])),LC=wC("amethyst watercress",7,P({v:1E34}),P({v:1.6E28}),c(.05),345600,Yg(Ff," N:#c8f M:#b7e m:#86d n:#75b")),MC=wC("sapphire watercress",8,P({v:2E41}),P({v:1E35}),c(.05),432E3,Yg(Ff," hm:#00f",[4,2],[.8,-.1])),NC=wC("emerald watercress",9,P({v:1E50}),P({v:1.5E43}),c(.05),518400,Yg(Ff," hm:#0f0")),OC=wC("ruby watercress",
10,P({v:3E60}),P({v:5E52}),c(.05),604800,Yg(Ff," hm:#f00",[4,10],[.9,1.02]));uC=300;
var PC=xC("zinc blackberry",0,P({v:400}),P({v:200/86400}),c(.075),Yg(ve," hm:#999")),QC=xC("bronze blackberry",1,P({v:5E5}),P({v:5E5/86400}),c(.125),Yg(ve," hm:#c70",[2])),RC=xC("silver blackberry",2,P({v:2E9}),P({v:1E9/86400}),c(.15),Yg(ve," N:#eee M:#bbb m:#888 n:#555",[2])),SC=xC("electrum blackberry",3,P({v:1E14}),P({v:3125E9/86400}),c(.2),Yg(ve," hm:#cfa",[2,4])),TC=xC("gold blackberry",4,P({v:5E18}),P({v:5E10}),c(.4),Yg(ve," hm:#fe0",[2])),UC=xC("platinum blackberry",5,P({v:5E23}),P({v:5E13}),
c(.75),Yg(ve," N:#fff M:#eee m:#ddd n:#ccc",[2,6],[.3])),VC=xC("rhodium blackberry",6,P({v:4E29}),P({v:1E17}),c(1.25),Yg(ve," N:#fee M:#ecc m:#dbb n:#caa",[2,3,6],[.15,1])),WC=xC("amethyst blackberry",7,P({v:3E35}),P({v:1E20}),c(3),Yg(ve," N:#c8f M:#b7e m:#86d n:#75b")),XC=xC("sapphire blackberry",8,P({v:1E43}),P({v:5E23}),c(8),Yg(ve," hm:#00f",[2],[1.5])),YC=xC("emerald blackberry",9,P({v:3E51}),P({v:2.5E28}),c(15),Yg(ve," hm:#0f0")),ZC=xC("ruby blackberry",10,P({v:1E62}),P({v:4E34}),c(200),Yg(ve,
" hm:#f00",[4,10],[.9,1.02]));uC=600;
var $C=yC("gold champignon",4,P({v:5E20}),P({W:1}),c(.5),Yg(Ye," hm:#fe0",[2])),aD=yC("platinum champignon",5,P({v:2E25}),P({W:25}),c(1),Yg(Ye," N:#fff M:#eee m:#ddd n:#ccc",[7])),bD=yC("rhodium champignon",6,P({v:5E30}),P({W:500}),c(2.5),Yg(Ye," N:#fee M:#ecc m:#dbb n:#caa",[6])),cD=yC("amethyst champignon",7,P({v:5E36}),P({W:4E4}),c(10),Yg(Ye," N:#c8f M:#b7e m:#86d n:#75b")),dD=yC("sapphire champignon",8,P({v:5E43}),P({W:3E7}),c(40),Yg(Ye," hm:#00f",[2],[1.5])),eD=yC("emerald champignon",9,P({v:2E52}),
P({W:25E9}),c(160),Yg(Ye," hm:#0f0")),fD=yC("ruby champignon",10,P({v:5E62}),P({W:5E13}),c(1E3),Yg(Ye," hm:#f00",[4,10],[.9,1.02]));uC=900;
var gD=zC("zinc anemone",0,P({v:2500}),c(.5),c(.1),Yg(Qe," hm:#999",[1])),hD=zC("bronze anemone",1,P({v:25E5}),c(1),c(.15),Yg(Qe," hm:#c70")),iD=zC("silver anemone",2,P({v:2E10}),c(3),c(.2),Yg(Qe," N:#eee M:#bbb m:#888 n:#555",[1],[.1])),jD=zC("electrum anemone",3,P({v:1E15}),c(12),c(.3),Yg(Qe," hm:#cfa",[4])),kD=zC("gold anemone",4,P({v:2E20}),c(200),c(.6),Yg(Qe," hm:#fe0")),lD=zC("platinum anemone",5,P({v:2E25}),c(2500),c(1),Yg(Qe," N:#fff M:#eee m:#ddd n:#ccc",[6])),mD=zC("rhodium anemone",6,P({v:1.5E31}),
c(5E4),c(2.5),Yg(Qe," N:#fee M:#ecc m:#dbb n:#caa",[6],[.7])),nD=zC("amethyst anemone",7,P({v:1E37}),c(1E6),c(5),Yg(Qe," N:#c8f M:#b7e m:#86d n:#75b")),oD=zC("sapphire anemone",8,P({v:1.5E44}),c(2E7),c(16),Yg(Qe," hm:#00f",[4,2],[.8,-.1])),pD=zC("emerald anemone",9,P({v:5E52}),c(1E9),c(90),Yg(Qe," hm:#0f0")),qD=zC("ruby anemone",10,P({v:1E64}),c(2E10),c(300),Yg(Qe," hm:#f00",[4,10],[.9,1.02]));uC=1200;
var rD=AC("silver bee nest",2,P({v:2E11}),c(4),c(.5),Yg(Xf," N:#eee M:#bbb m:#888 n:#555")),sD=AC("electrum bee nest",3,P({v:1E16}),c(32),c(.75),Yg(Xf," hm:#cfa",[4])),tD=AC("gold bee nest",4,P({v:5E21}),c(256),c(1.5),Yg(Xf," hm:#fe0")),uD=AC("platinum bee nest",5,P({v:5E26}),c(2048),c(4),Yg(Xf," N:#fff M:#eee m:#ddd n:#ccc",[2,6,7],[.15])),vD=AC("rhodium bee nest",6,P({v:5E32}),c(16384),c(10),Yg(Xf," N:#fee M:#ecc m:#dbb n:#caa",[6])),wD=AC("amethyst bee nest",7,P({v:2E38}),c(3E5),c(30),Yg(Xf," N:#c8f M:#b7e m:#86d n:#75b")),
xD=AC("sapphire bee nest",8,P({v:3E45}),c(1E7),c(100),Yg(Xf," hm:#00f")),yD=AC("emerald bee nest",9,P({v:5E54}),c(2E8),c(300),Yg(Xf," hm:#0f0")),zD=AC("ruby bee nest",10,P({v:5E65}),c(4E9),c(1E3),Yg(Xf," hm:#f00",[4,10],[.9,1.02]));uC=1500;var AD=P({v:5E11}),BD=c(2),CD=c(0),DD=vC("runestone",Hl,0,AD,CD,3,Vg);Nz[DD].He=BD;uC=1800;
var ED=BC("rhodium nettle",6,P({v:1E33}),c(1.5),c(6),Yg(yf," N:#fee M:#ecc m:#dbb n:#caa",[6,9])),FD=BC("amethyst nettle",7,P({v:1E39}),c(4),c(20),Yg(yf," N:#c8f M:#b7e m:#86d n:#75b",[9])),GD=BC("sapphire nettle",8,P({v:1E46}),c(5),c(75),Yg(yf," hm:#00f",[9])),HD=BC("emerald nettle",9,P({v:5E54}),c(6),c(250),Yg(yf," hm:#0f0")),ID=BC("ruby nettle",10,P({v:2E65}),c(10),c(750),Yg(yf," hm:#f00",[4,10],[.9,1.02]));uC=2100;
var qC=CC("amethyst fern",7,P({v:5E39}),c(3),c(50),Yg(ig," N:#c8f M:#b7e m:#86d n:#75b")),JD=CC("sapphire fern",8,P({v:2E47}),c(3),c(150),Yg(ig," hm:#00f")),KD=CC("emerald fern",9,P({v:2E56}),c(3),c(500),Yg(ig," hm:#0f0")),LD=CC("ruby fern",10,P({v:3E67}),c(2),c(1500),Yg(ig," hm:#f00",[4,10],[.9,1.02]));uC=2400;
var MD=DC("sapphire acorn",8,P({v:2E48}),P({v:5E24}),c(75),Yg(hf," hm:#00f")),ND=DC("emerald acorn",9,P({v:2E57}),P({v:2.5E29}),c(250),Yg(hf," hm:#0f0")),OD=DC("ruby acorn",10,P({v:5E68}),P({v:5E35}),c(750),Yg(hf," hm:#f00",[4,10],[.9,1.02]));uC=2700;var PD=P({v:7.7E58}),QD=c(7.77777),RD=c(277.7777),SD=Yg(Sf," hm:#0f0"),TD=vC("emerald lotus",Xm,9,PD,RD,5,SD);Nz[TD].He=QD;var UD=P({v:2E70}),VD=c(7.77777),WD=c(1E3),XD=Yg(Sf," hm:#f00",[4,10],[.9,1.02]),YD=vC("ruby lotus",Xm,10,UD,WD,5,XD);
Nz[YD].He=VD;function ZD(a){return(a||G).S[Nx].count}var $D=0,Ky=$D++,Ry=$D++,Wy=$D++,az=$D++,fz=$D++,mz=$D++,tz=$D++,Gy=$D++,Cz=$D++,Hz=$D++,aE=$D;function bE(a){return a==Ky?"goldfish":a==Ry?"koi":a==Wy?"octopus":a==az?"shrimp":a==fz?"sea anemone":a==mz?"puffer fish":a==tz?"eel":a==Gy?"tang":a==Cz?"leporinus":a==Hz?"oranda":"unknown"}function cE(){this.name="a";this.T=P();this.index=0;this.type=void 0;this.g=0;this.ad=this.Li="";this.image=void 0}
cE.prototype.O=function(a,b){a=G.cb[this.index]+(a||0);void 0!=b&&(a=b);b=20;this.type==mz&&(b=17);if(this.type==tz||this.type==Gy)b=21;this.type==Cz&&(b=25);this.type==Hz&&(b=19);return this.T.i(Math.pow(b,a))};cE.prototype.Wa=function(a,b){return this.O((b||0)-1).i(1)};var dE=[],pC=[],eE=[],fE=-1;
function gE(a,b,d,e,f,g){g||(g=ji);if(pC[fE]||0>fE||65535<fE)throw"fish id already exists or is invalid!";var h=new cE;h.index=fE++;pC[h.index]=h;dE.push(h.index);h.name=a;h.type=b;h.g=d;h.T=e;h.Li=f;h.image=g;h.ad="";void 0!=b&&void 0!=d&&(eE[b]||(eE[b]=[]),eE[b][d]=h);return h.index}fE=100;var Oy=.1,Ly,hE=P({W:5E3}),iE="Improves infinity seeds production by "+K(c(Oy));Ly=gE("goldfish",Ky,0,hE,iE,ki);var Py=1.5,My,jE=P({W:5E10}),kE="Improves infinity seeds production by "+K(c(Py));
My=gE("red goldfish",Ky,1,jE,kE,li);var Qy=25,Ny,lE=P({W:5E18}),mE="Improves infinity seeds production by "+K(c(Qy));Ny=gE("black goldfish",Ky,2,lE,mE,mi);fE=200;var Uy=.2,Sy,nE=P({W:2E4}),oE="Improves runestone bonus by "+K(c(Uy))+" "+Jy;Sy=gE("koi",Ry,0,nE,oE,ni);var Vy=1.5,Ty,pE=P({W:25E10}),qE="Improves runestone bonus by "+K(c(Vy))+" "+Jy;Ty=gE("red koi",Ry,1,pE,qE,oi);fE=300;var Zy=.25,Xy,rE=P({W:1E5}),sE="Improves infinity spores production by "+K(c(Zy));Xy=gE("octopus",Wy,0,rE,sE,pi);
var $y=4,Yy,tE=P({W:1E18}),uE="Improves infinity spores production by "+K(c($y));Yy=gE("red octopus",Wy,1,tE,uE,qi);fE=400;var dz=.2,bz,vE=P({W:25E5}),wE="Improves infinity watercress by "+K(c(dz));bz=gE("shrimp",az,0,vE,wE,ui);var ez=2,cz,xE=P({W:25E16}),yE="Improves infinity watercress by "+K(c(ez));cz=gE("red shrimp",az,1,xE,yE,vi);fE=500;var jz=.15,gz,zE=P({W:75E5}),AE="Improves infinity flowers by "+K(c(jz));gz=gE("anemone",fz,0,zE,AE,ri);
var kz=1.5,hz,BE=P({W:2E11}),CE="Improves infinity flowers by "+K(c(kz));hz=gE("red anemone",fz,1,BE,CE,si);var lz=20,iz,DE=P({W:5E21}),EE="Improves infinity flowers by "+K(c(lz));iz=gE("black anemone",fz,2,DE,EE,ti);fE=600;var qz=.2,nz,FE=P({W:1E8}),GE="Improves infinity berries/nuts by "+K(c(qz));nz=gE("pufferfish",mz,0,FE,GE,wi);var rz=1.5,oz,HE=P({W:5E14}),IE="Improves infinity berries/nuts by "+K(c(rz));oz=gE("red pufferfish",mz,1,HE,IE,xi);
var sz=20,pz,JE=P({W:9.999999999999999E22}),KE="Improves infinity berries/nuts by "+K(c(sz));pz=gE("black pufferfish",mz,2,JE,KE,yi);fE=700;var wz=.25,uz,LE=P({W:1E9}),ME="Improves twigs gain by "+K(c(wz))+" "+Jy;uz=gE("eel",tz,0,LE,ME,zi);var xz=.5,vz,NE=P({W:1E15}),OE="Improves twigs gain by "+K(c(xz))+" "+Jy;vz=gE("red eel",tz,1,NE,OE,Ai);fE=800;var Az=.25,yz,PE=P({W:1E10}),QE="Improves resin gain by "+K(c(Az))+" "+Jy;yz=gE("yellow tang",Gy,0,PE,QE,Bi);
var Bz=.5,zz,RE=P({W:5E15}),SE="Improves resin gain by "+K(c(Bz))+" "+Jy;zz=gE("red tang",Gy,1,RE,SE,Ci);fE=900;var Fz=.35,Dz,TE=P({W:2E15}),UE="Improves infinity bees by "+K(c(Fz))+" for berries/nuts (for mushrooms, has a lesser effect)";Dz=gE("leporinus",Cz,0,TE,UE,Di);var Gz=4,Ez,VE=P({W:7E23}),WE="Improves infinity bees by "+K(c(Gz))+" for berries/nuts (for mushrooms, has a lesser effect)";Ez=gE("red banded leporinus",Cz,1,VE,WE,Hi);fE=1E3;
var Kz=2,Iz,XE=P({W:1E16}),YE="Boosts the basic field boost by "+K(c(Kz))+", without requiring runestone (additive to runestone) "+Jy;Iz=gE("oranda",Hz,0,XE,YE,Ii);var Lz=10,Jz,ZE=P({W:2E20}),$E="Boosts the basic field boost by "+K(c(Lz))+", without requiring runestone (additive to runestone) "+Jy;Jz=gE("red oranda",Hz,1,ZE,$E,Ji);function aF(){this.name="a";this.Sn=void 0;this.gh=c(0);this.icon=this.hint=void 0;this.order=this.index=0;this.ff=!1}
function bF(a){a=a.gh.i(100);return ac(a,1)?0:ac(a,5)?1:ac(a,20)?2:ac(a,100)?3:ac(a,500)?4:ac(a,2E3)?5:ac(a,1E4)?6:ac(a,5E4)?7:ac(a,2E5)?8:ac(a,1E6)?9:ac(a,5E6)?10:11}var cF=[],dF=[],eF=[],fF=-1;function gF(a,b){if(b>a)throw"can only move order backward for now";var d=dF[a];b=dF[b].order+1;for(var e=d.order;e>b;e--)eF[e]=eF[e-1],dF[eF[e]].order=e;eF[b]=a;d.order=b}
function hF(a,b,d,e,f){if(dF[fF]||0>fF||65535<fF)throw"medal id already exists or is invalid!";var g=new aF;g.index=fF++;dF[g.index]=g;cF.push(g.index);g.name=a;g.description=b;g.icon=d;g.Sn=e;g.gh=f;g.order=eF.length;eF[g.order]=g.index;d||(g.icon=Ri[bF(g)]);return g.index}function iF(){var a=hF("deprecated","deprecated",jF,function(){return!1},c(0));dF[a].ff=!0}var jF=void 0;fF=0;
hF("crowded","planted something on every single field cell. Time to delete crops when more room is needed!",jF,function(){return 0!=G.bg?!1:G.Lm>=G.C*G.F-5},c(.02));hF("fern 100","clicked 100 ferns",hd[0],function(){return 100<=G.De},c(.01));hF("fern 1000","clicked 1000 ferns",hd[0],function(){return 1E3<=G.De},c(.1));hF("fern 10000","clicked 10000 ferns",hd[0],function(){return 1E4<=G.De},c(1));var kF;fF=4;
for(var lF=[1E3,1E6,1E9,1E12,1E15,1E18,1E21,1E24,1E27,1E30,1E36,1E42,1E48,1E54,1E60,1E66,1E72,1E78,1E84,1E90,1E96,1E102,1E108,1E114,1E120,1E126,1E162,1E168,1E174,1E180],mF=[.1,.3,.5,1,2,3,5,10,20,30,50,100,200,300,400,500,1E3,2E3,3E3,5E3,7E3,1E4,2E4,25E3,3E4,4E4,5E4,6E4,7E4,8E4],nF=0;nF<lF.length;nF++){var cl=c(lF[nF]),oF=bl(),pF=cl.toString(3,gk),qF=cl.toString(3,mk),rF=oF+" seeds",sF=hF(rF,"have over "+pF+" ("+qF+") seeds",Dd,B(function(a){return G.b.f.ba(a)},cl),c(mF[nF]).i(.01));0<nF&&(dF[sF].hint=
kF);kF=sF}fF=39;var tF=[5,50,100,200,500,1E3,1500,2E3,5E3],uF=[.01,.01,.02,.02,.05,.05,.1,.1,.2];for(nF=0;nF<tF.length;nF++){var vF=tF[nF],wF=uF[nF];rF="planted "+vF;sF=hF(rF,"Planted "+vF+" or more permanent plants over the course of the game",ve[0],B(function(a){return G.$i>=a},vF),c(wF));0<nF&&(dF[sF].hint=kF);kF=sF}fF+=20;
var xF=[[5,.025],[10,.05],[15,.075],[20,.1],[25,.2],[30,.3],[35,.4],[40,.5],[45,.75],[50,1],[60,1.5],[70,2.5],[80,5],[90,10],[100,15],[110,25],[120,50],[130,75],[140,150],[150,200],[160,300],[170,400],[180,500],[190,600],[200,700]];for(nF=0;nF<xF.length;nF++){var yF=xF[nF][0],zF=c(xF[nF][1]),AF=c(yF).toString(5,qk);rF="tree level "+AF;sF=hF(rF,"Reached tree level "+AF,Li[xy(yF)][1][1],B(function(a){return a<=G.Oa},yF),zF);0<nF&&(dF[sF].hint=kF);kF=sF}fF=104;
hF("four seasons","reached winter and seen all four seasons",od,function(){return 3==On()},c(.05));fF=110;hF("watercress","plant the entire field full of watercress",Ff[4],function(){return G.xe[Al]==G.C*G.F-2},c(.01));hF("berries","plant the entire field full of berries",ve[4],function(){return G.hf[wl]==G.C*G.F-2},c(.01));hF("flowers","plant the entire field full of flowers. Pretty, at least that's something",Re[4],function(){return G.hf[yl]==G.C*G.F-2},c(.01));
hF("mushrooms","plant the entire field full of mushrooms. I, for one, respect our new fungus overlords.",Ye[4],function(){return G.hf[xl]==G.C*G.F-2},c(.01));hF("stingy situation","plant the entire field full of stingy crops",yf[4],function(){return G.hf[zl]==G.C*G.F-2},c(.01));hF("mistletoes","plant the entire field full of mistletoes. You know they only work next to the tree, right?",Uf[4],function(){return G.hf[Bl]==G.C*G.F-2},c(.05));
hF("not the bees","build the entire field full of bees.",Xf[0],function(){return G.hf[Cl]==G.C*G.F-2},c(.1));hF("unbeelievable","fill the entire field (5x5) with bees during the bee challenge.",Zf[4],function(){return 23<=G.Qb[Pp]+G.Qb[Qp]+G.Qb[Rp]},c(.2));hF("buzzy","fill the entire field (5x5) with worker bees during the bees challenge.",Zf[4],function(){return 23<=G.Qb[Pp]},c(.3));
hF("unbeetable","fill the entire field (5x5) with drones during the bees challenge.",ag[4],function(){return 23<=G.Qb[Qp]},c(.4));hF("royal buzz","fill the entire field (5x5) with queen bees during the bees challenge.",bg[4],function(){return 23<=G.Qb[Rp]},c(.5));fF=125;var BF=[1,5,10,20,50,100,200,500,1E3],CF=[.1,.2,.25,.3,.5,1,2,3,4];
for(nF=0;nF<BF.length;nF++)yF=BF[nF],zF=c(CF[nF]),rF="transcend "+yF,sF=hF(rF,"Transcended "+yF+" times",Ti,B(function(a){return G.na>=a},yF),zF),0<nF&&(dF[sF].hint=kF),kF=sF;function DF(a,b,d){if(a==Fl)return 4*Math.pow(2,(45+6*(b-1)-5)/10)/100;a==xl&&(b=2*b+1.5);a==yl&&(b=2*b+.5);a==zl&&(b=8*b+3);a==Bl&&(b=4);a==Cl&&(b=8*b+6.75);return Math.pow(1.7,b)*(Math.floor(d/10)+1)/100*.25}
function EF(a,b){var d=Pm[a];return hF(d.name+" "+b,"have "+b+" fullgrown "+d.name,d.image[4],function(){return G.challenge==Kl||G.challenge==vp&&a==up||G.challenge==go&&a==xp?!1:G.Qb[a]>=b},c(DF(d.type,d.g,b)))}
function FF(a,b){var d=b?fF++:EF(a,1),e=b?fF++:EF(a,10);b=b?fF++:EF(a,20);var f=EF(a,30),g=EF(a,40),h=EF(a,50);fF++;fF++;Pm[a].type!=Fl&&(dF[d]&&dF[e]&&(dF[e].hint=d),dF[e]&&dF[b]&&(dF[b].hint=e),dF[b]&&dF[f]&&(dF[f].hint=b),dF[f]&&dF[g]&&(dF[g].hint=f),dF[g]&&dF[h]&&(dF[h].hint=g));return d}fF=160;FF(Eq);FF(Fq);FF(Gq);FF(Hq);FF(Iq);FF(Jq);FF(Kq);FF(Lq);FF(Mq);FF(Nq);FF(Oq);FF(Pq);FF(Qq);FF(Rq);FF(Sq);FF(Tq);fF=320;FF(Uq);FF(Vq);FF(Wq);FF(Xq);FF(Yq);FF(Zq);FF($q);FF(ar);fF=400;FF(br);FF(cr);FF(dr);
FF(er);FF(fr);FF(gr);FF(hr);FF(ir);fF=480;FF(wp);FF(up);FF(xp);fF=560;var GF=FF(mr);FF(nr);fF=640;FF(jr,!0);FF(kr,!0);fF=720;FF(lr);fF=960;EF(rr,1);EF(sr,1);EF(tr,1);EF(ur,1);EF(vr,1);EF(wr,1);EF(xr,1);EF(yr,1);EF(zr,1);EF(Ar,1);EF(Br,1);EF(Cr,1);EF(Dr,1);EF(Er,1);EF(Fr,1);EF(Gr,1);fF=1E3;hF("5 ethereal crops","Have 5 ethereal crops",void 0,function(){return 5<=G.Cj},c(.02));hF("10 ethereal crops","Have 10 ethereal crops",void 0,function(){return 10<=G.Cj},c(.05));
hF("20 ethereal crops","Have 20 ethereal crops",void 0,function(){return 20<=G.Cj},c(.1));fF=1100;var HF=[5,10,20,50,100,200,500,1E3,2E3,5E3,1E4],IF=[.02,.05,.05,.05,.1,.1,.2,.5,.5,1,2],JF=[0,1,2,3,4,5,6,7,8,9,10];for(nF=0;nF<HF.length;nF++)cl=HF[nF],zF=c(IF[nF]),rF="fruits "+cl,sF=hF(rF,"Found "+cl+" fruits",Ld[JF[nF]],B(function(a){return G.od>=a},cl),zF),0<nF&&(dF[sF].hint=kF),kF=sF;fF=1200;var KF=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30];
for(nF=0;nF<KF.length;nF++)yF=KF[nF],zF=c(yF*yF/20),AF=yF,rF="ethereal tree level "+AF,sF=hF(rF,"Reached ethereal tree level "+AF,Li[xy(yF)][1][4],B(function(a){return a<=G.U},yF),zF),0<nF&&(dF[sF].hint=kF),kF=sF;fF=1300;var LF=[10,100,1E3,1E4,1E5,1E6,1E7,1E8,1E9,1E12,1E15,1E18,1E21,1E24,1E27],MF=[1,2,5,10,15,20,35,50,100,250,500,1E3,2E3,3E3,4E3];
for(nF=0;nF<LF.length;nF++){cl=c(LF[nF]);oF=bl();pF=cl.toString(3,gk);qF=cl.toString(3,mk);rF=oF+" resin ";var NF=ac(cl,900)?pF:pF+" ("+qF+")";sF=hF(rF,"earned over "+NF+" resin in total",Ed,B(function(a){return G.ma.h.ba(a)},cl),c(MF[nF]).i(.01));0<nF&&(dF[sF].hint=kF);kF=sF}fF=2E3;hF("help","viewed the main help dialog",sb,function(){return 1==OF},c(.01));hF("changelog","viewed the changelog",hd[0],function(){return 1==PF},c(.01));
hF("stats","viewed the player stats",ke,function(){return 1==QF},c(.01));hF("challenge stats","viewed the challenge stats",ke,function(){return 1==RF},c(.01));hF("transcension stats","viewed the transcension stats",ke,function(){return 1==SF},c(.01));hF("automaton dialog","viewed the automaton unlock sources dialog by clicking the automaton in the automaton tab",jg,function(){return 1==TF},c(.01));
hF("fruit dialog",'viewed the fruit storage slot sources dialog by clicking on the "stored fruits" text title in the fruit tab',Ld[3],function(){return 1==UF},c(.01));hF("old squirrel tree","viewed the pre-evolution squirrel tree dialog from the squirrel tab",mg,function(){return 1==VF},c(.01));hF("previous unlocks",'viewed the "previous unlocks" dialog from the ethereal tree',Li[10][1][4],function(){return 1==WF},c(.01));fF=2010;var XF=[1,7,30],YF=[1,5,10];
for(nF=0;nF<XF.length;nF++){var ZF=XF[nF];rF=ZF+" "+(1==ZF?"day":"days");sF=hF(rF,"played for "+ZF+" days",void 0,B(function(a){return(G.time-G.Jc)/86400>=a},ZF),c(YF[nF]).i(.01))}fF=2020;hF("higher transcension","performed transcension at exactly twice the initial transcenscion level",void 0,function(){return 20<=G.Oa&&20>G.s},c(.1));fF=2100;hF("the bees knees","completed the bees challenge",bg[4],function(){return!!G.P[cn].X},c(.1));
var $F=hF("on the rocks","completed the rocks challenge",Yd[1],function(){return!!G.P[iu].X},c(.05));hF("undeleted","completed the undeletable challenge",void 0,function(){return!!G.P[Sn].X},c(.25));hF("upgraded","completed the no upgrades challenge",Bd,function(){return 1<=G.P[ju].X},c(.25));hF("upgradeder","completed the no upgrades challenge stage 2",Bd,function(){return 2<=G.P[ju].X},c(.5));hF("withering","completed the wither challenge",void 0,function(){return 1<=G.P[Rn].X},c(.35));
var aG=hF("withered","completed the wither challenge stage 2",void 0,function(){return 2<=G.P[Rn].X},c(.7));hF("berried","completed the blackberry challenge",ve[4],function(){return 1<=G.P[xu].X},c(1));hF("B","place a bee nest during the blackberry challenge",Xf[4],function(){return G.challenge==xu&&0<G.Qb[mr]},c(1.5));var bG=hF("rock lobster","completed the rocks challenge stage 2",Yd[2],function(){return 2<=G.P[iu].X},c(.15));gF(bG,$F);
var cG=hF("this rocks!","completed the rocks challenge stage 3",Yd[3],function(){return 3<=G.P[iu].X},c(.45));gF(cG,bG);var dG=hF("rock star","completed the rocks challenge stage 4",Yd[0],function(){return 4<=G.P[iu].X},c(2));gF(dG,cG);var eG=hF("rocking on","completed the rocks challenge stage 5",Yd[1],function(){return 5<=G.P[iu].X},c(5));gF(eG,dG);var fG=hF("rock pun VI","completed the rocks challenge stage 6",Yd[2],function(){return 6<=G.P[iu].X},c(10));gF(fG,eG);
var gG=hF("rock pun VII","completed the rocks challenge stage 7",Yd[3],function(){return 7<=G.P[iu].X},c(20));gF(gG,fG);var hG=hF("rock pun VIII","completed the rocks challenge stage 8",Yd[4],function(){return 8<=G.P[iu].X},c(50));gF(hG,gG);fF=2120;hF("rock solid","completed the rockier challenge",Yd[0],function(){return G.P[Mp].X},c(2));hF("rock solid II","completed the rockier challenge map 2",Yd[0],function(){return 2<=G.P[Mp].Ab},c(2.5));dF[fF-1].hint=fF-2;
hF("rock solid III","completed the rockier challenge map 3",Yd[0],function(){return 3<=G.P[Mp].Ab},c(3));dF[fF-1].hint=fF-2;hF("rock solid IV","completed the rockier challenge map 4",Yd[0],function(){return 4<=G.P[Mp].Ab},c(3.5));dF[fF-1].hint=fF-2;hF("rock solid V","completed the rockier challenge map 5 (final)",Yd[0],function(){return 5<=G.P[Mp].Ab},c(4));dF[fF-1].hint=fF-2;fF=2130;var iG=hF("prickly predicament","completed the thistle challenge",zf[4],function(){return G.P[vp].X},c(3));
hF("wasaaaa, B","completed the wasabi challenge",Jf[4],function(){return G.P[bq].X},c(4));hF("the basics","ran the basic challenge",jF,function(){return G.P[zu].X},c(1));hF("beesic","get a bee nest during the basic challenge",Xf[4],function(){return G.challenge==zu&&0<G.Qb[mr]},c(2));fF=2135;hF("basic 15","reach level 15 in the basic challenge",jF,function(){return G.challenge==zu&&15<=G.s},c(2));
hF("basic 20","reach level 20 in the basic challenge",jF,function(){return G.challenge==zu&&20<=G.s},c(2));hF("basic 25","reach level 25 in the basic challenge",jF,function(){return G.challenge==zu&&25<=G.s},c(2.5));hF("basic 30","this is the final achievement for the basic challenge. Higher levels are capped and won't give additional challenge bonus.",jF,function(){return G.challenge==zu&&30<=G.s},c(3));iF();iF();fF=2150;
hF("master of basic","completed the truly basic challenge",jF,function(){return G.P[Au].X},c(5));fF=2155;hF("truly basic 15","reach level 15 in the truly basic challenge",jF,function(){return G.challenge==Au&&15<=G.s},c(2));hF("truly basic 20","reach level 20 in the truly basic challenge",jF,function(){return G.challenge==Au&&20<=G.s},c(2.5));
hF("truly basic 25","this is the final achievement for the truly basic challenge. Higher levels are capped and won't give additional challenge bonus.",jF,function(){return G.challenge==Au&&25<=G.s},c(3));iF();fF=2170;hF("stormy","completed the stormy challenge",Jd,function(){return G.P[dp].X},c(1));hF("infernal","completed the infernal challenge",ud[2],function(){return G.P[eo].X},c(1.5));
hF("infernal bees","have bees during the infernal challenge",Xf[4],function(){return G.challenge==eo&&0<G.Qb[mr]},c(2));hF("infernal prestige","prestige a crop during infernal challenge",ud[3],function(){return G.challenge==eo&&1<=G.D[Eq].oa},c(3));fF=2180;hF("poisonous perils","completed the poison ivy challenge",Af[4],function(){return G.P[go].X},c(10));fF=2500;
function jG(a){var b=Pm[a];hF(b.name+" prestige","prestiged the "+b.name,b.image[4],function(){return 1<=G.D[a].oa},c(2*DF(b.type,b.g+$m[b.type],1)))}for(nF=0;16>nF;nF++)jG(Eq+nF);fF=2600;for(nF=0;8>nF;nF++)jG(Uq+nF);fF=2700;for(nF=0;8>nF;nF++)jG(br+nF);fF=2800;for(nF=0;16>nF;nF++)jG(rr+nF);fF=2900;
var kG=[1E3,1E6,1E9,1E12,1E15,1E18,1E21,1E24,1E27,1E30,1E33,1E36,1E39,1E42,1E45,1E48,1E51,1E54,1E57,1E60,1E63,1E66,1E69,1E72,1E75,1E78,1E81,1E84,1E87,1E90,1E93,1E96,1E99],lG=[1,3,5,10,20,30,40,50,60,70,80,100,150,200,300,400,500,600,700,800,900,1E3,1500,2E3,3E3,4E3,5E3,6E3,7E3,8E3,9E3,1E4,15E3];
for(nF=0;nF<kG.length;nF++)cl=c(kG[nF]),oF=bl(),pF=cl.toString(3,gk),qF=cl.toString(3,mk),rF=oF+" nuts",sF=hF(rF,"have over "+pF+" ("+qF+") nuts",Fd,B(function(a){return G.b.Y.ba(a)},cl),c(lG[nF]).i(.01)),0<nF&&(dF[sF].hint=kF),kF=sF;fF=3E3;hF("ghost in the field","have a ghost-crop",fh,function(){return 0<G.Sf},c(1));hF("ghost town","have 10 ghost crops in the field",jh,function(){return 10<=G.Sf},c(1.5));
hF("who you gonna call?","have the whole field full of ghost crops",nh,function(){if(0==G.Sf)return!1;var a=G.C*G.F-2;return G.Sf>=a||G.kj>=a&&4>=G.kj-G.Sf?!0:!1},c(2));hF("undeletable ghost","get a ghost-crop during the undeletable challenge",fh,function(){return 0<G.Sf&&G.challenge==Sn},c(1));
var mG=hF("truly basic speed 2.5h","reach level 10 in the truly basic challenge in 2.5 hours or less",he,function(){if(G.challenge==Au&&10<=G.s&&9E3>=G.ga)return!0;var a=G.P[Au].Nb;return G.P[Au].X&&a&&9E3>=a?!0:!1},c(1)),nG=hF("truly basic speed 2h","reach level 10 in the truly basic challenge in 2 hours or less",he,function(){if(G.challenge==Au&&10<=G.s&&7200>=G.ga)return!0;var a=G.P[Au].Nb;return G.P[Au].X&&a&&7200>=a?!0:!1},c(2));dF[nG].hint=mG;
var oG=hF("truly basic speed 1.5h","reach level 10 in the truly basic challenge in 1.5 hours or less",he,function(){if(G.challenge==Au&&10<=G.s&&5400>=G.ga)return!0;var a=G.P[Au].Nb;return G.P[Au].X&&a&&5400>=a?!0:!1},c(3));dF[oG].hint=nG;var pG=hF("truly basic speed 1h","reach level 10 in the truly basic challenge in 1 hour or less",he,function(){if(G.challenge==Au&&10<=G.s&&3600>=G.ga)return!0;var a=G.P[Au].Nb;return G.P[Au].X&&a&&3600>=a?!0:!1},c(4));dF[pG].hint=oG;fF=3020;
hF("squirrel evolution","evolve the squirrel",le,function(){return 1<=G.Xa},c(100));var qG=hF("rather stingy","plant the entire field full of stinging crops during the thistle challenge",zf[4],function(){return G.challenge==vp&&G.hf[zl]>=G.C*G.F-2},c(4));gF(qG,iG);fF=3040;var rG=hF("withered III","completed the wither challenge stage 3",void 0,function(){return 3<=G.P[Rn].X},c(2));gF(rG,aG);var sG=hF("withered IV","completed the wither challenge stage 4",void 0,function(){return 4<=G.P[Rn].X},c(4));
gF(sG,rG);var tG=hF("withered V","completed the wither challenge stage 5",void 0,function(){return 5<=G.P[Rn].X},c(5));gF(tG,sG);var uG=hF("withered VI","completed the wither challenge stage 6",void 0,function(){return 6<=G.P[Rn].X},c(10));gF(uG,tG);var vG=hF("withered VII","completed the wither challenge stage 7",void 0,function(){return 7<=G.P[Rn].X},c(100));gF(vG,uG);fF=4E3;hF("One infinity","Have one crop on the infinity field",me,function(){return 1<=G.tf},c(10));
hF("Two infinities","Have two crops on the infinity field",me,function(){return 2<=G.tf},c(20));hF("Four infinities","Have four crops on the infinity field",me,function(){return 4<=G.tf},c(40));hF("Eight infinities","Have eight crops on the infinity field",me,function(){return 8<=G.tf},c(80));hF("Sixtien infinities","Have sixteen crops on the infinity field",me,function(){return 16<=G.tf},c(160));
hF("Infinite infinities","Filled the entire infinity field with crops",me,function(){return 0==G.Jm},c(250));hF("One runestone","Have one runestone on the infinity field",Vg[4],function(){return 1<=G.Fc[DD]},c(100));hF("Two runestones","Have two runestones on the infinity field",Vg[4],function(){return 2<=G.Fc[DD]},c(200));hF("Three runestones","Have three runestones on the infinity field",Vg[4],function(){return 3<=G.Fc[DD]},c(400));
hF("Four runestones","Have four runestones on the infinity field",Vg[4],function(){return 4<=G.Fc[DD]},c(800));hF("Five runestones","Have five runestones on the infinity field",Vg[4],function(){return 5<=G.Fc[DD]},c(1600));hF("Six runestones","Have six runestones on the infinity field",Vg[4],function(){return 6<=G.Fc[DD]},c(3200));hF("Seven runestones","Have seven runestones on the infinity field",Vg[4],function(){return 7<=G.Fc[DD]},c(6400));
hF("Eight runestones","Have eight runestones on the infinity field",Vg[4],function(){return 8<=G.Fc[DD]},c(12800));fF=4200;function wG(a){var b=Nz[a],d=Math.pow(2*Wj(Nz[a].T.v),1.15);hF("Infinity "+na(b.name),"Have a "+b.name+" on the infinity field",b.image[4],function(){return b.type==Al?1<=G.Fc[a]:1<=G.Hl[a]},c(d))}wG(EC);wG(PC);wG(gD);wG(FC);wG(QC);wG(hD);wG(GC);wG(RC);wG(iD);wG(rD);wG(HC);wG(SC);wG(jD);wG(sD);wG(IC);wG(TC);wG(kD);wG(tD);wG($C);wG(JC);wG(UC);wG(lD);wG(uD);wG(aD);wG(KC);wG(VC);
wG(mD);wG(vD);wG(bD);wG(ED);wG(LC);wG(WC);wG(nD);wG(wD);wG(cD);wG(FD);wG(qC);wG(MC);wG(XC);wG(oD);wG(xD);wG(dD);wG(GD);wG(JD);wG(MD);wG(NC);wG(YC);wG(eD);wG(pD);wG(HD);wG(yD);wG(KD);wG(ND);wG(TD);wG(OC);wG(ZC);wG(fD);wG(qD);wG(ID);wG(zD);wG(LD);wG(OD);wG(YD);fF=4700;function xG(a){var b=pC[a],d=Math.pow(20*Wj(pC[a].T.W),1.15);hF(la(b.name),"Have a "+b.name+" in the infinity pond",b.image,function(){return 1<=G.cb[a]},c(d))}xG(Ly);xG(Sy);xG(Xy);xG(bz);xG(gz);xG(nz);xG(uz);xG(yz);xG(My);xG(hz);xG(Ty);
xG(oz);xG(vz);xG(zz);xG(Dz);xG(Iz);xG(cz);xG(Yy);xG(Ny);xG(Jz);xG(iz);xG(pz);xG(Ez);fF=5E3;hF("Tower defender","Reach level 50 during tower defense",lj[0],function(){return 50<=lA()},c(1));hF("Tower defender II","Reach level 100 during tower defense",lj[0],function(){return 100<=lA()},c(2));hF("Tower defender III","Reach level 150 during tower defense",lj[0],function(){return 150<=lA()},c(5));hF("Tower defender IV","Reach level 150 during tower defense",lj[0],function(){return 200<=lA()},c(10));
fF=5025;hF("Exterminate!","Exterminate a pest during tower defense",cj[0],function(){return 1<=G.Th},c(.1));hF("Exterminator","Exterminate 100 pests during tower defense",cj[0],function(){return 100<=G.Th},c(1));hF("Extermination","Exterminate 10000 pests during tower defense",cj[0],function(){return 1E4<=G.Th},c(2));fF=5050;hF("Icy tower","Reach level 70 during tower defense in winter",Ui,function(){return G.challenge==Kl&&70<=G.s&&3==On()},c(1));
function yG(){var a=new Date,b=a.getYear()+1900;a=a.getMonth()+1;12<=a&&(b++,a=1);b=2*(b-2024)+2;3<=a&&b++;0>b&&(b=0);20<b&&(b=20);return b}function zG(){var a=new Date,b=a.getMonth()+1;a=a.getDate();return 12==b&&7<=a||1==b&&7>=a?1:3==b&&25<=a||4==b&&25>=a?2:10==b&&6<=a||11==b&&6>=a?4:0};var Cs=16,em=1,fm=2,AG=3,BG=4,sp=5,gm=7;function CG(a,b,d){this.H=this.index=0;this.x=a;this.y=b;this.Wf=this.Zh=!1;this.nk=d;this.wj=!1}function oo(a){return a.index<Cs?!1:S(a).type==Al||1==a.nk&&G.challenge==Rn?0<a.H:1<=a.H}function Yo(a,b){return b&&a.index==sp?Yo(tp(a),!1):a.index>=Cs}function io(a,b){return b&&a.index==sp?io(tp(a),!1):a.index>=Cs&&zn(S(a))}function Bs(a,b){return b&&a.index==sp?Bs(tp(a),!1):a.index-Cs}
function S(a,b){if(b&&a.index==sp)return S(tp(a),!1);if(!(a.index<Cs))return 2==a.nk?Uu[a.index-Cs]:3==a.nk?Nz[a.index-Cs]:10==a.nk?pC[a.index-Cs]:Pm[a.index-Cs]}function DG(a,b){if(b&&a.index==sp)return DG(tp(a),!1);a=S(a);if(!a||!a.mc&&!a.Vb)return a}function no(a,b){if(G.G[b][a].index!=sp)return 0;var d=0<b&&G.G[b-1][a].index==sp,e=0<a&&G.G[b][a-1].index==sp;return b+1<G.F&&G.G[b+1][a].index==sp&&!e?1:a+1<G.C&&G.G[b][a+1].index==sp&&!d?2:d&&e?3:0}
function tp(a){if(a.index==em)return a;if(a.index==fm&&0<a.y)return G.G[a.y-1][a.x];if(a.index==sp){var b=no(a.x,a.y);if(1==b)return G.G[a.y][a.x-1];if(2==b)return G.G[a.y-1][a.x];if(3==b)return G.G[a.y-1][a.x-1]}return a}function Np(a,b,d,e,f){var g=f[b][a],h=f[e][d],k=S(g),l=S(h);l=h.index!=fm&&h.index!=em&&h.index!=sp&&!(l&&l.Oc);if(!(g.index==fm||g.index==em||g.index==sp||k&&k.Oc)&&l)return!0;g=tp(g);h=tp(h);b=tp(f[b][d]);a=tp(f[e][a]);return!(b==g||b==h||a==g||a==h)}
var EG=[[0,-1,!1],[1,0,!1],[0,1,!1],[-1,0,!1]],FG=[[-1,-1,!0],[0,-1,!1],[1,-1,!0],[-1,0,!1],[1,0,!1],[-1,1,!0],[0,1,!1],[1,1,!0]],GG=[[0,-1,!1],[1,-1,!1],[-1,0,!1],[2,0,!1],[-1,1,!1],[2,1,!1],[0,2,!1],[1,2,!1]],HG=[[-1,-1,!0],[0,-1,!1],[1,-1,!1],[2,-1,!0],[-1,0,!1],[2,0,!1],[-1,1,!1],[2,1,!1],[-1,2,!0],[0,2,!1],[1,2,!1],[2,2,!0]];function Xo(a,b){return(a=S(a,!1))&&a.Oc?b?HG:GG:b?FG:EG}function IG(a){return 0==a.index||a.index==AG}function JG(a){return Yo(a)&&S(a).mc}
function KG(){this.c=!1;this.I=this.Ke=this.oa=0}function LG(){this.I=this.c=!1}function MG(){this.I=this.c=!1}function NG(){this.I=this.c=!1}function OG(){this.c=this.I=this.lh=this.ya=!1;this.count=0}function PG(){this.c=!1;this.count=0}function VB(){this.count=0}function QG(){this.$=[0,0,0];this.ya=[0,0,0]}function RG(){this.Bb=this.ya=!1}
function SG(){this.c=!1;this.yd=this.Nb=this.Pa=this.fi=this.Ab=this.$=this.X=0;this.me=this.le=this.kb=void 0;this.Tk=this.Sk=0;this.sj=c(0);this.Am=c(0);this.Xg=0;this.pp=c(0);this.ym=this.zm=0}function TG(){this.F=this.C=0;this.data=[];this.g=[];this.name=""}function UG(a){return 0==a?-1:2==a?Kr:3==a?Lr:4==a?Mr:5==a?Nr:6==a?Or:7==a?Pr:8==a?Wr:9==a?Xr:60==a?Yr:100==a?Zr:101==a?$r:102==a?as:103==a?bs:104==a?cs:105==a?ds:-1}
function VG(a,b){a=0==a?-1:2==a?Qw:3==a?Cw:4==a?Dw:5==a?Ew:6==a?Fw:7==a?Ow:8==a?Pw:32==a?Kw:33==a?Nw:34==a?Gw:35==a?Hw:-1;if(-1==a)return a;var d=Uu[a];return d?void 0!=b&&(b=lv[d.type][b])?b.index:a:a}function WG(a){return a?a.type==Al?2:a.type==wl?3:a.type==xl?4:a.type==yl?5:a.type==zl?6:a.type==Cl?7:a.type==Bl?8:a.type==Fl?9:a.type==Wm?32:a.type==Ym?33:a.type==Xm?34:a.type==El?35:a.type==Gl?60:a.index==vm?100:a.index==wm?101:a.index==xm?102:a.index==ym?103:a.index==zm?104:a.index==Am?105:0:0}
function XG(a,b){b&&(a||(b.C=0,b.F=0,b.data=[],b.g=[]),b.C=a.C,b.F=a.F,b.data=m.clone(a.data),b.g=m.clone(a.g),b.name=a.name)}function YG(a){var b=new TG;XG(a,b);return b}function ZG(){this.type=0;this.level=10;this.time=this.oa=this.aa=0;this.we=this.zf=1}function $G(){this.ye=!1;this.tb=0;this.zg=!1;this.zd=0;this.ze=!1;this.Gd=0;this.Bg=!1;this.Af=0;this.Fh=this.Jf=this.If=this.Ag=!1}
function aH(){this.enabled=!1;this.Re=this.done=0;this.fe=new ZG;this.effect=new $G;this.ti=[!1,!1,!1,!1];this.Pd=[new ZG,new ZG,new ZG,new ZG];this.Hf=[!1,!1,!1,!1];this.Dd=[new $G,new $G,new $G,new $G];this.km=function(){var a=On();return bH()&&0<=a&&3>=a&&this.ti[a]?this.Pd[a]:this.fe};this.ij=function(){var a=On();return bH()&&0<=a&&3>=a&&this.Hf[a]?this.Dd[a]:this.effect}}function cH(){this.$=this.time=0}var dH=0;
function eH(){dH++;this.time=this.Im=this.Cm=this.Yk=this.tl=this.$c=this.Ca=0;this.nl=-1;this.Fm=this.ra=this.beta=0;this.Xb=this.Jb=this.Wb=this.qb=-1;this.b=void 0;this.h=c(0);this.K=c(0);this.Xf=this.ci=this.Jd=this.s=0;this.ih=c(0);this.ph=c(0);this.qk=c(0);this.Vg=0;this.rd=[0,0,0];this.ee=[0,0];this.Ti=this.Hb=this.Gb=this.Va=this.fg=0;this.Dg=-1;this.Mf=new P;this.Lf=new P;this.ll=this.Bc=this.Ac=this.Jj=this.fc=0;this.dg=-1;this.ni=this.li=this.rj=0;this.F=this.C=5;this.G=[];this.D=[];for(var a=
0;a<gq.length;a++)this.D[gq[a]]=new KG;this.o=[];for(a=0;a<os.length;a++)this.o[os[a]]=new OG;this.oc=[];for(a=0;a<cF.length;a++)this.oc[cF[a]]=new RG;this.P=[];for(a=0;a<mu.length;a++){this.P[mu[a]]=new SG;var b=V[mu[a]],d=this.P[mu[a]];if(1<b.ja){d.kb=[];d.le=[];d.me=[];for(var e=0;e<b.ja;e++)d.kb[e]=0,d.le[e]=0,d.me[e]=0}}this.P[0]=new SG;this.Ii=0;this.za=new Wl;this.pa=this.qa=5;this.xa=[];this.ha=[];for(a=0;a<kv.length;a++)this.ha[kv[a]]=new LG;this.U=0;this.S=[];for(a=0;a<Rw.length;a++)this.S[Rw[a]]=
new PG;this.Ga=this.Ha=5;this.va=[];this.da=[];for(a=0;a<sC.length;a++)this.da[sC[a]]=new MG;this.qc=this.rc=5;this.Fb=[];this.Aa=[];for(a=0;a<dE.length;a++)this.Aa[dE[a]]=new NG;this.Ed=c(-1);this.Be=c(0);this.Of=this.Nf=0;this.Fd=c(-1);this.Ce=c(0);this.Qf=this.Pf=0;this.sf=c(-1);this.qf=c(0);this.rf=this.Tf=0;this.Ug=P();this.Sg=P();this.Tg=-Infinity;this.Xa=0;this.rb=[];this.nh=c(0);this.Mm=c(0);this.Rj=this.oj=!1;this.fa=[];for(a=0;a<CA.length;a++)this.fa[CA[a]]=new VB;this.Qk=this.nc=this.be=
this.Ob=this.wb=this.zb=this.Lb=this.xb=0;this.Un=4;this.ig=2;this.jl=this.paused=!1;this.yj=this.Ne=this.xm=this.bi=this.ai=0;this.qg=new P;this.Pj=!0;this.nd=-1;this.Eg=!1;this.ob=0;this.Z=[];this.Da=3;this.ea=[];this.Rc=0;this.zc=[];this.xj=gk;this.precision=3;this.td=1;this.jh=!0;this.Od=1;this.yg=!1;this.pi=this.vd=1;this.Me=[0,0];this.volume=1;this.Qa=[1,1,1,1,1,1];this.yh=!0;this.ae=3;this.Je=1;this.dc=2;this.$h=!1;this.Id={};this.Za={};this.Fe={};this.Xe=!0;this.je=0;this.xd=[];this.Sd=1;
this.Td=[.5,.5,.5,.5,.5,.5,.5,.5,.5,.5];this.fd=1;this.Zb=[1,.5,.5,1,.5,.5,.5,.5,.5,.5];this.We=1;this.ke=!1;this.Rd=[1,.5,.5,1,.5,.5,.5,.5,.5,.5];this.Cf=c(0);this.rg=1;this.jc=0;this.ua=[];this.challenge=0;this.Hi=!1;this.aj=this.gj=this.fj=this.dj=this.Kg=this.Oa=this.Kh=this.Wi=this.Vi=this.Sl=this.Ul=this.Vl=this.Ql=this.Zl=this.na=0;this.Rh=1;this.Qh=0;this.Lg=c(0);this.Il=this.Jg=this.Ll=this.Ic=this.Oh=this.Yl=this.uk=this.Mg=this.Fg=this.lf=this.Rf=this.bo=0;this.Yd=[0,0,0,0,0,0,0];this.Gg=
P();this.Jl=P();this.Nh=[0,0];this.Ml=this.am=this.rk=this.xk=this.Mh=this.Yi=this.Hg=this.Wl=this.Xl=this.sk=0;this.Xi=c(0);this.vk=this.kf=this.Jc=this.Ig=this.Sh=this.yk=this.tk=this.Ui=0;this.ma=P();this.eb=P();this.Ih=P();this.Tl=this.Nl=this.Ol=this.Rl=this.Zi=this.od=this.Jh=this.$l=this.ej=this.wk=this.$i=this.Lh=this.bj=this.De=0;this.Ph=P();this.zk=P();this.Ak=P();this.ji=this.Th=this.bm=this.Bk=this.dm=this.cm=this.Kl=this.Pl=this.cj=this.jf=0;this.ii=P();this.Vm=this.Nc=this.Gj=0;this.Ld=
P();this.Fj=P();this.Ej=P();this.Sm=this.Om=this.Pm=this.Rm=this.el=this.dl=this.bl=this.Wm=this.il=this.hl=this.fl=this.Tm=this.gl=this.cl=0;this.eh=P();this.bh=P();this.dh=P();this.sh=this.ga=this.kd=this.Zm=this.Ym=this.$m=this.bn=this.an=this.Nm=this.Qm=this.Um=this.Xm=0;this.gb=P();this.bf=P();this.Ef=P();this.Ci=this.Bi=this.oe=this.pe=this.vg=this.rh=this.cf=this.vh=this.uh=this.th=this.qe=this.Ad=this.lc=this.ug=0;this.Bd=P();this.re=P();this.se=P();this.wh=this.Ei=this.xh=this.Gi=this.Fi=
this.Ai=this.Di=this.wg=0;this.vf=[];this.gn=[];this.sd=[];this.hh=[];this.wf=[];this.Oj=[];this.gg=[];this.Nj=[];this.Qi=[];this.Cg=[];this.Ni=[];this.Pi=[];this.Mi=[];this.Oi=[];this.gd=[];this.Ud=[];this.Ze=this.Ye=0;this.Uc=this.Mb=this.Ve=this.Bf=!1;this.kh=this.xf=this.xi=0;this.pg=!1;this.Kb=[];for(a=0;a<$B.length;a++)this.Kb[$B[a]]=new cH;this.lb=-1;this.Lm=this.vo=this.Cj=this.uo=this.hi=this.Bj=this.Aj=this.tf=this.so=this.al=this.Km=this.Jm=this.to=this.bg=this.xl=this.wl=this.$a=this.pc=
0;this.ab=[];this.Tb=[];this.Fc=[];this.cb=[];this.xe=[];this.Wd=[];this.kj=this.Sf=this.Fo=this.ah=0;this.Qb=[];this.lm=[];this.ao=[];this.Hl=[];this.hf=[];this.mm=[];this.qh=[];this.Sj=[];this.Eo=[];this.ln=[];this.Hk=this.Gk=this.Sc=this.ul=this.wn=this.Qd=this.sn=this.vn=this.un=this.xn=this.tn=this.Wj=0;this.wi=this.Ue=!1;this.vj=this.ag=0;this.Yg=c(1);this.jk=c(0);this.Ri=c(0);this.lk=c(0);this.mk=c(0);this.ik=c(0);this.kk=c(0);this.ce=this.fk=this.ek=this.zh=this.ef=0;this.Yj=c(0);this.df=
c(1);this.te=c(1);this.Vj=0;this.Og=[];this.Ik=[];this.nj=[];this.tm=[];this.Kk=[];this.Vk=[];this.uj=[];this.qm=[];this.Ib=[];this.Zd=[];this.Ge=[];this.Jk=[];this.nf=[];this.sm=[];this.io=[];this.pm=[];this.rm=[];this.Vh=[];this.Dj=0;this.Kf=!1;this.ak=this.$j=void 0;this.Al=!1;this.pd=c(0);this.Hh=c(0);this.Dm=this.Jo=!1;this.Wg=new P;this.ko=new P}function TB(a){a.rb=[];for(var b=GA[a.Xa],d=0;d<b.length;d++)a.rb[d]=new QG}
function UB(a){for(var b=a.$a&1?kg:jg,d=Uu[Vu],e=0;e<d.image.length;e++)d.image[e]=b;DA[RA].image=b;a=a.$a&1?0==a.Xa?ng:qg:0==a.Xa?mg:pg;b=Uu[Wu];for(e=0;e<b.image.length;e++)b.image[e]=a;DA[PA].image=a;DA[fB].image=a}function uu(a,b){if(b!=a.ua.length)if(b<a.ua.length)a.ua.length=b;else for(;a.ua.length<b;)a.ua.push(new aH)}function wB(){var a=G;return a.time-(0<a.s?a.Jd:a.kd)}
function fH(a){a.G=[];for(var b=0;b<a.F;b++){a.G[b]=[];for(var d=0;d<a.C;d++)a.G[b][d]=new CG(d,b,1)}b=Math.floor((a.C-1)/2);d=Math.floor(a.F/2);a.G[d][b].index=fm;a.G[d-1][b].index=em}function gH(a){a.xa=[];for(var b=0;b<a.pa;b++){a.xa[b]=[];for(var d=0;d<a.qa;d++)a.xa[b][d]=new CG(d,b,2)}b=Math.floor((a.qa-1)/2);d=Math.floor(a.pa/2);a.xa[d][b].index=fm;a.xa[d-1][b].index=em}
function hH(a){a.va=[];for(var b=0;b<a.Ga;b++){a.va[b]=[];for(var d=0;d<a.Ha;d++)a.va[b][d]=new CG(d,b,3)}a.va[Math.floor((a.Ha-1)/2)][Math.floor(a.Ga/2)].index=6}function iH(a){a.Fb=[];for(var b=0;b<a.qc;b++){a.Fb[b]=[];for(var d=0;d<a.rc;d++)a.Fb[b][d]=new CG(d,b,10)}}
function hx(a,b){var d=G,e=0;d.challenge==iu&&(e=BG);d.challenge==Mp&&(e=BG);d.challenge==vp&&(e=Cs+up);d.challenge==go&&(e=Cs+xp);for(var f=(d.C+1>>1)-(a+1>>1),g=(d.F>>1)-(b>>1),h=[],k=0;k<b;k++){h[k]=[];for(var l=0;l<a;l++){var p=l+f,q=k+g;0<=p&&p<d.C&&0<=q&&q<d.F?(h[k][l]=d.G[q][p],h[k][l].x=l,h[k][l].y=k):(h[k][l]=new CG(l,k,1),h[k][l].index=e)}}d.G=h;d.C=a;d.F=b;d.Gb-=f;d.Hb-=g}
function qx(a,b){for(var d=G,e=(d.qa+1>>1)-(a+1>>1),f=(d.pa>>1)-(b>>1),g=[],h=0;h<b;h++){g[h]=[];for(var k=0;k<a;k++){var l=k+e,p=h+f;g[h][k]=0<=l&&l<d.qa&&0<=p&&p<d.pa?d.xa[p][l]:new CG(k,h,2);g[h][k].x=k;g[h][k].y=h}}d.xa=g;d.qa=a;d.pa=b}
function jH(){var a=new eH;a.b=P({f:Vz});fH(a);gH(a);hH(a);iH(a);a.D[jr].c=!0;a.Jc=m.getTime();a.kd=a.Jc;a.Vi=a.Jc;a.Wi=a.Jc;a.nc=a.Jc;WB(a);a.nl=Math.floor(281474976710656*Math.random());a.nd=Math.floor(281474976710656*Math.random());a.Dg=Math.floor(281474976710656*Math.random());a.dg=Math.floor(281474976710656*Math.random());TB(a);UB(a);return a}
function kH(a,b){for(var d=0;4>d;d++){var e=a+(1==d||4==d||5==d?1:3==d||6==d||7==d?-1:0),f=b+(0==d||4==d||7==d?-1:2==d||5==d||6==d?1:0);if(!(0>e||e>=G.qa||0>f||f>=G.pa)&&(e=G.xa[f][e],e.index==em||e.index==fm))return!0}return!1}
function WB(a){lH++;a.$a=zG();a.bg=0;a.al=0;a.Aj=0;a.Bj=0;a.uo=0;for(var b=a.Lm=0;b<Zm;b++)a.hf[b]=0,a.mm[b]=0,a.xe[b]=0,a.qh[b]=0,a.Og[b]=-Infinity,a.Ik[b]=-Infinity,a.qm[b]=void 0,a.tm[b]=-Infinity,a.Kk[b]=-Infinity,a.Vk[b]=Infinity,a.uj[b]=Infinity,a.Ib[b]=-Infinity,a.io[b]=-Infinity,a.Zd[b]=-Infinity,a.pm[b]=-Infinity,a.Ge[b]=-Infinity,a.Jk[b]=-Infinity,a.Vh[b]=-Infinity;for(b=0;b<aE;b++)a.Wd[b]=0,a.nf[b]=-Infinity,a.sm[b]=-Infinity,a.nj[b]=-Infinity,a.rm[b]=-Infinity;a.Fo=0;a.Sf=0;a.kj=0;for(b=
a.ah=0;b<gq.length;b++){a.ab[gq[b]]=0;a.Qb[gq[b]]=0;a.lm[gq[b]]=0;var d=Pm[gq[b]],e=a.D[gq[b]];e.c&&0<=d.g&&d.g<a.uj[d.type]&&(a.uj[d.type]=d.g)}for(b=0;b<Cs;b++)a.Sj[b]=0;for(b=0;b<a.F;b++)for(e=0;e<a.C;e++){var f=a.G[b][e];Yo(f)?(d=S(f),a.ab[d.index]++,a.qh[d.type]++,oo(f)?a.Qb[d.index]++:d.type!=Al&&a.challenge!=Rn&&a.ah++,a.lm[d.index]+=Math.min(Math.max(0,f.H),1),io(f)&&(a.al++,(!io(f)||.1>f.H?0:S(f).type!=Al)&&a.Aj++,d.type!=Al&&a.Bj++,a.xe[d.type]++,oo(f)&&(a.hf[d.type]++,a.uo++,d.type!=Al&&
a.Lm++),a.mm[d.type]+=Math.min(Math.max(0,f.H),1)),(d.g||0)>a.Og[d.type]&&(a.qm[d.type]=d.index),a.Og[d.type]=Math.max(d.g||0,a.Og[d.type]),1<=f.H&&(a.tm[d.type]=Math.max(d.g||0,a.tm[d.type])),d.Vb||(a.Vk[d.type]=Math.min(d.g||0,a.Vk[d.type])),d.mc&&a.Fo++,d.Vb&&a.Sf++,(d.Vb||d.type==Al&&0>=f.H)&&a.kj++):0==f.index||f.index==AG?(a.Sj[f.index]++,a.bg++,f.index==AG&&a.kj++):f.index==sp?(a.Sj[f.index]++,a.al++):a.Sj[f.index]++}a.to=0;a.so=0;a.Cj=0;a.Kf=!1;for(b=0;b<kv.length;b++)a.Tb[kv[b]]=0,a.ao[kv[b]]=
0;for(b=0;b<Cs;b++)a.Eo[b]=0;for(b=0;b<a.pa;b++)for(e=0;e<a.qa;e++)f=a.xa[b][e],f.wj=!1,Yo(f)?(d=Uu[Bs(f)],a.Tb[d.index]++,io(f)&&(a.so++,1<=f.H&&(a.ao[d.index]++,a.Cj++)),d.index==Gu&&kH(e,b)&&(a.Kf=!0,f.wj=!0),a.Ik[d.type]=Math.max(d.g||0,a.Ik[d.type])):0==f.index?a.to++:a.Eo[f.index]++;a.Wj=0;a.Qd=0;a.wn=0;a.xn=0;a.vn=0;a.tn=0;a.ul=0;a.un=0;a.sn=0;a.Dm=!1;for(b=0;b<os.length;b++)d=Bn[os[b]],e=a.o[os[b]],e.c&&(a.Wj++,e.ya&&!e.I&&(d.Ie||d.Uf)&&d.T.Sa(a.b)&&(a.Dm=!0),e.ya||e.count||(a.Qd++,e=!0,d.Xh&&
mH()&&(e=!1),d.Ie&&nH()&&(e=!1),d.Uf&&oH()&&(e=!1),e&&a.wn++),d.Wh()||(a.xn++,d.O().Sa(a.b)&&a.vn++),d.Ie&&(d=Pm[d.Ra],a.Vh[d.type]=Math.max(d.g||0,a.Vh[d.type])));for(b=0;b<gq.length;b++)d=Pm[gq[b]],e=a.D[gq[b]],e.c&&((d.g||0)>a.Ib[d.type]&&(a.io[d.type]=d.index),a.Ib[d.type]=Math.max(d.g||0,a.Ib[d.type]),a.Vh[d.type]=Math.max(d.g||0,a.Vh[d.type])),e.I>e.oa&&(a.Kk[d.type]=Math.max(d.g||0,a.Kk[d.type]));for(b=0;b<kv.length;b++)d=Uu[kv[b]],e=a.ha[kv[b]],e.c&&((d.g||0)>a.Zd[d.type]&&(a.pm[d.type]=d.index),
a.Zd[d.type]=Math.max(d.g||0,a.Zd[d.type]));for(b=0;b<Rw.length;b++)d=Sw[Rw[b]],e=a.S[Rw[b]],e.c&&(a.tn++,e.ya||a.ul++,d.Wh()||(a.un++,d.O().Sa(a.b)&&a.sn++));a.Jm=0;a.tf=0;for(b=a.vo=0;b<sC.length;b++)a.Fc[sC[b]]=0,a.Hl[sC[b]]=0;for(b=0;b<Cs;b++)a.ln[b]=0;for(b=0;b<a.Ga;b++)for(e=0;e<a.Ha;e++)f=a.va[b][e],Yo(f)?(d=Nz[Bs(f)],a.Fc[d.index]++,io(f)&&(a.tf++,1<=f.H&&(a.Hl[d.index]++,a.vo++))):0==f.index||f.index==AG?(a.ln[f.index]++,a.Jm++):a.ln[f.index]++;for(b=0;b<sC.length;b++)d=Nz[sC[b]],e=a.da[sC[b]],
e.c&&(a.Ge[d.type]=Math.max(d.g||0,a.Ge[d.type])),e.I&&(a.Jk[d.type]=Math.max(d.g||0,a.Jk[d.type]));a.Km=0;for(b=a.hi=0;b<dE.length;b++)a.cb[dE[b]]=0;for(b=0;b<a.qc;b++)for(e=0;e<a.rc;e++)f=a.Fb[b][e],Yo(f)?(d=pC[Bs(f)],a.cb[d.index]++,a.hi++,a.Wd[d.type]++,a.nj[d.type]=Math.max(d.g||0,a.nj[d.type])):a.Km++;for(b=0;b<dE.length;b++)d=pC[dE[b]],e=a.Aa[dE[b]],e.c&&((d.g||0)>a.nf[d.type]&&(a.rm[d.type]=d.index),a.nf[d.type]=Math.max(d.g||0,a.nf[d.type])),e.I&&(a.sm[d.type]=Math.max(d.g||0,a.sm[d.type]));
a.ag=0;a.vj=0;a.Yg=c(1);for(b=0;b<cF.length;b++)d=dF[cF[b]],e=a.oc[cF[b]],e.Bb&&(a.ag++,e.ya||a.vj++,a.Yg.mb(d.gh));for(b=a.Sc=0;b<CA.length;b++)e=a.fa[CA[b]],a.Sc+=e.count;d=GA[a.Xa];a.Gk=0;for(b=a.Hk=0;b<d.length&&!(b>=a.rb.length);b++)e=!1,0<a.rb[b].$[0]&&a.rb[b].$[0]>=d[b].Se.length&&(e=!0),0<a.rb[b].$[1]&&a.rb[b].$[1]>=d[b].Dc.length&&(e=!0),0<a.rb[b].$[2]&&a.rb[b].$[2]>=d[b].S.length&&(e=!0),e&&(a.Gk=Math.max(a.Gk,d[b].em),a.Hk=Math.max(a.Hk,d[b].fm));a.Ue=!0;for(b=0;b<d.length;b++){if(b>=a.rb.length){a.Ue=
!1;break}a.rb[b].$[0]<d[b].Se.length&&(a.Ue=!1);a.rb[b].$[1]<d[b].Dc.length&&(a.Ue=!1);a.rb[b].$[2]<d[b].S.length&&(a.Ue=!1);if(!a.Ue)break}a.wi=a.Ue;0==a.Xa&&33==a.Sc&&(a.wi=!0);a.jk=c(0);a.Ri=c(0);a.lk=c(0);a.mk=c(0);a.ik=c(0);a.kk=c(0);for(b=0;b<a.pa;b++)for(e=0;e<a.qa;e++)if(f=a.xa[b][e],d=S(f)){var g=d.type;g==wl&&a.jk.u(d.Kc(f));g==xl&&a.Ri.u(d.Kc(f));g==yl&&a.lk.u(d.Kc(f));g==zl&&a.mk.u(d.Kc(f));g==Cl&&a.ik.u(d.Kc(f));g==Al&&a.kk.u(d.Kc(f))}for(b=0;b<a.Z.length;b++)a.Z[b].slot=b;for(b=0;b<
a.ea.length;b++)a.ea[b].slot=b+100;a.ef=0;a.zh=0;a.ek=0;a.fk=0;a.df=c(1);a.te=c(1);for(b=a.Vj=0;b<mu.length;b++)if(f=mu[b],d=V[f],e=a.P[f],e.c&&a.ef++,e.X&&(a.zh++,d.Hc()&&a.ek++,a.fk+=e.X),e.c&&0==e.$&&a.challenge!=d.index&&a.Vj++,0<e.Pa)if(d.ja){g=c(1);for(var h=c(1),k=0;k<d.ja;k++)g.u(gA(0,f,e.kb[k],d.ac(k,!1),k)),h.u(gA(1,f,e.kb[k],d.ac(k,!1),k));a.df.l(g);a.te.l(h)}else a.df.l(gA(0,f,e.Pa,e.X,void 0).L(1)),a.te.l(gA(1,f,e.Pa,e.X,void 0).L(1));a.te=Jj(a.te,1).ub(100).L(1);for(b=a.Dj=0;b<a.gd.length;b++)d=
a.gd[b],d.C&&d.F&&a.Dj++;if(ZD(a)){b=new P;for(d=0;d<G.Ga;d++)for(e=0;e<G.Ha;e++)f=G.va[d][e],io(f)&&b.u(S(f).Cb(f));a.Wg=b;b=Oz(a,0);-Infinity==a.Tg?(a.Ug=b,a.Sg=b,a.Tg=a.ga):b.Eb(a.Sg)&&(a.Ug=Oz(a,1),a.Sg=b,a.Tg=a.ga);a.ko=Oz(a,1);b=!1;d=Hy(Gy,a,0);Zb(a.Ed,-1)?(a.Ed=d,a.Be=d,a.Nf=a.ga,a.Of=0):d.Eb(a.Be)&&(a.Ed=Hy(Gy,a,1),a.Be=d,a.Nf=a.ga,a.Of=pH(),b=!0);d=Hy(tz,a,0);Zb(a.Fd,-1)?(a.Fd=d,a.Ce=d,a.Pf=a.ga,a.Qf=0):d.Eb(a.Ce)&&(a.Fd=Hy(tz,a,1),a.Ce=d,a.Pf=a.ga,a.Qf=pH(),b=!0);d=Mz(a,0);Zb(a.sf,-1)?(a.sf=
d,a.qf=d,a.Tf=a.ga,a.rf=0):d.Eb(a.qf)&&(a.sf=Mz(a,1),a.qf=d,a.Tf=a.ga,a.rf=pH(),b=!0);a.pd=Mz(a,3,d);a.Hh=d;b&&(b=pH(),a.Of=Math.min(b,a.Of),a.Qf=Math.min(b,a.Qf),a.rf=Math.min(b,a.rf))}}function qH(a,b){a==rH&&(G.ab[b.index]--,G.qh[b.type]--,zn(b)&&G.xe[b.type]--);a==sH&&(G.ab[b.index]++,G.qh[b.type]++,zn(b)&&G.xe[b.type]++)}function tH(a){return a.v.L(1).sa(a.W.sqrt().L(1))}
function pH(){var a=1;300>G.ga?a=0:600>G.ga&&(a=(G.ga-300)/300);var b=tH(G.Wg),d=tH(G.ko);b.Ma(d.i(.99))&&(a=0);1<a&&(a=1);0>a&&(a=0);return Iy*(1-a)}
function sy(){this.g=this.type=0;this.V=[];this.Fa=[];this.ud=[];this.Ua=[];this.Xd=0;this.ca=c(0);this.slot=this.mark=0;this.name="";this.Yh=!0;this.pn=function(){return"apple;apricot (spring);pineapple (summer);pear (autumn);medlar (winter);mango (spring+summer);plum (summer+autumn);quince (autumn+winter);kumquat (winter+spring);star fruit (4 seasons);dragon fruit (4 seasons)".split(";")[this.type]};this.wo=function(){return Oi[this.g]+" "+this.pn()};this.toString=function(){return this.name?this.name:
this.wo()};this.wd=function(a,b,d,e){b=""+vo(this.V[a],b);this.V[a]!=Qx&&(d||hy(this.V[a])||(b+=" "+rs(this.Fa[a])),!d&&this.Ua[a]&&(e&&(b+="<b>"),1==this.Ua[a]&&(b+=" [*]"),2==this.Ua[a]&&(b+=" [**]"),e&&(b+="</b>")));return b};this.vi=function(a,b){for(var d="",e=0;e<this.V.length;e++)0<e&&(d+=", "),d+=this.wd(e,a,b);return d}}function uH(){if(!(0>G.ob||G.ob>=G.Z.length))return G.Z[G.ob]}
function vH(a,b,d){if(!a||d&&2==jn())return 0;for(var e=0;e<a.V.length;e++)if(a.V[e]==b)return a=a.Fa[e],d&&jn()&&3<a&&(a=3),a;return 0}function on(a){return vH(uH(),a,!0)}
function fA(a){if(2==jn())return 0;var b=on(a);if(0<b)return[b,a];b=uH();if(!b)return[0,a];b=b.V[b.V.length-1];if(b<Zx||b>dy||!fy(1))return[0,a];b>=dy&&!fy(3)&&(b=cy);if(b>=cy&&!fy(2))return[0,a];if(a>=Vx&&a<=Yx){if(b==dy||b==cy)return[1,b];if(b==Zx)return[a==Vx||a==Wx?1:0,b];if(b==$x)return[a==Wx||a==Xx?1:0,b];if(b==ay)return[a==Xx||a==Yx?1:0,b];if(b==by)return[a==Yx||a==Vx?1:0,b]}jn()&&2<a&&(a=2);return[0,a]}
function rn(){if(2==jn())return 0;var a=uH();if(!a)return 0;if(jn()){var b=my(1,G.s,!1);a=a.g;a>b&&(a=b);return a}return a.g}function wH(a){return 100>a?G.Z[a]:G.ea[a-100]}function xH(a,b){if(100>a)if(b)a>G.Z.length&&(a=G.Z.length),G.Z[a]=b,b.slot=a;else{for(b=a;b+1<G.Z.length;b++)G.Z[b]=G.Z[b+1],G.Z[b].slot=b;--G.Z.length}else if(a-=100,b)a>G.ea.length&&(a=G.ea.length),G.ea[a]=b,b.slot=a+100;else{for(b=a;b+1<G.ea.length;b++)G.ea[b]=G.ea[b+1],G.ea[b].slot=b+100;--G.ea.length}}
function yH(a){var b=100+G.ea.length;if(100>b)if(a){b>G.Z.length&&(b=G.Z.length);if(b<G.Z.length)for(var d=G.Z.length;d>b;d--)G.Z[d]=G.Z[d-1],G.Z[d].slot=d;G.Z[b]=a;a.slot=b}else{for(d=b;d+1<G.Z.length;d++)G.Z[d]=G.Z[d+1],G.Z[d].slot=d;--G.Z.length}else if(b-=100,a){b>G.ea.length&&(b=G.ea.length);if(b<G.ea.length)for(d=G.ea.length;d>b;d--)G.ea[d]=G.ea[d-1],G.ea[d].slot=d+100;G.ea[b]=a;a.slot=b+100}else{for(d=b;d+1<G.ea.length;d++)G.ea[d]=G.ea[d+1],G.ea[d].slot=d+100;--G.ea.length}}
function zH(a,b){100>a?G.Z[a]=b:G.ea[a-100]=b;b.slot=a}function AH(a,b){var d=wH(a);zH(a,wH(b));zH(b,d)}function BH(a){a=ky(a);if(G.fa[WA].count){var b=VA.L(1);a.l(b)}return a}function CH(a){for(var b=P(),d=0;d<G.ea.length;d++)b.u(ky(G.ea[d]));a&&a.push(["sacrificial fruits",!0,c(0),b.clone()]);G.fa[WA].count&&(d=VA.L(1),b.l(d),a&&a.push(["squirrel upgrade",!0,d,b.clone()]));return b}function DH(){if(600>G.ga){var a=Math.pow(.1,1-G.ga/600);1<a&&(a=1);0>a&&(a=0);return a}return 1}
function EH(){var a=!1;G.challenge&&!V[G.challenge].ed&&(a=!0);G.challenge&&G.s>G.Oa&&!G.challenge.dd&&(a=!0);var b=c(G.h);if(G.s>=ty&&!a){a=G.b.B.a(wy().B);Ub(a,1)&&(a=c(1));ac(a,0)&&(a=c(0));a=a.i(.97);var d=Ay(G.s+1,void 0);b.u(a.sa(d))}b.Na(DH());return b}function FH(){return EH().add(G.Mf.h)}
function GH(){var a=!1;G.challenge&&!V[G.challenge].Ec&&(a=!0);G.challenge&&G.s>G.Oa&&!G.challenge.dd&&(a=!0);var b=c(G.K);if(G.s>=ty&&!a){a=G.b.B.a(wy().B);Ub(a,1)&&(a=c(1));ac(a,0)&&(a=c(0));a=a.i(.97);var d=Pz(void 0).K;b.u(a.sa(d))}b.Na(DH());return b}function HH(){if(2>G.ga)return c(0);var a=G.ga/3600;return a?EH().ub(a):c(0)}function IH(){if(2>G.ga)return c(0);var a=G.ga/3600;return a?GH().ub(a):c(0)}function rs(a){return 2==G.td||0==G.td&&12<a?a.toString():m.Ip(a)}
function Zt(a){return(a||G).ha[Vu].c}function pu(){return!!G.Tb[Vu]}function JH(){return pu()&&G.Xe&&2!=jn()}function KH(){return Zt()&&G.P[ju].X?!0:!1}function wu(){return Zt()&&G.P[ju].X?!0:!1}function mH(){return JH()&&wu()?!!G.Sd:!1}function LH(){return!Zt()||1>=G.P[ju].X?!1:!0}function MH(){return JH()&&Zt()?!!G.fd:!1}function tu(){return Zt()&&G.P[xu].X?!0:!1}function nH(){return JH()&&tu()&&MH()?!!G.We:!1}function NH(){return Zt()&&G.P[Au].X?!0:!1}
function OH(a){var b=a||G;return!Zt(a)||!b.P[Rn].X||5>b.U?!1:!0}function vu(a){var b=a||G;if(!OH(a))return 0;a=3;3<=b.P[Rn].X&&a++;5<=b.P[Rn].X&&a++;7<=b.P[Rn].X&&a++;8<=b.P[Rn].X&&a++;return a}function PH(){return JH()&&OH()?1==G.jc:!1}function QH(){return OH()?4<=G.P[Rn].X:!1}function bH(){return OH()?6<=G.P[Rn].X:!1}function oH(){return JH()&&NH()&&MH()&&G.We?!!G.rg:!1}
function Zu(a){var b=c(Lu);a&&a.push(["base",!0,c(0),b.clone()]);var d=b.clone();b.u(QA.i(G.fa[RA].count));b.u(gB.i(G.fa[hB].count));a&&b.Eb(d)&&a.push(["squirrel upgrades (additive)",!0,b.sub(d).L(1),b.clone()]);return b}function Eo(){return!!G.Tb[Wu]}function Ix(){return!!G.S[yx].count}
function $u(a){var b=c(Mu);a&&a.push(["base",!0,c(0),b.clone()]);var d=b.clone();b.u(OA.i(G.fa[PA].count));b.u(eB.i(G.fa[fB].count));a&&b.Eb(d)&&a.push(["squirrel upgrades (additive)",!0,b.sub(d).L(1),b.clone()]);Ro(fC)&&(d=To(fC).L(1),b.l(d),a&&a.push(["mistletoe neighbor",!0,d,b.clone()]));return b}
function RH(a,b,d){var e=GA[G.Xa],f=e[a];a=G.rb[a];for(var g=0,h=f.index-1;!(0>h);){g+=e[h].Dc.length-G.rb[h].$[1];if(3<=g){g=3;break}h--}if((e=0==g)&&d<a.$[b])return 0;if(e&&d==a.$[b])return f.Uh&&G.Sc<f.Gm?2:1;if(e&&d==a.$[b]&&f.Uh)return 2;if(e&&d==a.$[b])return 1;f=1==g;return e&&d==a.$[b]+1||f&&0==d?3:e&&d==a.$[b]+2||f&&1==d||2==g&&0==d?4:5}function fn(a){a||(a=G);return a.ma.W.J(0)}function SH(){return G.li+900-G.time}function Qn(){return G.$a&3&&!jn()?0<SH():!1}
function TH(){return G.ni+900-G.time}function pp(){return G.$a&3&&!jn()?0<TH():!1}function Bo(a,b){var d=G.S[Bx].count;a&&(d+=a);if(!d)return new c(1);a=G.Oa;b&&(a+=b);return Pj(zx.add(Ax.i(d-1)).L(1),a)}function UH(){if(!G)return jr;var a=jr+G.Ib[Al];return Pm[a]?a:-1}function VH(){if(!G)return EC;var a=EC+G.Ge[Al];return Nz[a]?a:EC}function WH(){if(!G)return EC;var a=EC+G.Jk[Al];return Nz[a]?a:EC}
function XH(a){var b=VH(),d=G.b;a&&(d=d.add(a));b>EC&&d.ka(Nz[b].O())&&b--;b>EC&&d.ka(Nz[b].O())&&b--;return b};for(var YH={},ZH=0;64>ZH;ZH++)YH["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ZH]]=ZH;function $H(a){for(var b=0;b<a.length;b++)if(void 0==YH[a[b]])return!1;return!0}
function aI(a){for(var b="",d={},e="",f=0;f<a.length;f++){var g=0,h=0,k=d[a.substr(f,4)];if(k)for(var l=k.length-1;0<=l;l--){var p=k[l],q=f-p;if(4096<q)break;for(var n=0;f+n<a.length&&a[f+n]==a[p+n];)n++;p=n;if(p>g&&(g=p,h=q,63<p))break}5<g||4<g&&4096>h||3<g&&32>h||(g=1);for(l=0;l<g;l++)k=a.substr(f+l,4),d[k]||(d[k]=[]),1E3<d[k].length&&(d[k]=[]),d[k].push(f+l);f+=g-1;3<=g?(b+=bI(e.length),b+=bI(g),b+=bI(h),b+=e,e=""):e+=a[f]}e.length&&(b+=bI(e.length),b+=bI(0),b+=bI(0),b+=e);return b}
function cI(a){for(var b={Cc:a,qd:0},d="";b.qd<a.length;){var e=dI(b),f=dI(b);if(1E5<d.length+e+f)return null;var g=dI(b);if(b.error)return null;for(var h=0;h<e;h++){if(b.qd>=a.length)return null;d+=a[b.qd++]}if(g>d.length)return null;for(h=0;h<f;h++)d+=d[d.length-g]}return d}
function eI(a){isNaN(a)&&(a=0);-9007199254740992>a&&(a=-9007199254740992);9007199254740992<a&&(a=9007199254740992);var b=0;0>a&&(b=1,a=-a);var d=a&15;a=Math.floor(a/16);for(b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d|b<<4|(a?32:0)];a;)d=a&31,a=Math.floor(a/32),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d|(a?32:0)];return b}function fI(a){a.qd>=a.Cc.length&&(a.error=!0);var b=YH[a.Cc[a.qd++]];void 0==b&&(a.error=!0);return b}
function gI(a){for(var b=a.error,d=fI(a),e=d&15,f=d&16?1:0,g=16;d&32;){if(9007199254740992<g){a.error=!0;break}d=fI(a);e+=(d&31)*g;g*=32}f&&(e=-e);return a.error&&!b?NaN:e}function hI(a){var b=fI(a);1<b&&(a.error=!0);return 1==b}
function bI(a){if(0>a||isNaN(a))a=0;9007199254740992<a&&(a=9007199254740992);var b=a&31;a=Math.floor(a/32);for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b|(a?32:0)];a;)b=a&31,a=Math.floor(a/32),d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b|(a?32:0)];return d}function dI(a){for(var b=a.error,d=fI(a),e=d&31,f=32;d&32;){if(9007199254740992<f){a.error=!0;break}d=fI(a);e+=(d&31)*f;f*=32}return a.error&&!b?NaN:e}
function iI(a){if(0>a||isNaN(a))a=0;66591<a&&(a=66591);if(32>a)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a];if(1056>a)return a-=32,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>5&31];a-=1056;return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>
10&63]}function jI(a){var b=a.error,d=fI(a),e=d&31;d&32&&(e+=32,d=fI(a),e+=(d&31)<<5);d&32&&(e+=1024,d=fI(a),e+=(d&63)<<10);return a.error&&!b?NaN:e}function kI(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a&63]}function lI(a){var b=a.error,d=fI(a);return a.error&&!b?NaN:d}
function mI(a){if(0>a||isNaN(a))a=0;2130975<a&&(a=2130975);if(32>a)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a];if(1056>a)return a-=32,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>5&31];if(33824>a)return a-=1056,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>
10&31];a-=33824;return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>10&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>15&63]}function nI(a){for(var b=0,d=0;52>d;d++)b+=a&1,b*=2,a=Math.floor(a/2);return b}
function oI(a){var b=nI(a),d=!1;b<a&&(a=b,d=!0);a=2*a+(d?1:0);if(0>a||isNaN(a))a=0;9007199254740992<a&&(a=9007199254740992);if(2199023255552<a)for(a--,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[1|(a&31)<<1],a=Math.floor(a/32),d=0;8>d;d++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a&63],a=Math.floor(a/64);else for(a*=2,d=a&31,a=Math.floor(a/32),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d|(a?32:0)];a;)d=a&31,a=Math.floor(a/
32),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d|(a?32:0)];return b}function pI(a){var b=a.error,d=fI(a);if(d&1){var e=(d&62)>>1;for(var f=32,g=0;8>g;g++)d=fI(a),e+=d*f,f*=64;e++}else for(e=(d&30)>>1,f=16;d&32;){if(9007199254740992<f){a.error=!0;break}d=fI(a);e+=(d&31)*f;f*=32}a=a.error&&!b?NaN:e;b=a&1;a=Math.floor(a/2);b&&(a=nI(a));return a}
function qI(a){var b=a.error,d=dI(a);if(0==d)return 0;if(1==d)return 1;d-=2;var e=pI(a),f=d&1?1:0;d>>=1;0!=d&&(d=1+(d-1+3067)%2047);return a.error&&!b?NaN:m.Tn(f,d,e)}
function rI(a){var b=m.Xn(a),d=b[0],e=b[1];b=b[2];var f=e-1023,g,h="";0!=a||d?1==a?h="B":(!d&&-7<=f&&1>=f?(1==f?g=2:0==f?g=3:-1==f?g=4:-2==f?g=5:-3==f?g=6:-4==f?g=7:-5==f?g=13:-6==f?g=14:-7==f&&(g=15),h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]):d&&-1<=f&&1>=f?(1==f?g=10:0==f?g=11:-1==f&&(g=12),h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]):-15<=f&&16>=f?h=h+"I"+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f+15|(d?32:0)]:
(h=h+"J"+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e&31|(d?32:0)],h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>5]),h+=oI(b)):h="A";if(!d&&-2<=f&&-0>=f&&9<h.length)for(h=""+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(0==f?16:-1==f?32:48)|b&15],b=Math.floor(b/16),a=0;8>a;a++)h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&63],b=Math.floor(b/64);return h}
function sI(a){var b=a.error,d=fI(a);if(0==d)var e=0;else if(1==d)e=1;else{if(0==(d&48)){if(8==d){var f=fI(a);e=f&32?1:0;f=(f&31)-15+1023}else 9==d?(f=fI(a),e=f&32?1:0,f=(f&31)+(fI(a)<<5)):(10==d||11==d||12==d?(e=1,10==d?f=1:11==d?f=0:12==d&&(f=-1)):(e=0,2==d?f=1:3==d?f=0:4==d?f=-1:5==d?f=-2:6==d?f=-3:7==d?f=-4:13==d?f=-5:14==d?f=-6:15==d&&(f=-7)),f+=1023);d=pI(a)}else{f=d&48;e=0;f=(16==f?0:32==f?-1:-2)+1023;d&=15;for(var g=16,h=0;8>h;h++)d+=fI(a)*g,g*=64}e=m.Tn(e,f,d)}return a.error&&!b?NaN:e}
function tI(a){if(Zb(a,0))return eI(0);if(Zb(a,1))return eI(1);var b=1<a.e?a.e:a.e-2;isNaN(b)&&(b=-2);return eI(b)+rI(a.A)}function uI(a){var b=gI(a);if(0==b)return new c(0,0);if(1==b)return new c(1,0);var d=new c(0,0);d.e=b;d.A=sI(a);1>=d.e&&(d.e+=2);return d}
function vI(a){for(var b=0;b<a.length;b++)97<=a[b]&&122>=a[b]?a[b]-=97:0<=a[b]&&25>=a[b]?a[b]+=97:32==a[b]?a[b]=26:26==a[b]?a[b]=32:46==a[b]?a[b]=27:27==a[b]?a[b]=46:44==a[b]?a[b]=28:28==a[b]?a[b]=44:65==a[b]?a[b]=29:29==a[b]?a[b]=65:83==a[b]?a[b]=30:30==a[b]?a[b]=83:84==a[b]?a[b]=31:31==a[b]&&(a[b]=84)}
function wI(a){var b=dI(a);if(a.error)return"";for(var d=[],e=0;e<b;e++){var f=e,g=a,h=g.error,k=fI(g),l=k&31;k&32&&(l+=32,k=fI(g),l+=(k&31)<<5);k&32&&(l+=1024,k=fI(g),l+=(k&31)<<10);k&32&&(l+=32768,k=fI(g),l+=(k&63)<<15);d[f]=g.error&&!h?NaN:l;if(a.error)return""}vI(d);a="";for(b=0;b<d.length;b++)e=d[b],65536>e?a+=String.fromCharCode(e):1114111>=e?(a+=String.fromCharCode((e>>10)+55232),a+=String.fromCharCode((e&1023)+56320)):a+=" ";return a}
function xI(a){if(0==a)return kI(0);if(-Infinity==a)return kI(13);if(Infinity==a)return kI(14);if(isNaN(a))return kI(15);var b=Math.floor(a),d=Math.round(64*(a-b));63<d&&(b++,d=0);a=1;16E8<=b?(a=2,b-=16E8):0>b&&(a=3,b=-b);var e=kI(a<<4|b%16);b=Math.floor(b/16);d=kI(d);var f="";2==a&&(f+=kI(b%64),b=Math.floor(b/64),f+=kI(b%64),b=Math.floor(b/64),f+=kI(b%64),b=Math.floor(b/64));f+=bI(b);return e+d+f}
function yI(a){var b=lI(a),d=b>>4&3;if(0==d){if(0==b)return 0;if(13==b)return-Infinity;if(14==b)return Infinity;if(15==b)return NaN;a.error=!0;return 0}var e=lI(a),f=0;2==d?(f+=lI(a),f+=64*lI(a),f+=4096*lI(a),f+=262144*dI(a)):f=dI(a);f=16*f+b%16;2==d?f+=16E8:3==d&&(f=-f);return f+e/64}function zI(a){var b=[],d=lI(a);56<=d&&(d=d&7|dI(a)<<3);if(!a.error){var e=0,f=-1;0<d&&(d--,e=Math.floor(Math.sqrt(.25+2*d)-.5),(e+1)*(e+2)/2-1<d&&e++,f=e,e=d-e*(e+1)/2);for(d=e;d<=f;d++)b[d]=uI(a);return b}}
function AI(a){a=63-Math.round(a);return 0>=a?1:63<=a?0:Math.pow(10,-Math.floor(a/3))*[1,.5,.2][a%3]}function BI(a){return 11>=a?c(a):Xj(c(1.15),c(a+6))}function CI(a){return 200>=a?c(a):Xj(c(1.005),c(a+862))}function DI(a){if(ac(a,.5))return 0;if(a.Xk(1E3))return Math.round(a.valueOf());a=ak(a,1.001)-5911;return 9007199254740992<a?9007199254740992:Math.round(a)}function EI(a){return 1E3>=a?c(a):Xj(c(1.001),c(a+5911))}
var FI=0,GI=FI++,HI=FI++,II=FI++,JI=FI++,KI=FI++,LI=FI++,MI=FI++,NI=FI++,OI=FI++,PI=FI++,QI=FI++;FI=12;var RI=FI++,SI=FI++,TI=FI++,UI=FI++,VI=FI++,WI=FI++,XI=FI++,YI=FI++,ZI=FI++,$I=FI++,aJ=FI++;function bJ(a,b,d){if(!(this instanceof bJ))return new bJ(a,b,d);this.id=d;this.value=a;this.type=b}
function cJ(a,b){switch(b){case GI:return a?"B":"A";case HI:return kI(a);case II:return eI(a);case JI:return bI(a);case KI:return iI(a);case LI:b=m.Xn(a);if(0!=a||b[0])if(1==a)a=bI(1);else{a=b[0];var d=b[1];b=b[2];0!=d&&(d=1+(2047+(d-1)-1020)%2047);a=""+bI((d<<1|a)+2);a+=oI(b)}else a=bI(0);return a;case MI:return rI(a);case NI:return tI(a);case OI:b=[];for(d=0;d<a.length;d++){var e=a.charCodeAt(d);if(55296<=e&&56319>=e&&d+1<a.length){var f=a.charCodeAt(d+1);56320<=f&&57343>=f&&(e=(e<<10)+f-56613888,
d++)}b.push(e)}vI(b);a=bI(b.length);for(d=0;d<b.length;d++)a+=mI(b[d]);return a;case PI:a=el(a);b="";d=0;e=-1;for(f=0;f<a.length;f++)a[f].J(0)&&(-1==e&&(d=f),e=f);f=0;0<=e&&(f=1+e*(e+1)/2+d);56>f?b+=kI(f):(b+=kI(56+(f&7)),b+=bI(f>>3));for(f=d;f<=e;f++)b+=tI(a[f]);return b;case QI:return xI(a)}}
function dJ(a){var b=a.type;a=a.value;if(60==b){for(var d=!0,e=1;e<a.length;e++){var f=a[0];if(f.length!=a[e].length){d=!1;break}for(b=0;b<f.length;b++){var g=f[b],h=f[b];if(g.id!=h.id||g.type!=h.type){d=!1;break}}}2>a.length&&(d=!1);b=""+bI(a.length<<1|(d?1:0));if(d){d=a.length;h=f.length;f=a[0];b+=bI(h);var k={},l=eJ(f);for(e=0;e<f.length;e++)k[f[e].id]=e;f=[];for(var p in l)if(l.hasOwnProperty(p)){var q=(p<<6)-1,n=l[p];b+=bI(p);b+=bI(n.length);for(e=0;e<n.length;e++)g=n[e],b+=fJ(g.id,g.type,q),
q=g.id,f.push(k[g.id])}for(p=0;p<h;p++)for(e=f[p],g=0;g<d;g++)b+=dJ(a[g][e])}else for(e=0;e<a.length;e++)p=gJ(a[e]),b+=bI(p.length),b+=p;return b}if(12>b)return cJ(a,b);p=""+bI(a.length);if(b==RI)for(e=0;e<a.length;e+=6){for(g=b=0;6>g&&e+g<a.length;g++)a[e+g]&&(b|=1<<g);p+=kI(b)}else for(e=0;e<a.length;e++)p+=cJ(a[e],b-12);return p}
function fJ(a,b,d){var e="";60==b?(e+=kI(b),e+=kI(a&63)):12>b?a==d+1?e+=kI(b+12):(e+=kI(b+24),e+=kI(a&63)):a==d+1?e+=kI(b-12+36):(e+=kI(b-12+48),e+=kI(a&63));return e}
function hJ(a,b){var d=b.type;if(60==d)a:{var e=dI(a),f=e>>1;if(!a.error)if(b.value=[],e&1){if(e=[],d=dI(a),!a.error){for(var g=0;g<d;){var h=dI(a),k=dI(a);g+=k;g>d&&(a.error=!0);if(a.error)break a;for(var l=(h<<6)-1,p=0;p<k;p++){var q=new bJ(0,0,0),n=lI(a);q.id=12<=n&&23>=n||36<=n&&47>=n?l+1:(h<<6)+lI(a);q.type=36>n?n%12:60>n?n%12+12:n;l=q.id;e.push(q);if(a.error)break a}}for(p=0;p<f;p++)for(b.value.push({}),g=0;g<d;g++)h=e[g].id,b.value[p][h]=new bJ(0,e[g].type,h);for(g=0;g<d;g++)for(h=e[g].id,
p=0;p<f;p++)if(q=b.value[p][h],hJ(a,q),a.error)break a}}else for(p=0;p<f;p++){e=dI(a);a.qd+e>a.Cc.length&&(a.error=!0);if(a.error)break;d={Cc:a.Cc.substr(a.qd,e),qd:0,error:!1};b.value[p]=iJ(d);if(d.error||d.qd!=e)a.error=!0;if(a.error)break;a.qd+=e}}else if(12>d)switch(d){case GI:b.value=hI(a);break;case HI:b.value=lI(a);break;case II:b.value=gI(a);break;case JI:b.value=dI(a);break;case KI:b.value=jI(a);break;case LI:b.value=qI(a);break;case MI:b.value=sI(a);break;case NI:b.value=uI(a);break;case OI:b.value=
wI(a);break;case PI:b.value=jJ(a);break;case QI:b.value=yI(a);break;default:a.error=!0}else if(f=dI(a),b.value=[],d==RI)for(e=0;e<f;e+=6){d=lI(a);if(a.error)break;for(g=0;6>g&&e+g<f;g++)b.value[e+g]=d&1<<g?!0:!1}else for(e=0;e<f;e++){switch(d){case RI:b.value[e]=hI(a);break;case SI:b.value[e]=lI(a);break;case TI:b.value[e]=gI(a);break;case UI:b.value[e]=dI(a);break;case VI:b.value[e]=jI(a);break;case WI:b.value[e]=qI(a);break;case XI:b.value[e]=sI(a);break;case YI:b.value[e]=uI(a);break;case ZI:b.value[e]=
wI(a);break;case $I:b.value[e]=jJ(a);break;case aJ:b.value[e]=yI(a);break;default:a.error=!0;return}if(a.error)break}}function eJ(a){for(var b={},d=0;d<a.length;d++){var e=a[d],f=e.id>>6;b[f]||(b[f]=[]);b[f].push(e)}for(f in b)b.hasOwnProperty(f)&&b[f].sort(function(g,h){return g.id-h.id});return b}
function gJ(a){a=eJ(a);var b="",d;for(d in a)if(a.hasOwnProperty(d)){var e=(d<<6)-1,f=a[d];b+=bI(d);b+=bI(f.length);for(var g=0;g<f.length;g++){var h=f[g],k=f[g],l=k.type,p=k.value,q="";12>l&&l!=OI&&0===p||l==OI&&""==p||l==PI&&p.empty()||l==NI&&Zb(p,0)?(q+=kI(l+0),q+=kI(k.id&63)):(q+=fJ(k.id,k.type,e),q+=dJ(k));b+=q;e=h.id}}return b}
function iJ(a){for(var b={};a.qd!=a.Cc.length;){var d=dI(a),e=dI(a);if(a.error)break;for(var f=(d<<6)-1,g=0;g<e;g++){var h=a;var k=d,l=new bJ(0,0,0),p=lI(h);l.id=12<=p&&23>=p||36<=p&&47>=p?f+1:(k<<6)+lI(h);l.type=36>p?p%12:60>p?p%12+12:p;if(12>p)switch(l.type){case GI:l.value=!1;break;case HI:l.value=0;break;case II:l.value=0;break;case JI:l.value=0;break;case KI:l.value=0;break;case LI:l.value=0;break;case MI:l.value=0;break;case NI:l.value=c(0);break;case OI:l.value="";break;case PI:l.value=P(0);
break;case QI:l.value=0;break;default:h.error=!0}else hJ(h,l);h=l;if(a.error)return b;f=h.id;b[h.id]=h}}return b}function kJ(a){a||(a=0);return{jn:!0,yc:a}};function lJ(a){function b(Y){k();D(Y.ye);v(Y.tb);D(Y.zg);v(Y.zd);D(Y.ze);v(Y.Gd);D(Y.Bg);v(Y.Af);D(Y.Ag);D(Y.If);D(Y.Jf);D(Y.Fh);h()}function d(Y){k();H(Y.type);v(Y.level);v(Y.aa);v(Y.oa);x(Y.time);v(Y.zf);v(Y.we);h()}function e(Y){oa.push(Y.type);Ea.push(Y.g);zb.push(Y.V.length);for(var ib=0;ib<Y.V.length;ib++)U.push(Y.V[ib]),Fa.push(Y.Fa[ib]),ea.push(Y.Ua[ib]),Ib.push(Y.ud[ib]);$b.push(Y.ca);jc.push(Y.mark);M.push(Y.name);cf.push(Y.Xd);Wa.push(Y.Yh)}function f(Y){for(var ib=[],ec=0;ec<Y.length;ec++){var N=
ec;var ka=c(Y[ec]);ac(ka,.5)?ka=0:ka.Xk(200)?ka=Math.round(ka.valueOf()):(ka=ak(ka,1.005)-862,ka=9007199254740992<ka?9007199254740992:Math.round(ka));ib[N]=ka}g(ib)}function g(Y){for(var ib=0,ec=[],N=0;N<Y.length;N++)ec.push(Y[N]-ib),ib=Y[N];A(ec,TI)}function h(){I=X.pop();t=db.pop();z=$a.pop()}function k(){var Y=[];I[I.length-1].value.push(Y);X.push(I);I=Y;$a.push(z);z=0;db.push(t);t=0}function l(){A([],60)}function p(Y){for(var ib=[],ec=0;ec<Y.length;ec++){var N=Y[ec];if(0>=N)var ka=0;else 1<=N?
ka=63:(ka=-Math.log(N)/2.302585092994046,ka=Math.floor(ka),N/=Math.pow(10,-ka),ka=63-(3*ka+(.15>N?3:.35>N?2:.75>N?1:0)));ib[ec]=ka}A(ib,SI)}function q(Y){A(Y,aJ)}function n(Y){A(Y,UI)}function u(Y){A(Y,RI)}function x(Y){A(Y,QI)}function y(Y){A(Y,PI)}function r(Y){A(Y,NI)}function v(Y){A(Y,JI)}function w(Y){A(Y,II)}function H(Y){A(Y,HI)}function D(Y){A(Y,GI)}function A(Y,ib){I.push(bJ(Y,ib,64*z+t++))}a.Zl++;var I=[],X=[],z,$a=[],db=[];var t=z=0;x(a.Ca);y(a.b);v(a.s);t=4;v(a.U);r(a.h);v(a.Va);a.Va&&
(t=7,v(a.Gb),v(a.Hb),A(a.Ti,LI));t=10;x(a.nc);x(a.Qk);w(a.ra);w(a.qb);w(a.Wb);t=15;v(mJ);w(a.nl);t=17;w(a.Dg);t=18;x(a.$c);x(a.tl);x(a.Yk);x(a.Cm);t=22;r(a.K);w(a.Im);y(a.Mf);y(a.Lf);w(a.Jb);w(a.Xb);t=31;H(a.beta);x(a.xm);v(a.Ne);y(a.qg);v(a.yj);D(a.Pj);z=1;t=0;v(a.C);v(a.F);var ya=a.C,Ka=a.F;var oa=[];var Ea=[];for(var Q=0;Q<Ka;Q++)for(var Z=0;Z<ya;Z++){var O=a.G[Q][Z];oa.push(O.index);Yo(O)&&Ea.push(O.H)}A(oa,TI);A(Ea,XI);z=2;t=0;v(a.qa);v(a.pa);ya=a.qa;Ka=a.pa;oa=[];Ea=[];var zb=[];var U=[];for(Q=
0;Q<Ka;Q++)for(Z=0;Z<ya;Z++)O=a.xa[Q][Z],oa.push(O.index),Yo(O)&&(Ea.push(O.H),zb.push(O.Zh),U.push(O.Wf));A(oa,TI);A(Ea,XI);u(zb);u(U);z=3;t=0;Z=[];for(O=0;O<os.length;O++)Q=!1,a.o[os[O]].c&&(Q=!0),a.o[os[O]].lh&&(Q=!0),a.o[os[O]].I&&(Q=!0),Q&&Z.push(os[O]);oa=[];Ea=[];zb=[];U=[];var Fa=[];var $b=[];for(O=Q=0;O<Z.length;O++){if(0>Z[O]-Q)throw"upgrades must be registered in increasing order";oa.push(Z[O]-Q);Q=Z[O];Ea.push(a.o[Z[O]].c);zb.push(a.o[Z[O]].lh);$b.push(a.o[Z[O]].I);a.o[Z[O]].c&&(U.push(a.o[Z[O]].ya),
Fa.push(a.o[Z[O]].count))}n(oa);u(Ea);u(zb);u(U);n(Fa);u($b);z=4;t=0;Z=[];for(O=0;O<gq.length;O++)(a.D[gq[O]].c||a.D[gq[O]].Ke)&&Z.push(gq[O]);oa=[];Ea=[];zb=[];U=[];Fa=[];for(O=Q=0;O<Z.length;O++){if(0>Z[O]-Q)throw"crops must be registered in increasing order";oa.push(Z[O]-Q);Q=Z[O];Ea.push(a.D[Z[O]].c);zb.push(a.D[Z[O]].oa);U.push(a.D[Z[O]].Ke);Fa.push(a.D[Z[O]].I)}n(oa);u(Ea);n(zb);n(U);n(Fa);z=5;t=0;Z=[];for(O=0;O<Rw.length;O++)a.S[Rw[O]].c&&Z.push(Rw[O]);oa=[];Ea=[];zb=[];for(O=Q=0;O<Z.length;O++){if(0>
Z[O]-Q)throw"upgrades2 must be registered in increasing order";oa.push(Z[O]-Q);Q=Z[O];Ea.push(a.S[Z[O]].ya);zb.push(a.S[Z[O]].count)}n(oa);u(Ea);n(zb);z=6;t=0;Z=[];for(O=0;O<kv.length;O++)a.ha[kv[O]].c&&Z.push(kv[O]);oa=[];Ea=[];for(O=Q=0;O<Z.length;O++){if(0>Z[O]-Q)throw"crops2 must be registered in increasing order";oa.push(Z[O]-Q);Q=Z[O];Ea.push(a.ha[Z[O]].I)}n(oa);u(Ea);z=7;t=0;Z=[];for(O=0;O<cF.length;O++)a.oc[cF[O]].Bb&&Z.push(cF[O]);oa=[];Ea=[];for(O=Q=0;O<Z.length;O++){if(0>Z[O]-Q)throw"medals must be registered in increasing order";
oa.push(Z[O]-Q);Q=Z[O];Ea.push(a.oc[Z[O]].ya)}n(oa);u(Ea);z=8;t=0;x(a.xb);x(a.Lb);x(a.zb);H(a.wb);x(a.be);H(a.Ob);z=9;t=0;A(a.xj,KI);A(a.precision,KI);D(a.jh);t++;A(a.Od,KI);D(a.yg);A(a.vd,KI);A(a.pi,KI);A(a.Me,VI);A(a.Qa,VI);D(a.yh);H(a.ae);H(a.Je);H(a.dc);D(a.$h);H(a.td);A(a.volume,MI);z=10;t=0;v(a.na);v(a.Zl);v(a.Ql);v(a.Vl);v(a.Ul);v(a.Sl);x(a.Vi);x(a.Wi);v(a.Kh);v(a.Oa);v(a.Kg);v(a.dj);v(a.fj);v(a.gj);v(a.ji);v(a.aj);v(a.Rh);v(a.Qh);r(a.Lg);v(a.bo);A(a.Rf,LI);A(a.lf,LI);A(a.Fg,LI);A(a.Mg,LI);
v(a.uk);v(a.Ic);v(a.Yl);v(a.Oh);v(a.Ll);v(a.Jg);v(a.Il);n(a.Yd);y(a.Gg);y(a.Jl);n(a.Nh);y(a.ii);v(a.sk);v(a.Xl);v(a.Wl);x(a.Hg);x(a.Yi);v(a.Mh);v(a.xk);v(a.rk);v(a.am);v(a.Ml);r(a.Xi);v(a.Ui);v(a.tk);v(a.yk);v(a.Sh);v(a.Ig);z=11;t=0;x(a.Jc);x(a.kf);v(a.vk);y(a.ma);y(a.eb);y(a.Ih);v(a.De);v(a.bj);v(a.Lh);v(a.$i);v(a.wk);v(a.ej);v(a.$l);v(a.Jh);v(a.od);v(a.Zi);v(a.Rl);v(a.Ol);v(a.Nl);v(a.Tl);y(a.Ph);y(a.zk);x(a.jf);y(a.Ak);v(a.cj);v(a.Pl);v(a.Kl);v(a.cm);v(a.dm);v(a.Bk);v(a.bm);v(a.Th);z=12;t=0;x(a.kd);
x(a.ga);v(a.sh);y(a.gb);y(a.bf);y(a.Ef);v(a.ug);v(a.lc);v(a.Ad);v(a.qe);v(a.th);v(a.uh);v(a.vh);v(a.cf);v(a.rh);v(a.vg);v(a.pe);v(a.oe);v(a.Bi);v(a.Ci);y(a.Bd);y(a.re);x(a.wg);y(a.se);v(a.Di);v(a.ck);v(a.Ai);v(a.Fi);v(a.Gi);v(a.xh);v(a.Ei);v(a.wh);z=13;t=0;0<a.na&&(x(a.Gj),x(a.Nc),v(a.Vm),y(a.Ld),y(a.Fj),y(a.Ej),v(a.cl),v(a.gl),v(a.Tm),v(a.fl),v(a.hl),v(a.il),v(a.Wm),v(a.bl),v(a.dl),v(a.el),v(a.Rm),v(a.Pm),v(a.Om),v(a.Sm),y(a.eh),y(a.bh),x(a.Xm),y(a.dh),v(a.Um),v(a.Qm),v(a.Nm),v(a.an),v(a.bn),v(a.$m),
v(a.Ym),v(a.Zm));z=14;t=0;g(a.vf);g(a.gn);(function(Y){for(var ib=[],ec=0;ec<Y.length;ec++)ib[ec]=DI(c(Y[ec]/30));g(ib)})(a.sd);f(a.hh);g(a.gg);f(a.wf);f(a.Oj);A(a.Nj,SI);z=15;t=0;z=16;t=0;v(a.Un);x(a.Jd);x(a.ci);x(a.Xf);D(a.paused);v(a.ig);r(a.ih);r(a.ph);q(a.rd);x(a.ai);x(a.bi);x(a.Vg);q(a.ee);x(a.fg);D(a.jl);z=17;t=0;w(a.nd);D(a.Eg);v(a.Da);w(a.ob);v(a.Z.length);v(a.ea.length);v(a.zc.length);t=8;oa=[];Ea=[];zb=[];U=[];Fa=[];$b=[];var jc=[];var M=[];var ea=[];var cf=[];var Ib=[];var Wa=[];for(O=
0;O<a.Z.length;O++)e(a.Z[O]);for(O=0;O<a.ea.length;O++)e(a.ea[O]);for(O=0;O<a.zc.length;O++)e(a.zc[O]);n(oa);n(Ea);n(zb);n(U);n(Fa);A($b,YI);n(jc);A(M,ZI);n(ea);n(cf);n(Ib);u(Wa);t=20;v(a.Rc);z=18;t=0;oa=[];Ea=[];zb=[];for(var wa in a.Id)a.Id.hasOwnProperty(wa)&&a.Id[wa]&&oa.push(a.Id[wa]);oa.sort(function(Y,ib){return Y-ib});for(O=oa.length-1;0<O;O--)oa[O]-=oa[O-1];n(oa);for(wa in a.Za)a.Za.hasOwnProperty(wa)&&a.Za[wa]&&Ea.push(a.Za[wa]);Ea.sort(function(Y,ib){return Y-ib});for(O=Ea.length-1;0<O;O--)Ea[O]-=
Ea[O-1];n(Ea);for(wa in a.Fe)a.Fe.hasOwnProperty(wa)&&a.Fe[wa]&&zb.push(a.Fe[wa]);zb.sort(function(Y,ib){return Y-ib});for(O=zb.length-1;0<O;O--)zb[O]-=zb[O-1];n(zb);z=19;t=0;Z=[];for(O=0;O<mu.length;O++)a.P[mu[O]].c&&Z.push(mu[O]);oa=[];Ea=[];zb=[];U=[];Fa=[];$b=[];jc=[];M=[];ea=[];cf=[];Ib=[];for(O=Q=0;O<Z.length;O++){if(0>Z[O]-Q)throw"challenges must be registered in increasing order";wa=V[Z[O]];ya=a.P[Z[O]];oa.push(Z[O]-Q);Q=Z[O];Ea.push(ya.X);zb.push(ya.$);U.push(ya.Pa);Fa.push(ya.Nb);$b.push(ya.yd);
jc.push(ya.Ab);M.push(ya.fi);if(1<wa.ja){for(Ka=0;Ka<wa.ja;Ka++)ea.push(ya.kb[Ka]);for(Ka=0;Ka<wa.ja;Ka++)cf.push(ya.le[Ka]);for(Ka=0;Ka<wa.ja;Ka++)Ib.push(ya.me[Ka])}}n(oa);n(Ea);n(zb);n(U);q(Fa);v(a.challenge);q($b);n(jc);n(M);n(ea);q(cf);q(Ib);v(a.Ii);D(a.Hi);z=20;t=0;D(a.Xe);t++;n(a.xd);v(a.Sd);p(a.Td);v(a.fd);p(a.Zb);v(a.We);D(a.ke);p(a.Rd);v(a.je);r(a.Cf);v(a.rg);v(a.jc);l();for(O=0;O<a.ua.length;O++)Q=a.ua[O],k(),D(Q.enabled),l(),d(Q.fe),d(Q.Pd[0]),d(Q.Pd[1]),d(Q.Pd[2]),d(Q.Pd[3]),u(Q.ti),
l(),b(Q.effect),b(Q.Dd[0]),b(Q.Dd[1]),b(Q.Dd[2]),b(Q.Dd[3]),u(Q.Hf),H(Q.done),x(Q.Re),h();z=21;t=0;oa=[];Ea=[];zb=[];U=[];for(O=0;O<a.gd.length;O++)for((wa=a.gd[O])||(wa=new TG),ya=wa.C,Ka=wa.F,oa[O]=ya,Ea[O]=Ka,U[O]=wa.name,Q=0;Q<Ka;Q++)for(Z=0;Z<ya;Z++)zb.push(wa.data[Q][Z]);n(oa);n(Ea);n(zb);A(U,ZI);H(a.Ye);z=22;t=0;oa=[];Ea=[];r(a.nh);for(O=0;O<a.rb.length;O++)Q=a.rb[O],oa.push(Q.$[0]),oa.push(Q.$[1]),oa.push(Q.$[2]),Ea.push(Q.ya[0]),Ea.push(Q.ya[1]),Ea.push(Q.ya[2]);n(oa);n(Ea);t=3;v(a.Xa);r(a.Mm);
D(a.oj);D(a.Rj);z=23;t=0;D(a.Bf);D(a.Ve);A(a.xf,LI);H(a.kh);D(a.Mb);D(a.Uc);H(a.xi);D(a.pg);z=24;t=0;q(a.Qi);A(a.Cg,$I);n(a.Ni);n(a.Pi);A(a.Mi,YI);A(a.Oi,YI);z=25;t=0;v(a.fc);a.fc&&(v(a.Jj),v(a.Ac),v(a.Bc));t=5;A(a.ll,LI);w(a.dg);x(a.rj);x(a.li);x(a.ni);z=26;t=0;oa=[];Ea=[];zb=[];U=[];Fa=[];$b=[];jc=[];M=[];for(O=-1;O<mu.length;O++)if(Q=-1==O?0:mu[O],-1==O||a.P[Q].c)ya=a.P[Q],oa.push(ya.Sk),Ea.push(ya.Tk),zb.push(DI(ya.sj)),U.push(DI(ya.Am)),Fa.push(ya.Xg),$b.push(DI(ya.sj)),jc.push(ya.zm),M.push(ya.ym);
n(oa);q(Ea);n(zb);n(U);q(Fa);n($b);n(jc);n(M);z=27;t=0;oa=[];Ea=[];zb=[];U=[];Fa=[];for(O=0;O<a.Ud.length;O++)for((wa=a.Ud[O])||(wa=new TG),ya=wa.C,Ka=wa.F,oa[O]=ya,Ea[O]=Ka,Fa[O]=wa.name,Q=0;Q<Ka;Q++)for(Z=0;Z<ya;Z++){zb.push(wa.data[Q][Z]);var Lc=wa.g[Q][Z]+1;0<=Lc||(Lc=0);U.push(Lc)}n(oa);n(Ea);n(zb);n(U);A(Fa,ZI);H(a.Ze);z=28;Q=t=0;l();for(O=0;O<$B.length;O++){Z=$B[O];if(0>Z-Q)throw"ethereal mistletoe upgrades must be registered in increasing order";wa=a.Kb[Z];k();v(Z-Q);v(wa.$);x(wa.time);h();
Q=Z}w(a.lb);x(a.pc);z=29;t=0;v(a.Ha);v(a.Ga);wa=a.Ha;ya=a.Ga;oa=[];Ea=[];for(Q=0;Q<ya;Q++)for(Z=0;Z<wa;Z++)O=a.va[Q][Z],oa.push(O.index),Yo(O)&&Ea.push(O.H);A(oa,TI);A(Ea,XI);z=30;t=0;Z=[];for(O=0;O<sC.length;O++)a.da[sC[O]].c&&Z.push(sC[O]);oa=[];Ea=[];for(O=Q=0;O<Z.length;O++){if(0>Z[O]-Q)throw"crops must be registered in increasing order";oa.push(Z[O]-Q);Q=Z[O];Ea.push(a.da[Z[O]].I)}n(oa);n(Ea);z=31;t=0;v(a.rc);v(a.qc);ya=a.rc;Ka=a.qc;oa=[];for(Q=0;Q<Ka;Q++)for(Z=0;Z<ya;Z++)O=a.Fb[Q][Z],oa.push(O.index);
A(oa,TI);z=32;t=0;Z=[];for(O=0;O<dE.length;O++)a.Aa[dE[O]].c&&Z.push(dE[O]);oa=[];Ea=[];for(O=Q=0;O<Z.length;O++){if(0>Z[O]-Q)throw"fishes must be registered in increasing order";oa.push(Z[O]-Q);Q=Z[O];Ea.push(a.Aa[Z[O]].I)}n(oa);n(Ea);z=33;t=0;if(a.challenge==Kl){wa=a.za;x(wa.Rk);v(wa.oh);D(wa.uc);D(wa.bc);w(wa.hc);t++;v(wa.$);r(wa.Xj);x(wa.lg);x(wa.Te);x(wa.Uk);t=20;l();for(O=0;O<wa.yb.length;O++)k(),Q=wa.yb[O],v(Q.index),r(Q.$f),r(Q.cc),w(Q.x),w(Q.y),w(Q.mh),w(Q.pl),w(Q.Zg),w(Q.Zk),h();l();for(Q=
0;Q<wa.vc.length;Q++)for(Z=0;Z<wa.vc[Q].length;Z++)k(),O=wa.vc[Q][Z],v(O.Pk),v(O.Lk),v(O.tj),h()}z=34;t=0;r(a.Ed);r(a.Be);x(a.Nf);x(a.Of);r(a.Fd);r(a.Ce);x(a.Pf);x(a.Qf);r(a.sf);r(a.qf);x(a.Tf);x(a.rf);y(a.Ug);y(a.Sg);x(a.Tg);O=gJ(I);Q=nJ(O);return"EF"+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[mJ>>18&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[mJ>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[mJ>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[mJ&
63])+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Math.min(63,Math.floor(Math.log2(a.vk/100+1)))]+aI(O)+Q}function oJ(a){return 0>a||isNaN(a)||Infinity==a?!1:!0}
function pJ(a){function b(ma){k();ma.ye=A();ma.tb=w();ma.zg=A();ma.zd=w();ma.ze=A();ma.Gd=w();ma.Bg=A();ma.Af=w();ma.Ag=A();ma.If=A();ma.Jf=A();ma.Fh=A();h()}function d(ma){525122<=z&&k();ma.type=D();ma.level=w();ma.aa=w();ma.oa=w();ma.time=y();525122<=z&&(ma.zf=w());525122<=z&&(ma.we=w());525122<=z&&h()}function e(ma){ma=g(ma);for(var Wb=[],dd=0;dd<ma.length;dd++)Wb[dd]=525122<=z?30*EI(ma[dd]).valueOf():525121<=z?300*CI(ma[dd]).valueOf():300*BI(ma[dd]).valueOf();return Wb}function f(ma){ma=g(ma);
for(var Wb=[],dd=0;dd<ma.length;dd++)Wb[dd]=525121<=z?CI(ma[dd]):BI(ma[dd]);return Wb}function g(ma){for(var Wb=[],dd=0,vg=0;vg<ma.length;vg++)dd+=ma[vg],Wb[vg]=dd;return Wb}function h(){Ea[Ea.length-1].shift(0,1);Ka=oa.pop();Y=zb.pop();Z=O.pop()}function k(){var ma=Ea[Ea.length-1];ma.length?(oa.push(Ka),Ka=ma[0],O.push(Z),Z=0,zb.push(Y),Y=0):Q=!0}function l(){var ma=I([],60);Ea.push(ma);return ma.length}function p(ma){ma=I(ma,SI);if(!ma)return ma;for(var Wb=0;Wb<ma.length;Wb++)ma[Wb]=AI(ma[Wb]);
return ma}function q(ma){return 4194>z?I(ma,WI):I(ma,aJ)}function n(ma){return I(ma,UI)}function u(ma){return I(ma,TI)}function x(ma){return I(ma,RI)}function y(ma){return 4194>z?I(ma,LI):I(ma,QI)}function r(ma){return I(ma,PI)}function v(ma){return I(ma,NI)}function w(ma){return I(ma,JI)}function H(ma){return I(ma,II)}function D(ma){return I(ma,HI)}function A(ma){return I(ma,GI)}function I(ma,Wb){var dd=Ka[64*Z+Y];Y++;return void 0==dd||dd.type!=Wb&&(0!=dd.type||1!=Wb)?(void 0==ma&&(Q=!0),ma):dd.value}
if(!$H(a))return kJ(2);if(22>a.length)return kJ(1);if("E"!=a[0]||"F"!=a[1])return kJ(3);var X=YH[a[2]]-2;var z=0>X?4096*YH[a[2]]+64*YH[a[3]]+YH[a[4]]:262144*YH[a[2]]+4096*YH[a[3]]+64*YH[a[4]]+YH[a[5]];if(z>mJ)return kJ(7);var $a=a.substr(a.length-16),db=0>X?6:7;a=a.substr(db,a.length-16-db);a=cI(a);if(!a)return kJ(5);if($a!=nJ(a))return kJ(6);var t=new eH,ya={Cc:a,qd:0};if(4103>=z)return kJ(8);var Ka=iJ(ya);if(ya.error)return kJ(4);var oa=[],Ea=[],Q=!1,Z,O=[],zb=[],U,Fa,$b,jc,M,ea,cf,Ib,Wa,wa,Lc;
var Y=Z=0;t.Ca=y();t.b=r();t.s=w();Y=4;t.U=w();t.h=v();4160>z&&t.h.Na(Math.floor(t.s/ty));t.Va=w();t.Va&&(Y=7,t.Gb=w(),t.Hb=w(),4182<=z?t.Ti=I(void 0,LI):(t.Ti=0,Y++));Y=10;4105>=z&&!t.Va&&(Y-=3);t.nc=y();t.Qk=y();4105<=z&&(t.ra=H());4105<=z&&(t.qb=H());4105<=z&&(t.Wb=H());Y=15;if(4106<=z&&w()!=z)return kJ(4);t.nl=4116<=z?H():Math.floor(281474976710656*Math.random());Y=17;t.Dg=4121<=z?H():Math.floor(281474976710656*Math.random());if(Q)return kJ(4);Y=18;4126<=z&&(t.$c=y(),t.tl=y(),t.Yk=y(),t.Cm=y());
Y=22;4132<=z&&(t.K=v(),4160>z&&t.K.Na(Math.floor(t.s/ty)));4158<=z&&(t.Im=H());4182<=z&&(t.Mf=r());524866<=z?t.Lf=r():(Y++,t.Va=0);524736<=z&&(t.Jb=H());524864<=z&&(t.Xb=H());524929<=z&&524994>z&&(t.Ed=v(),t.Be=t.Ed,t.Nf=0,t.Fd=v(),t.Ce=t.Fd,t.Pf=0);Y=31;524932<=z&&(t.beta=D());525120<=z&&(t.xm=y());525120<=z&&(t.Ne=w());525120<=z&&(t.qg=r());525120<=z&&(t.yj=w());525121<=z&&(t.Pj=A());Z=1;Y=0;t.C=w();t.F=w();if(Q||15<t.C||15<t.F||3>t.C||3>t.F)return kJ(4);var ib=t.C,ec=t.F;var N=u();var ka=I(void 0,
XI);if(Q)return kJ(4);for(var Pa=$b=Fa=0;Pa<ec;Pa++){t.G[Pa]=[];for(var Ma=0;Ma<ib;Ma++){t.G[Pa][Ma]=new CG(Ma,Pa,1);var cb=t.G[Pa][Ma];cb.index=N[Fa++];cb.index>=5E4+Cs&&4154>=z?cb.index=cb.index-5E4+300:cb.index>=307+Cs&&4154>=z&&(cb.index=cb.index-307+300);Yo(cb)&&(cb.H=ka[$b++]);(150==cb.index||151==cb.index)&&4170>z?cb.index=cb.H=0:cb.index==151+Cs&&4171>z&&(cb.index=150+Cs)}}if(Fa>N.length||$b>ka.length)return kJ(4);Z=2;Y=0;t.qa=w();t.pa=w();if(Q||15<t.qa||15<t.pa||3>t.qa||3>t.pa)return kJ(4);
var pc=t.qa,da=t.pa;N=u();ka=4105<=z?I(void 0,XI):null;var Na=4111<=z?x():null;var Sa=4194<=z?x():null;var Bf=jc=$b=Fa=0;if(Q)return kJ(4);for(Pa=0;Pa<da;Pa++)for(t.xa[Pa]=[],Ma=0;Ma<pc;Ma++)t.xa[Pa][Ma]=new CG(Ma,Pa,2),cb=t.xa[Pa][Ma],cb.index=N[Fa++],Yo(cb)&&(4105<=z&&(cb.H=ka[$b++]),4111<=z&&(cb.Zh=Na[jc++]),4194<=z&&(cb.Wf=Sa[Bf++]));if(Fa>N.length||4105<=z&&$b>ka.length||4111<=z&&jc>Na.length)return kJ(4);var Db;Z=3;Y=0;if(4187<=z){N=n();ka=x();Na=x();Sa=x();var Mc=n();var Md=524996<=z?x():Na;
if(Q||N.length!=ka.length||N.length!=Na.length||N.length!=Md.length||Sa.length!=Mc.length||Sa.length>N.length)return kJ(4);for(var Ei=Db=0,C=0;C<N.length;C++){Db=U=N[C]+Db;4193>z&&(41==U||42==U)&&(U+=284);if(!Bn[U])return kJ(4);t.o[U].c=ka[C];t.o[U].lh=Na[C];t.o[U].I=Md[C];t.o[U].c&&(t.o[U].ya=Sa[Ei],t.o[U].count=Mc[Ei],Ei++);Bn[U].ff&&(t.o[U].c=!1,t.o[U].count=0)}}else{N=n();ka=x();Na=n();Sa=4161<=z?x():ka;if(Q||N.length!=ka.length||N.length!=Na.length)return kJ(4);for(C=Db=0;C<N.length;C++){Db=
U=N[C]+Db;4186>z&&(250>U&&125<=U?U+=375:300>U&&250<=U?U+=750:350>U&&300<=U&&(U-=100));if(!Bn[U])return kJ(4);t.o[U].c=!0;t.o[U].ya=ka[C];t.o[U].count=Na[C];t.o[U].lh=Sa[C];Bn[U].ff&&(t.o[U].c=!1,t.o[U].count=0,4110>=z&&(U==eu&&Na[C]&&(t.o[du].c=!0,t.o[du].count=2),U==gu&&Na[C]&&(t.o[hn].c=!0,t.o[hn].count=2)))}4171>z&&(t.o[At].count=0,t.o[cu].count=0)}Z=4;Y=0;N=n();if(524867<=z)ka=x(),Na=n(),Sa=n();else{ka=[];for(C=0;C<N.length;C++)ka[C]=!0;if(4190<=z)Na=n();else for(Na=[],C=0;C<N.length;C++)Na[C]=
0;if(524672<=z)Sa=n();else for(Sa=[],C=0;C<N.length;C++)Sa[C]=0}if(524930<=z)Mc=n();else for(Mc=[],C=0;C<N.length;C++)Mc[C]=0;if(Q||N.length!=ka.length||N.length!=Na.length||N.length!=Sa.length||N.length!=Mc.length)return kJ(4);for(C=Db=0;C<N.length;C++){Db=U=N[C]+Db;5E4<=U&&4154>=z?U=U-5E4+300:307<=U&&4154>=z&&(U=U-307+300);if(!Pm[U])return kJ(4);U!=Qm&&U!=ns&&(t.D[U].c=ka[C],t.D[U].oa=Na[C],t.D[U].Ke=Sa[C],t.D[U].I=Mc[C])}Z=5;Y=0;N=n();ka=x();Na=n();if(Q||N.length!=ka.length||N.length!=Na.length)return kJ(4);
for(C=Db=0;C<N.length;C++){Db=U=N[C]+Db;if(!Sw[U])return kJ(4);t.S[U].c=!0;t.S[U].ya=ka[C];t.S[U].count=Na[C];Sw[U].ff&&(t.S[U].c=!1);4163>z&&U==Yt&&1<t.S[U].count&&(t.S[U].count=1)}Z=6;Y=0;N=n();if(Q||524806<=z&&(ka=x(),Q||N.length!=ka.length))return kJ(4);for(C=Db=0;C<N.length;C++){Db=U=N[C]+Db;if(!Uu[U])return kJ(4);t.ha[U].c=!0;t.ha[U].I=C<ka.length?ka[C]:!1}Z=7;Y=0;N=n();ka=x();if(Q||N.length!=ka.length)return kJ(4);for(C=Db=0;C<N.length;C++){Db=U=N[C]+Db;4170>z&&400<=U&&(U+=200);4186>z&&(1E3<=
U?U+=1E3:600<=U?U+=400:500==U?U=643:501==U?U=644:400<=U?U=960+Math.floor((U-400)/5):369<=U?U=560+8*Math.floor((U-369)/5)+(U-9)%5:359<=U?U=720+8*Math.floor((U-359)/5)+(U-9)%5:349<=U?U=480+8*Math.floor((U-349)/5)+(U-9)%5:299<=U?U=400+8*Math.floor((U-299)/5)+(U-9)%5:249<=U?U=320+8*Math.floor((U-249)/5)+(U-9)%5:149<=U&&(U=160+8*Math.floor((U-149)/5)+(U-9)%5));if(!dF[U])return kJ(4);t.oc[U].Bb=!0;t.oc[U].ya=ka[C];dF[U].ff&&(t.oc[U].Bb=!1,t.oc[U].ya=!1)}Z=8;Y=0;t.xb=y();t.Lb=y();t.zb=y();4194<=z?t.wb=D():
(t.xb>t.Lb&&t.xb>t.zb&&(t.wb=1),t.zb>t.Lb&&t.zb>t.xb&&(t.wb=2));4198<=z&&(t.be=y());524868<=z&&(t.Ob=D());if(Q)return kJ(4);Z=9;Y=0;t.xj=I(void 0,KI);t.precision=I(void 0,KI);t.jh=A();Y++;t.Od=I(void 0,KI);4116<=z&&(t.yg=A());4118<=z&&(t.vd=I(void 0,KI));4128<=z&&(t.pi=I(void 0,KI));4153<=z&&(t.Me=I(void 0,VI));if(4158<=z){var wg=t.Qa;t.Qa=I(void 0,VI);for(C=t.Qa.length;C<wg.length;C++)t.Qa[C]=wg[C]}if(Q)return kJ(4);4166<=z&&(t.yh=A());4185<=z?(t.ae=D(),t.Je=D(),t.dc=D()):(t.ae=1,t.dc=3);4186<=z&&
(t.$h=A());524417<=z&&(t.td=524544<=z?D():A());524868<=z&&(t.volume=I(void 0,MI));if(Q)return kJ(4);Z=10;Y=0;t.na=w();t.Zl=w();t.Ql=w();t.Vl=w();t.Ul=w();t.Sl=w();t.Vi=y();t.Wi=y();t.Kh=w();t.Oa=w();t.Kg=w();t.dj=w();t.fj=w();t.gj=w();t.ji=w();4105<=z&&(t.aj=w());525122<=z&&(t.Rh=w());4105<=z&&(t.Qh=w());4106<=z&&(t.Lg=4110<=z?v():c(w()));4110<=z&&(t.bo=w(),t.Rf=I(void 0,LI),t.lf=I(void 0,LI));4123<=z&&(t.Fg=I(void 0,LI),t.Mg=I(void 0,LI));4124<=z&&(t.uk=w());4138<=z&&(t.Ic=w());4139<=z&&(t.Yl=w(),
t.Oh=w());if(4170<=z){t.Ll=w();t.Jg=w();t.Il=w();var km=n();if(Q)return kJ(4);for(C=0;C<km.length;C++)t.Yd[C]=km[C]}4182<=z&&(t.Gg=r(),t.Jl=r());if(4195<=z){var Cf=n();if(Q)return kJ(4);for(C=0;C<Cf.length;C++)t.Nh[C]=Cf[C]}else 4189<=z&&(t.Nh[0]=w());4192<=z&&(t.ii=r());524672<=z&&(t.sk=w(),t.Xl=w(),t.Wl=w(),t.Hg=y(),t.Yi=y());524736<=z&&(t.Mh=w(),t.xk=w(),t.rk=w(),t.am=w(),524806>z&&(t.rk=t.Mh));524739<=z&&(t.Ml=w());524739<=z&&(t.Xi=v());524805<=z&&(t.Ui=w());524864<=z&&(t.tk=w(),t.yk=w());524992<=
z&&(t.Sh=w());525120<=z&&(t.Ig=w());if(Q)return kJ(4);Z=11;Y=0;t.Jc=y();t.kf=y();t.vk=w();t.ma=r();t.eb=r();t.Ih=r();t.De=w();t.bj=w();t.Lh=w();t.$i=w();t.wk=w();t.ej=w();t.$l=w();4105<=z&&(t.Jh=w());4113<=z&&(t.od=w());4113<=z&&(t.Zi=w());4138<=z&&(t.Rl=w());4145<=z&&(t.Ol=w());4145<=z&&(t.Nl=w());4156<=z&&(t.Tl=w());4158<=z&&(t.Ph=r());4158<=z&&(t.zk=r());4167<=z&&(t.jf=y());4174<=z&&(t.Ak=r());4190<=z&&(t.cj=w());4190<=z&&(t.Pl=w());4198<=z&&(t.Kl=w());524992<=z&&(t.cm=w());524992<=z&&(t.dm=w());
524992<=z&&(t.Bk=w());524992<=z&&(t.bm=w());524992<=z&&(t.Th=w());if(Q)return kJ(4);Z=12;Y=0;t.kd=y();t.ga=y();t.sh=w();t.gb=r();t.bf=r();t.Ef=r();t.ug=w();t.lc=w();t.Ad=w();t.qe=w();t.th=w();t.uh=w();t.vh=w();4105<=z&&(t.cf=w());4113<=z&&(t.rh=w());4113<=z&&(t.vg=w());4138<=z&&(t.pe=w());4145<=z&&(t.oe=w());4145<=z&&(t.Bi=w());4156<=z&&(t.Ci=w());4158<=z&&(t.Bd=r());4158<=z&&(t.re=r());4167<=z&&(t.wg=y());4174<=z&&(t.se=r());4190<=z&&(t.Di=w());4190<=z&&(t.ck=w());4198<=z&&(t.Ai=w());524992<=z&&
(t.Fi=w());524992<=z&&(t.Gi=w());524992<=z&&(t.xh=w());524992<=z&&(t.Ei=w());524992<=z&&(t.wh=w());if(Q)return kJ(4);Z=13;Y=0;if(0<t.na&&(t.Gj=y(),t.Nc=y(),t.Vm=w(),t.Ld=r(),4182>z&&(t.Gg=P(t.Ld)),4192>z&&(t.ii.h=c(t.Ld.h)),t.Fj=r(),t.Ej=r(),t.cl=w(),t.gl=w(),t.Tm=w(),t.fl=w(),t.hl=w(),t.il=w(),t.Wm=w(),4105<=z&&(t.bl=w(0)),4113<=z&&(t.dl=w()),4113<=z&&(t.el=w()),4138<=z&&(t.Rm=w()),4145<=z&&(t.Pm=w()),4145<=z&&(t.Om=w()),4156<=z&&(t.Sm=w()),4158<=z&&(t.eh=r()),4158<=z&&(t.bh=r()),4167<=z&&(t.Xm=
y()),4174<=z&&(t.dh=r()),4190<=z&&(t.Um=w()),4190<=z&&(t.Qm=w()),4198<=z&&(t.Nm=w()),524992<=z&&(t.an=w()),524992<=z&&(t.bn=w()),524992<=z&&(t.$m=w()),524992<=z&&(t.Ym=w()),524992<=z&&(t.Zm=w()),Q))return kJ(4);Z=14;Y=0;t.vf=g(u());if(4122<=z)if(t.gn=g(u()),4159<=z)t.sd=e(u()),t.hh=f(u()),t.gg=g(u()),t.wf=f(u()),t.Oj=f(u()),525121<=z&&(t.Nj=I(void 0,SI));else{t.sd=g(u());for(C=0;C<t.sd.length;C++)t.sd[C]*=900;t.hh=g(u());for(C=0;C<t.hh.length;C++)t.hh[C]=Jj(Xj(c(2),c(t.hh[C])),1);t.gg=g(u());if(4140<=
z)for(t.wf=g(u()),C=0;C<t.wf.length;C++)t.wf[C]=Jj(Xj(c(2),c(t.wf[C])),1)}if(Q)return kJ(4);Z=15;Y=0;Z=16;Y=0;4110<=z&&(t.Un=w());4115<=z&&(t.Jd=y());4167<=z&&(t.ci=y());4167<=z&&(t.Xf=y());4168<=z&&(t.paused=A());4170<=z&&(t.ig=w());524803<=z?t.ih=v():Y++;524803<=z?t.ph=v():Y++;if(4199<=z&&(t.rd=q(),Q||3!=t.rd.length))return kJ(4);4200<=z&&(t.ai=y());4200<=z&&(t.bi=y());524739<=z&&(t.Vg=y());if(524741<=z){t.ee=q();if(Q||2!=t.ee.length)return kJ(4);t.fg=y()}525120<=z&&(t.jl=A());if(Q)return kJ(4);
Z=17;Y=0;if(4113<=z){t.nd=H();t.Eg=A();t.Da=w();var L=0;if(4153>z){L=w(0);if(1<L)return kJ(4);t.Da++}else t.ob=4196>z?w(0):H(0);t.Z.length=w(0);t.ea.length=w(0);524805<=z&&(t.zc.length=w(0));if(t.Z.length>t.Da)return kJ(4);Y=8;N=n();ka=n();Na=n();Sa=n();Mc=n();Md=I(void 0,YI);var He=n();if(4153<=z)var pe=I(void 0,ZI);else for(pe=[],C=0;C<He.length;C++)pe[C]="";if(4156<=z){var Cb=n();var R=n()}else{Cb=[];for(C=0;C<Sa.length;C++)Cb[C]=0;R=[];for(C=0;C<He.length;C++)R[C]=0}var bc=4163<=z?n():[];var Fi=
524805<=z?x():[];if(Q)return kJ(4);var Xc=Lc=wa=Wa=Ib=cf=ea=M=Bf=jc=$b=Fa=0;var Gc=function(){var ma=new sy;ma.type=N[Fa++];ma.g=ka[$b++];if(!(jc>=Na.length)){ma.V.length=Na[jc++];ma.ca=Md[ea++];ma.mark=He[cf++];ma.name=pe[Ib++];ma.Xd=R[wa++];ma.Yh=524805<=z?Fi[Xc++]:Fa>t.Z.length;for(var Wb=0;Wb<ma.V.length;Wb++)ma.V[Wb]=Sa[Bf++],ma.Fa[Wb]=Mc[M++],ma.Ua[Wb]=Cb[Wa++],4163>z&&(bc[Lc]=Zb(ma.ca,0)&&0==ma.Xd?ma.Fa[Wb]:2),ma.ud[Wb]=bc[Lc++],4174>z&&9<=ma.V[Wb]&&17>=ma.V[Wb]&&1<=ma.type&&(ma.V[Wb]=9+ma.type-
1),4196>z&&9<=ma.V[Wb]&&(ma.V[Wb]=18<=ma.V[Wb]?ma.V[Wb]-9:ma.V[Wb]+11);return ma}};if(4153>z)if(L){t.Z.length+=1;cb=Gc();if(!cb)return kJ(4);t.Z[0]=cb;t.ob=0}else t.ob=t.Z.length;for(C=L;C<t.Z.length;C++){cb=Gc();if(!cb)return kJ(4);t.Z[C]=cb}for(C=0;C<t.ea.length;C++){cb=Gc();if(!cb)return kJ(4);t.ea[C]=cb}if(524805<=z)for(C=0;C<t.zc.length;C++){cb=Gc();if(!cb)return kJ(4);t.zc[C]=cb}if(Fa!=N.length||$b!=ka.length||jc!=Na.length||Bf!=Sa.length||M!=Mc.length||ea!=Md.length||cf!=He.length||Ib!=pe.length||
Wa!=Cb.length||wa!=R.length||Lc!=bc.length||Xc!=Fi.length)return kJ(4)}4135<=z&&(Y=20,t.Rc=w());if(4188>z){for(C=0;C<t.Z.length;C++)ly(t.Z[C]);for(C=0;C<t.ea.length;C++)ly(t.ea[C])}0>t.nd&&(t.nd=Math.floor(t.Jc)&4294967295^440006961524);Z=18;Y=0;if(4116<=z){N=n();ka=n();Na=n();if(Q)return kJ(4);jc=$b=Fa=0;for(C=1;C<N.length;C++)N[C]+=N[C-1];for(C=1;C<ka.length;C++)ka[C]+=ka[C-1];for(C=1;C<Na.length;C++)Na[C]+=Na[C-1];for(C=0;C<N.length;C++)t.Id[N[C]]=N[C];for(C=0;C<ka.length;C++)t.Za[ka[C]]=ka[C];
for(C=0;C<Na.length;C++)t.Fe[Na[C]]=Na[C];t.Za[30]&&((t||G).Za[29]=!0)}Z=19;Y=0;if(4125<=z){N=n();if(4128<=z)ka=n();else for(ka=x(),C=0;C<ka.length;C++)ka[C]=ka[C]?1:0;Na=n();Sa=n();Mc=q();t.challenge=w();if(4139<=z)Md=q(),He=n(),pe=n();else for(Md=[],He=[],pe=[],C=0;C<ka.length;C++)Md[C]=0,He[C]=ka[C],ka[C]=ka[C]?1:0,pe[C]=0;4165<=z?(Cb=n(),R=q(),bc=q()):(Cb=[],R=[],bc=[]);524928<=z&&(t.Ii=w());524931<=z&&(t.Hi=A());if(Q||N.length!=ka.length||N.length!=Na.length||N.length!=Sa.length||N.length!=Mc.length)return kJ(4);
for(C=Db=Lc=wa=Wa=0;C<N.length;C++){Db=U=N[C]+Db;if(!V[U])return kJ(4);var uc=V[U],lb=t.P[U];lb.c=!0;lb.X=ka[C];lb.$=Na[C];lb.Pa=Sa[C];lb.Nb=Mc[C];lb.yd=Md[C];lb.Ab=He[C];lb.fi=pe[C];if(1<uc.ja)if(lb.kb=[],lb.le=[],lb.me=[],4165<=z){for(var tb=0;tb<uc.ja;tb++)lb.kb[tb]=Cb[Wa++];for(tb=0;tb<uc.ja;tb++)lb.le[tb]=R[wa++];for(tb=0;tb<uc.ja;tb++)lb.me[tb]=bc[Lc++]}else{for(tb=0;tb<uc.ja;tb++)lb.kb[tb]=tb<lb.Ab?Math.max(uc.ia[0],lb.Pa-2*tb):0,lb.le[tb]=0,lb.me[tb]=0;lb.le[0]=lb.Nb;lb.me[0]=lb.yd}}if(4165<=
z&&(Wa!=Cb.length||wa!=R.length||Lc!=bc.length))return kJ(4)}if(4139>z)for(C=t.Oh=0;C<mu.length;C++)tb=mu[C],t.Oh+=t.P[tb].Ab,t.challenge==tb&&t.P[tb].$--;for(C=0;C<mu.length;C++)uc=V[mu[C]],lb=t.P[mu[C]],0!=lb.yd&&lb.X<uc.ia.length&&(lb.yd=0),0!=lb.fi&&lb.X<uc.ia.length&&(lb.fi=0);Z=20;Y=0;4136<=z&&(t.Xe=A(),Y++,t.xd=n());if(4138<=z){t.Sd=w();var Ie=[];Ie=4139<=z?p():[AI(I(void 0,HI))];if(Q)return kJ(4);for(C=0;C<Ie.length;C++)t.Td[C]=Ie[C];for(C=Ie.length;C<t.Td.length;C++)t.Td[C]=Ie[1]}if(4142<=
z){t.fd=w();var Vf=t.Zb.length;t.Zb=p();for(C=t.Zb.length;C<Vf;C++)t.Zb[C]=t.Zb[0];if(Q)return kJ(4)}if(4146<=z&&(t.We=w(),Q))return kJ(4);if(4147<=z){t.ke=A();Vf=t.Zb.length;t.Rd=p();for(C=t.Rd.length;C<Vf;C++)t.Rd[C]=t.Rd[0];if(Q)return kJ(4)}if(4149<=z){if(t.je=w(),Q)return kJ(4)}else t.je=1;4153<=z&&(t.Cf=v());4190<=z&&(t.rg=w());524608<=z&&(t.jc=w());if(Q)return kJ(4);524608>z&&t.P[Rn].c&&(uc=t.P[Rn],lb=V[Rn],5>t.U&&(uc.c=!1),uc.X&&(uc.Pa<lb.ia[0]?uc.X=0:uc.Pa<lb.ia[1]?uc.X=1:uc.Pa<lb.ia[2]&&
(uc.X=2),uc.X||(uc.Ab=0),2>uc.X&&(uc.fi=0)));if(524608<=z){var qc=l();t.ua=[];uu(t,qc);for(C=0;C<qc;C++){var Ra=t.ua[C];t.ua[C]=Ra;k();if(525121<=z){Ra.enabled=A();if(525122<=z){var mb=l();if(5!=mb)return kJ(4);d(Ra.fe);d(Ra.Pd[0]);d(Ra.Pd[1]);d(Ra.Pd[2]);d(Ra.Pd[3]);Ea.pop();Ra.ti=x()}else d(Ra.fe);mb=l();if(5!=mb)return kJ(4);b(Ra.effect);b(Ra.Dd[0]);b(Ra.Dd[1]);b(Ra.Dd[2]);b(Ra.Dd[3]);Ea.pop();Ra.Hf=x();Ra.done=D();525122>z&&(Ra.done+=2*D());Ra.Re=y()}else Ra.enabled=A(),Ra.done=D(),Ra.fe.type=
D(),Ra.effect.tb=w(),Ra.effect.zg=A(),Ra.fe.level=w(),524672<=z&&(Ra.fe.aa=w()),524672<=z&&(Ra.fe.oa=w()),524675<=z?Ra.effect.ye=A():(Ra.effect.ye=0<Ra.effect.tb,0<Ra.effect.tb&&Ra.effect.tb--),524675<=z&&(Ra.fe.time=y()),524675<=z&&(Ra.effect.ze=A()),524675<=z&&(Ra.effect.Gd=w()),524676<=z&&(Ra.effect.Bg=A()),524676<=z&&(Ra.effect.Af=w()),524676<=z&&(Ra.effect.Ag=A()),524676<=z&&(Ra.effect.If=A()),Ra.done=524677<=z?Ra.done+2*D():3*Ra.done,524677<=z&&(Ra.Re=y()),524802<=z&&(Ra.effect.zd=w()),525120<=
z&&(Ra.effect.Jf=A());h()}Ea.pop()}if(Q)return kJ(4);Z=21;Y=0;if(4154<=z){N=n();ka=n();Na=n();if(Q)return kJ(4);if(4156<=z)Sa=I(void 0,ZI);else for(Sa=[],C=0;C<N.length;C++)Sa[C]="";if(Q||N.length!=ka.length||N.length!=Sa.length)return kJ(4);jc=0;t.gd=[];for(C=0;C<N.length;C++){ib=N[C];ec=ka[C];if(20<ib||20<ec)return kJ(4);var vc=new TG;t.gd[C]=vc;vc.C=ib;vc.F=ec;vc.name=Sa[C];vc.data=[];for(Pa=0;Pa<ec;Pa++)for(vc.data[Pa]=[],Ma=0;Ma<ib;Ma++){var Xh=Na[jc++];vc.data[Pa][Ma]=Xh}}if(jc!=Na.length)return kJ(4)}524935<=
z&&(t.Ye=D());if(Q)return kJ(4);Z=22;var df=Y=0;524544<=z&&(Y=3,t.Xa=w(),Y=0);TB(t);UB(t);if(4170<=z){var fc=GA[t.Xa];t.nh=v();N=n();ka=[];if(4174<=z){if(ka=n(),ka.length!=N.length)return kJ(4)}else for(C=0;C<N.length;C++)ka[C]=N[C];Y=4;524544<=z&&(t.Mm=v(),t.oj=A(),t.Rj=A());4196>z&&39<=N.length&&N[37]&&(N[37]=N[39]=N[40]=N[41]=0,ka[40]=ka[37],ka[37]=ka[39]=ka[41]=!1,df++);$b=Fa=0;if(0!=N.length%3||N.length>3*fc.length)return kJ(4);var Kj=Math.floor(N.length/3);for(C=0;C<Kj;C++){var gc=t.rb[C];gc.$[0]=
N[Fa++];gc.$[1]=N[Fa++];gc.$[2]=N[Fa++];gc.ya[0]=ka[$b++];gc.ya[1]=ka[$b++];gc.ya[2]=ka[$b++];7<=C&&4188>z&&gc.$[1]&&(df++,gc.$[1]=0,gc.ya[1]=!1);if(gc.$[0]>fc[C].Se.length||gc.$[1]>fc[C].Dc.length||gc.$[2]>fc[C].S.length)return kJ(4);for(tb=0;tb<gc.$[0];tb++)t.fa[fc[C].Se[tb]].count++;for(tb=0;tb<gc.$[1];tb++)t.fa[fc[C].Dc[tb]].count++;for(tb=0;tb<gc.$[2];tb++)t.fa[fc[C].S[tb]].count++;if(gc.ya[0]>fc[C].Se.length||gc.ya[1]>fc[C].Dc.length||gc.ya[2]>fc[C].S.length)return kJ(4)}}if(Q)return kJ(4);
if(0<df){T("Due to an update some squirrel updates changed, and "+df+" of your squirrel upgrade(s) got refunded. Check the squirrel tab to re-buy them.",qJ,0,0,!1,!0);kB(C);for(C=qc=0;C<CA.length;C++)qc+=t.fa[CA[C]].count;qc+=df;for(var Je=new c(0);0<df;)df--,qc--,Je.u(kB(qc));t.b.Y.u(Je)}if(Q)return kJ(4);Z=23;Y=0;4170<=z&&(t.Bf=A());4173<=z&&(t.Ve=A());4173<=z&&(t.xf=I(void 0,LI));4176<=z&&(t.kh=D());524739<=z&&(t.Mb=A());524739<=z&&(t.Uc=A());524740<=z&&(t.xi=D());524745<=z&&(t.pg=A());if(Q)return kJ(4);
Z=24;Y=0;4175<=z&&(t.Qi=q(),t.Cg=I(void 0,$I),t.Ni=n(),t.Pi=n(),t.Mi=I(void 0,YI),t.Oi=I(void 0,YI));if(Q)return kJ(4);Z=25;Y=0;4189<=z?(t.fc=w(),t.fc&&(t.Jj=w(),t.Ac=w(),t.Bc=w()),Y=5,t.ll=I(void 0,LI),t.dg=H(),t.rj=y(),t.li=y(),4195<=z&&(t.ni=y())):t.dg=t.nl^1886545267;if(Q)return kJ(4);Z=26;Y=0;if(4194<=z){N=n();ka=q();Na=n();Sa=n();Mc=q();Md=n();He=n();4195<=z&&(pe=n());if(Q||N.length!=ka.length||N.length!=Na.length||N.length!=Sa.length||N.length!=Mc.length||N.length!=Md.length||N.length!=He.length||
4195<=z&&N.length!=pe.length)return kJ(4);U=0;for(C=-1;C<mu.length;C++){var lm=-1==C?0:mu[C];if(-1==C||t.P[lm].c){if(U>=N.length)return kJ(4);lb=t.P[lm];lb.Sk=N[U];lb.Tk=ka[U];lb.sj=EI(Na[U]);lb.Am=EI(Sa[U]);lb.Xg=Mc[U];lb.sj=EI(Md[U]);lb.zm=He[U];4195<=z&&(lb.ym=pe[U]);U++}}}if(Q)return kJ(4);Z=27;Y=0;if(4194<=z){N=n();ka=n();Na=n();Sa=n();Mc=I(void 0,ZI);if(Q||N.length!=ka.length||N.length!=Mc.length||Na.length!=Sa.length)return kJ(4);Bf=jc=0;t.Ud=[];for(C=0;C<N.length;C++){ib=N[C];ec=ka[C];if(20<
ib||20<ec)return kJ(4);vc=new TG;t.Ud[C]=vc;vc.C=ib;vc.F=ec;vc.name=Mc[C];vc.data=[];vc.g=[];for(Pa=0;Pa<ec;Pa++)for(vc.data[Pa]=[],vc.g[Pa]=[],Ma=0;Ma<ib;Ma++){Xh=Na[jc++];vc.data[Pa][Ma]=Xh;var Qk=Sa[Bf++]-1;vc.g[Pa][Ma]=Qk}}if(jc!=Na.length||Bf!=Sa.length)return kJ(4)}524935<=z&&(t.Ze=D());if(Q)return kJ(4);Z=28;Y=0;if(524672<=z){Db=0;qc=l();for(C=0;C<qc;C++)if(k(),U=w(),U+=Db,aC[U]){var Ke=t.Kb[U];Ke.$=w();Ke.time=y();h();Db=U}Ea.pop();t.lb=H();t.pc=y()}if(Q)return kJ(4);Z=29;Y=0;if(524736<=z){t.Ha=
w();t.Ga=w();if(Q||15<t.Ha||15<t.Ga||3>t.Ha||3>t.Ga)return kJ(4);var Nc=t.Ha,md=t.Ga;N=u();ka=I(void 0,XI);$b=Fa=0;if(Q)return kJ(4);for(Pa=0;Pa<md;Pa++)for(t.va[Pa]=[],Ma=0;Ma<Nc;Ma++)t.va[Pa][Ma]=new CG(Ma,Pa,3),cb=t.va[Pa][Ma],cb.index=N[Fa++],Yo(cb)&&(cb.H=ka[$b++]);if(Fa>N.length||$b>ka.length)return kJ(4)}else hH(t);if(Q)return kJ(4);Z=30;Y=0;if(524736<=z){N=n();ka=n();if(Q||N.length!=ka.length)return kJ(4);for(C=Db=0;C<N.length;C++){Db=U=N[C]+Db;if(!Nz[U])return kJ(4);t.da[U].c=!0;t.da[U].I=
ka[C]}}if(Q)return kJ(4);Z=31;Y=0;if(524864<=z){t.rc=w();t.qc=w();if(Q||15<t.rc||15<t.qc||3>t.rc||3>t.qc)return kJ(4);ib=t.rc;ec=t.qc;N=u();Fa=0;if(Q)return kJ(4);for(Pa=0;Pa<ec;Pa++)for(t.Fb[Pa]=[],Ma=0;Ma<ib;Ma++)t.Fb[Pa][Ma]=new CG(Ma,Pa,10),cb=t.Fb[Pa][Ma],cb.index=N[Fa++];if(Fa>N.length)return kJ(4)}else iH(t);if(Q)return kJ(4);Z=32;Y=0;if(524864<=z){N=n();ka=n();if(Q||N.length!=ka.length)return kJ(4);for(C=Db=0;C<N.length;C++){Db=U=N[C]+Db;if(!pC[U])return kJ(4);t.Aa[U].c=!0;t.Aa[U].I=ka[C]}}if(Q)return kJ(4);
Z=33;Y=0;if(t.challenge==Kl&&524992<=z){var Jb=t.za;Jb.Rk=y();Jb.oh=w();Jb.uc=A();Jb.bc=A();Jb.hc=H();Y++;Jb.$=w();Jb.Xj=v();Jb.lg=y();Jb.Te=y();Jb.Uk=y();Y=20;Jb.yb=[];qc=l();for(C=0;C<qc;C++){k();Jb.yb[C]=new Tl;var wc=Jb.yb[C];wc.index=w();wc.$f=v();wc.cc=v();wc.x=H();wc.y=H();wc.mh=H();wc.pl=H();wc.Zg=H();wc.Zk=H();h()}Ea.pop();Jb.vc=[];Jb.vc[0]=[];qc=l();for(C=Ma=Pa=0;C<qc;C++){k();var be=new Vl;Jb.vc[Pa][Ma]=be;be.Pk=w();be.Lk=w();be.tj=w();Ma++;Ma>t.C&&(Ma=0,Pa++,Jb.vc[Pa]=[]);h()}Ea.pop()}if(Q)return kJ(4);
Z=34;Y=0;524994<=z&&(t.Ed=v(),t.Be=v(),t.Nf=y(),525061<=z&&(t.Of=y()),t.Fd=v(),t.Ce=v(),t.Pf=y(),525061<=z&&(t.Qf=y()));525060<=z&&(t.sf=v(),t.qf=v(),t.Tf=y(),525061<=z&&(t.rf=y()));525061<=z&&(t.Ug=r(),t.Sg=r(),t.Tg=y());if(Q)return kJ(4);uu(t,vu(t));4169>=z&&(t.b.Y=c(0),t.ma.Y=c(0),t.eb.Y=c(0),t.Ih.Y=c(0),t.gb.Y=c(0),t.bf.Y=c(0),t.Ef.Y=c(0),t.Ld.Y=c(0),t.Fj.Y=c(0),t.Ej.Y=c(0),t.D[rr].c=!1,t.D[sr].c=!1);if(4104>=z){for(Pa=0;Pa<t.pa;Pa++)for(Ma=0;Ma<t.qa;Ma++)cb=t.xa[Pa][Ma],Yo(cb)&&t.b.h.mb(10);
gH(t);0<t.na&&T("Due to an update, the resin and transcension system has been reset. All your resin has been refunded so you can re-use it with the new system. The pericarps resource has been removed from the game. There are now multiple ethereal field plant types and they give direct boosts to the basic field. Unused resin also gives a small boost now. The ethereal upgrades are currently removed, but new ones, probably costing resin, may be added back in a future game update.",qJ,0,0,!1,!0);t.ha[Fv].c=
!0;t.ha[Nv].c=!0;t.ha[fw].c=!0;t.ha[yv].c=!0;t.Kg=0;t.dj=0;t.fj=0;t.gj=0;t.ma.h=c(t.b.h);t.Lg=c(t.ma.h)}else if(4105==z)t.ma.h=c(t.eb.h),t.Lg=c(t.ma.h);else if(4110>z){var Df=t.Lg;var Wf=t.ma.h;Wf.ba(Df)&&(Df=c(Wf));Wf=t.eb.h;Wf.ba(Df)&&(Df=c(Wf));Wf=c(11*t.na);Wf.ba(Df)&&(Df=c(Wf));t.Lg=Df}4112>z&&(t.ha[rw].c=!0,t.ha[fw].c=!0,t.b.B.Na(6.666666));if(4116>z){var xg=c(0);for(C=0;4>C;C++)for(Kj=t.S[Zw[C]].count,tb=1;tb<Kj;tb++)xg.u(Pj(c(10),tb).i(10)),xg.wa(Pj(c(2),tb).i(10));Ub(xg,0)&&(T("ethereal season upgrades became cheaper in version v0.1.20, compensated "+
xg.toString()+" resin to your stacks",qJ,0,0),t.b.h.u(xg))}4119>z&&(t.na?(t.Za[1]=1,t.Za[9]=9):t.Za[1]=t.Id[1]=void 0);4126>z&&t.challenge==cn&&!t.o[$t].c&&(t.o[$t].c=!0);4141>z&&(t.gb.h=c(0),t.gb.K=c(0),t.gb.ca=c(0));4174>z&&t.S[yx].count&&0<t.rb[3].$[1]&&(T("One free squirrel respec token given due to squirrel upgrade changes"),t.ig++);if(4174>z){var vb=0,Ef=0,Rk=c(75E6),pr=c(5E7);Je=c(0);for(Pa=0;Pa<t.pa;Pa++)for(Ma=0;Ma<t.qa;Ma++)cb=t.xa[Pa][Ma],Yo(cb)&&(S(cb).index==Iv&&Je.u(Rk.i(Math.pow(1.5,
vb++))),S(cb).index==Qv&&Je.u(pr.i(Math.pow(1.5,Ef++))));t.S[Cx].count&&Je.mb(5E8);Je.J(0)&&T("Some ethereal crops and upgrades were made cheaper, received refund of: "+Je.toString()+" resin");t.b.h.u(Je)}4180>=z&&!t.P[vp].X&&t.oc[iG].Bb&&(t.oc[iG].ya=t.oc[iG].Bb=!1);if(!oJ(t.Ca)||!oJ(t.kf)){oJ(t.Ca)||(t.Ca=m.getTime());oJ(t.jf)||(t.jf=0);oJ(t.kf)||(t.kf=t.Ca-t.Jc-t.jf);oJ(t.ga)||(t.ga=t.Ca-t.kd);oJ(t.Nc)||(t.Nc=t.kd-t.Gj);for(Pa=0;Pa<t.F;Pa++)for(Ma=0;Ma<t.C;Ma++)cb=t.G[Pa][Ma],oJ(cb.H)||(cb.H=0);
oJ(t.Rf)||(t.Rf=0);oJ(t.Fg)||(t.Fg=0);oJ(t.lf)||(t.lf=0);oJ(t.Mg)||(t.Mg=0);ac(t.b.B,0)&&(t.b.B=c(0));ac(t.b.f,0)&&(t.b.f=c(0))}524739>z&&(t.Vg=0,t.S[Nx].count&&(t.Vg=20==t.U?Math.max(1666655999,t.ci):1666655999));if(524740>z&&t.Mb){var mm=t.Uc;t.Uc=!1;t.xi=rJ(t.Ca,t);t.Uc=mm}if(524745>=z&&Ub(t.ma.v,4E17)){var Le=0;Je=c(0);for(Pa=0;Pa<t.Ga;Pa++)for(Ma=0;Ma<t.Ha;Ma++)t.va[Pa][Ma].index==Cs+DD&&(Le++,2<Le&&(t.va[Pa][Ma].index=0));2<Le&&t.b.v.u(c(5E11).sa(Rj(Le-1)))}if(525061>z&&1<=t.P[Rn].X&&7>t.P[Rn].X){for(C=
1;C<t.ua.length;C++)tb=t.ua.length-C,t.ua[tb]=t.ua[tb-1];t.ua[0]=new aH}if(525122>z){var Gi=t.kf;t.Yd[sJ]&&(Gi-=3600*t.Yd[sJ]);t.Yd[tJ]&&(Gi+=3600*t.Yd[tJ]);t.Yd[uJ]&&(Gi-=28800*t.Yd[uJ]);t.Rh=Math.ceil(Gi/86400);t.Qh+1>t.Rh&&(t.Rh=t.Qh+1)}if(Q)return kJ(4);t.Vl++;return t}
function nJ(a){for(var b=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],d=0;d<a.length;d++)for(var e=YH[a[d]]+1,f=0;16>f;){b[f]=65537*b[f]+e;if(63<b[f])e=b[f]>>6,b[f]&=63;else break;f++}a="";for(d=0;d<b.length;d++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[d]&63];return a}function vJ(a){G=a;sB();G.time=G.Ca;WB(G);wJ();tk=G.xj;uk=G.precision;xJ(a);yJ();G.paused&&T("game paused",void 0,void 0,void 0,void 0,void 0,!0);Tu++}
function zJ(a,b,d){a.xj=tk;a.precision=uk;(a=lJ(a))?b&&b(a):d&&d()}function AJ(a,b,d){(a=pJ(a))&&!a.jn?(vJ(a),b&&b(a)):d&&d(a)}function jJ(a){var b=new zI(a);if(null==b||void 0==b)return null;if(9<b.length)return a.error=!0,null;a=new P;fl(a,b);return a};function BJ(){var a="";window.global_is_beta&&(window.beta_patchnotes?(a=a+"<hr>Beta patch notes:<br/><br/>"+window.beta_patchnotes,a+="End of beta patch notes<hr><br/><br/>"):a+="This is a beta version<br/><br/>");return a+'0.13.2 (2024-08-12)<br/>\u2022 Added season overrides for auto-action triggers, so now also the trigger conditions can be customized separately per season (once you unlocked this ability).<br/>\u2022 For the "crop upgraded" auto-action trigger type, it\'s now also possible to select the upgrade level the crop should have.<br/>\u2022 For the "planted crop" and "fullgrown crop" auto-action trigger types, it\'s now also possible to select the amount of crops.<br/>\u2022 Increased precision with which the time duration of previous runs in the "Transcension statistics" dialog is kept.<br/>\u2022 Made the cost limit setting for auto-unlock also visible when using "share with auto-plant".<br/>\u2022 It\'s now possible to rearrange the display order of auto-actions.<br/>\u2022 Fixed long idle charged fern giving 1.75x more charged resources than intended.<br/>\u2022 Fixed the fact that picking up fern and transcending in a single auto-action made the fern have little to no effect.<br/>\u2022 Fixed computation precision issues related to auto-actions and resource amounts during multi-hour fast-forward computations (when loading savegames or inactive tabs).<br/>&nbsp;&nbsp;\u25e6  NOTE: despite the improved precision, it\'s recommended when having two time-triggered auto-actions in a row which both pick up a fern, to leave at least 10 seconds extra between the auto-actions compared to expected fern spawn time: auto-actions fern pickup time can vary up to >5 seconds.<br/>\u2022 Various small bugfixes and tweaks.<br/><br/>0.13.1 (2024-07-15)<br/>\u2022 Added season overrides for auto-action effects, unlocked if you have auto-transcend. Any auto action effects can be overriden for any of the seasons. This uses a fully separate configuration of the action effects, only used in that season. Use the "seasonal" button under the "Configure effect" dialog for this.<br/>\u2022 Added "hold season" auto-action effect. This is unlocked if you have auto-transcend.<br/>\u2022 Made the resin, twigs and time statistics in the "transcension stats" dialog more precise, and added season stat. You only get these increased stats for next runs after this version\'s release<br/>\u2022 Made it more robust how the game remembers the undo state before an auto-transcend. When coming back after a long time to a game with auto-transcends enabled, and pressing the "undo" button, it will undo the last auto-transcend (unless you did a manual action before pressing undo)<br/>\u2022 Fixed bug where "hold season" wouldn\'t return 30 amber when transcending before the previous season ended<br/>\u2022 Named the auto-action effect configuration "Effect" instead of "Action" in more places<br/>\u2022 Added transcend count to the game info dialog and tooltip (from the info box at the top left, left of the seeds amount), previously this was only visible deep in the player statistics dialog<br/><br/>0.13.0 Auto-transcend (2024-06-27)<br/>\u2022 Added auto-transcend for the auto-actions, unlocked by wither challenge 150.<br/>\u2022 Moved the extra auto-action slot reward from wither 150, to wither 200.<br/>\u2022 Added a new statistics dialog with time, resin and twigs of multiple previous transcensions ("transcension stats" under the main menu dialog).<br/>\u2022 Nerfed the infinity production of the ruby infinity bee nest, fern and acorn: they were too powerful because expected fishes at this point are more powerful than anticipated when these were designed.<br/>\u2022 Typo fixes.<br/><br/>0.12.5 QoL balancing (2024-06-03)<br/>\u2022 Brassica upgrades now add +35% instead of +20% lifetime duration.<br/>\u2022 Increased the maximum fern charge time of the "slower ferns" choice upgrade from 6 (effectively 3) to 9 (effectively 4.5) hours.<br/>\u2022 For auto-actions:<br/>&nbsp;&nbsp;\u25e6 You now get three instead of only one auto-action available from the beginning after completing the wither challenge (one of the three is the special start-of-run-only one), and up to 7 in total later.<br/>&nbsp;&nbsp;\u25e6 Automating ethereal blueprints with auto-actions is now available from the beginning when completing the wither challenge rather than as a later wither challenge reward.<br/>\u2022 For infinity field time delay:<br/>&nbsp;&nbsp;\u25e6  Infinity time delay no longer happens when changing the infinity field or fishes in a way that doesn\'t decrease infintiy seeds / spores production.<br/>&nbsp;&nbsp;\u25e6  Infinity time delay also no longer happens when changing the infinity field or fishes during the first few minutes of a run.<br/>&nbsp;&nbsp;\u25e6  The remaining time of the infinity time delay for the basic field production boost, if present, is now shown in the infinity tree tooltip.<br/>\u2022 Fruit abilities are now initially sorted alphabetically for newly dropped fruits rather than random order. Existing fruits are not affected and the order can still be changed manually.<br/>\u2022 Bugfixes.<br/><br/>0.12.4 (2024-05-15)<br/>\u2022 Added "prestiged grow speed" ethereal upgrade for ethereal tree level 27.<br/>\u2022 Added two new fishes.<br/>\u2022 Added the next ruby infinity crops.<br/>\u2022 All basic field production bonus from infinity field is now time-delayed after increasing it (before, only fishes did this, now also placing crops). This is to reduce need to manually change the infinity field layout whenever transcending. As before, the time-delay disappears gradually over 3 hours, or immediately when starting a new run.<br/>\u2022 Infinity runestones 20-hour freeze completely removed from the game (since the time-delay now replaces this limitation).<br/>\u2022 Infinity runestones now have a growing animation.<br/>\u2022 Increased boost to basic field from the infinity ruby blackberry.<br/>\u2022 Infinity pond dialog now also shows infinity seeds and production/s info inside.<br/>\u2022 Bugfixes.<br/><br/>0.12.3b (2024-05-02)<br/>\u2022 The pond now shows an hourglass symbol when time-weighted fishes are in effect, so that it\'s clear why e.g. infinity boost to basic field isn\'t immediately increasing after placing an oranda.<br/>\u2022 Fixed bug with oranda and koi sometimes not working.<br/><br/>0.12.3 (2024-05-02)<br/>\u2022 Added first few crops of the ruby infinity tier.<br/>\u2022 Added new ethereal mistletoe upgrade: squirrel friendliness at mistletoe evolution level 13.<br/>\u2022 Squirrel evolution now allows placing two squirrels in the ethereal field.<br/>\u2022 Using the new exponential challenge production boost bonus formula for thistle challenge and wasabi challenge (see earlier changelog entries for more info).<br/>\u2022 Changed the the special neighbor boosts in ethereal field (this are: tree, automaton, squirrel and mistletoe):<br/>&nbsp;&nbsp;\u25e6 Their main boost is made additive with other special neighbor types instead of multiplicative, which ensures more surface area of the ethereal field can be made useful.<br/>&nbsp;&nbsp;\u25e6 There\'s a separate additional bonus for having at least 2 special neighbor boosts touching a single crop (no increase for having 3+), to make the boosts somewhat similar to before this update up to this point.<br/>&nbsp;&nbsp;\u25e6 This change is done to allow this and future updates to increase the ethereal tree, automaton and squirrel neighbor boost (similar to the mistletoe which can already reach arbitrarily high boosts).<br/>\u2022 Boost to basic field of infinity crop tier 7 and up increased (this is to compensate part of the loss from the special neighbor boost change).<br/>\u2022 Infinity lotus boost now only affects infinity crops within its own tier (since ruby is the first higher tier for lotus, this change has no real effect on current games).<br/>\u2022 Crop prestiges that have never been done before, now must be done manually the first time, not by automaton, similar to crop unlocks. The upgrade tab will get a special color in this case.<br/>\u2022 Ethereal squirrel and automaton detailed info dialogs now show a breakdown for neighbor boost, and ethereal tree and mistletoe dialog also show their neighbor boost now.<br/>\u2022 Fix issue where squirrel didn\'t use the evolved squirrel texture after squirrel evolution anymore.<br/>\u2022 Other bugfixes.<br/><br/>0.12.2 (2024-04-01)<br/>\u2022 Added new infinity crop: emerald infinity lotus.<br/>\u2022 Added two new fishes: red oranda and black anemone.<br/>\u2022 New exponential bonus formula used for the production bonus of the rocks challenge and poison ivy challenge. This especially makes rocks challenge more worth it at higher levels. These are the next two challenges after infernal challenge to get this change, and in future updates all challenges (and the resin/twigs bonus too, but not exponential) will get a similar change.<br/>\u2022 In the bee challenge, bees no longer need to be fullgrown to workm their effect is visible immediately.<br/>\u2022 All eggs and presents now have a hint in the tooltip.<br/>\u2022 In transcend dialogs, the "r" shortcut can now be used to transcend without blueprint (like the "b" shortcut that already worked for with blueprint).<br/>\u2022 Added "Field neighbor boost to here" statistic in the detailed stats dialog for berries, mushrooms, nuts and flowers.<br/>\u2022 The "Basic tree boost bonus" ethereal upgrade now shows current and upgraded bonus in the tooltip.<br/>\u2022 Better icon for the "Four seasons" achievement.<br/>\u2022 Renamed the "save after each action" preference to "save on refresh / action" for clarity<br/>\u2022 Bugfixes and other small UI tweaks.<br/><br/>0.12.1 (2024-03-09)<br/>\u2022 Fixed bug where some nettles were too weak during tower defense<br/>\u2022 Improved the randomness of the RNG (pseudo-random number generator): while it was fair and unbiased, it had some visible regular patterns over time.<br/>\u2022 Ethereal blueprints exported to text (TXT) now align the values in rows to the tier numbers using spaces (so they look better in 2D as text). This change also means spaces in blueprints are now ignored rather than treated as an empty field cell (this should have no effect since it was already using the dot "." to indicate empty cells)<br/>\u2022 Improved help dialog when unlocking automaton, to mention clearly where to find the blueprint library better (it\'s in the tree).<br/>\u2022 Fixed display bug where the button that should say "Complete Challenge" when beating a next challenge goal, could say "Abort Challenge" instead.<br/>\u2022 Fixed bug where, when just unlocking a new resource, the resource displays at the top could have the wrong dialogs or tooltips.<br/><br/>0.12.0 (2024-02-26)<br/>\u2022 Added ruby fruits, starting from level 190. In this tier, a new ability combines resin and twigs bonus in a single slot.<br/>\u2022 Using new challenge formula for the production bonus of the infernal challenge (eventually all challenges will be modified like this, and eventually resin/twigs bonus will also be changed).<br/>\u2022 Improved how challenge production bonus formula is displayed in their info dialogs.<br/>\u2022 Highest tree level ever squirrel upgrade tooltip now shows current and next level value info.<br/>\u2022 The treelevel prod boost fruit now shows a target bonus that you get when reaching the tree level at which the <i>next</i> tier of fruit can drop. If there is no next tier, this is 5 levels above the tree level where the current fruit tier starts dropping 100% of the time. The bonus can still increase above this target for higher tree level, but it gradually reaches a cap (which is not shown but is around 25% above the shown target level).<br/>\u2022 Made the arrow on crop upgrade icons a bit more subtle, to look different from the arrows that can appear in the ethereal field.<br/>\u2022 Fixed a bug with the emerald fruit drop chances, they were too low.<br/>\u2022 Fixed emerald infinity acorn basic field bonus.<br/>\u2022 Fixed a typo.<br/><br/>0.11.4 - Bugfixes, balanding and QoL (2024-02-08)<br/>\u2022 Crop unlocks that have never been done before, now must be done manually the first time, not by automaton. The upgrade tab will get a special color in this case.<br/>\u2022 Fish tooltips now show total bonus of all of their type, and time-weighted as well as non-time-weighted value in case it is time-weighted.<br/>\u2022 Long-lived ferns now also show in the tooltip whether they were bushy, this information was missing.<br/>\u2022 Added warning message in infinity brassica tooltip, and exclamation mark icon, if it doesn\'t produce enough due to no shrimp.<br/>\u2022 Improved some log messages when replacing infinity crops.<br/>\u2022 Removed a potential cause of some lag when receiving an achievement on mobile.<br/>\u2022 Removed the old ability to change fruit border color by clicking the dialog icon, the "mark border color" button already allows doing it in a better way.<br/>\u2022 Fixed issue where refreshing infinity brassica sometimes didn\'t work even if having enough infinity seeds.<br/>\u2022 Fixed issue where blueprint in the start-of-run-only auto-action didn\'t work.<br/><br/>0.11.3 (2024-01-27)<br/>\u2022 Added more emerald infinity crops.<br/>\u2022 Added two more new fishes.<br/>\u2022 Deleting watercress in basic field now gives a refund (based on lifetime), improving very early game.<br/>\u2022 The time-weighted fishes now work in a time window of max 3 hours, rather than the entire run (good for multi-day runs).<br/>\u2022 Kois and oranda are now also time-weighted (in addition to eel and tang).<br/>\u2022 Added the forgotten achievements for the new infinity crops and fishes in the previous version.<br/>\u2022 Added achievements for the tower defense challenge.<br/><br/>0.11.2 (2024-01-22)<br/>\u2022 Added a new ethereal upgrade, at level 26.<br/>\u2022 Added a new ethereal crop, at level 26.<br/>\u2022 Added a new fish, the red shrimp. You can only have max one of it at the same time with no other shrimps.<br/>\u2022 Added the first two crops for the next infinity tier (emerald).<br/>\u2022 Eel and tang fishes (twigs/resin bonus) now use weighted time computation, rather than minimum ever this run.<br/><br/>0.11.1 (2024-01-02)<br/>\u2022 Added a new infinity crop.<br/>\u2022 Added a new fish type.<br/>\u2022 Added back a resin/twigs bonus for the TD challenge reward.<br/>\u2022 Tweaks and bugfixes.<br/><br/>0.11.0 (2023-12-20) - Tower Defense:<br/>\u2022 Added the tower defense challenge (unlocks at level 75), with a completely different game mechanic.<br/>\u2022 Added new production bonus reward mechanic for this challenge, it gives a multiplicative bonus for every 100 levels reached after 75.<br/>\u2022 Fixed missing time estimates for plant infinity field crop tooltips.<br/>\u2022 Fixed achievement tooltips sometimes not working.<br/><br/>0.10.9 (2023-11-29):<br/>\u2022 Limited max amount of eels and tangs in the pond<br/>\u2022 Fixed red eel and red tang not working<br/><br/>0.10.8 (2023-11-26):<br/>\u2022 Added a new infinity fish (leporinus)<br/>\u2022 Buffed infinity sapphire champignon a bit<br/>\u2022 Holiday events are from now automated with fixed dates every year, each will last for 1 month at the following dates:<br/>&nbsp;&nbsp;\u25e6 Presents: December 7th - January 7th<br/>&nbsp;&nbsp;\u25e6 Eggs: March 25th - April 25th<br/>&nbsp;&nbsp;\u25e6 Pumpkins: October 6th - November 6th<br/>\u2022 Fixed bug where achievement dialog could open multiple times.<br/><br/>0.10.7 (2023-11-04):<br/>\u2022 Added next infinity crops tier (sapphire).<br/>\u2022 Added 3 new fishes.<br/>\u2022 Buffed the red koi slightly.<br/>\u2022 UI improvements in pond: missing fish types listed, and upgrade arrows for new tiers that can be afforded.<br/>\u2022 Blueprint page in blueprint dialog is now remembered in savegames.<br/>\u2022 Internal changes for the upcoming tower defense challenge (not yet released).<br/><br/>0.10.6 (2023-10-12):<br/>\u2022 Made the amethyst infinity nettle stronger (this was done by making previous-tier nettle effect less strong but amethyst mushroom stronger to compensate).<br/>\u2022 The fruit border color can now be picked from a dialog, and two more colors added.<br/>\u2022 The halloween event (pumpkin!) automatically started a few days ago, and wil run until November 10th.<br/>\u2022 Many bugfixes and UI improvements done since last patch.<br/><br/>0.10.5 (2023-08-21):<br/>\u2022 7 new infinity crops, for new amethist tier. The 7th is a new type.<br/>\u2022 New ethereal upgrade for ethereal tree level 25.<br/>\u2022 3 new high level fishes.<br/>\u2022 New ethereal mistletoe bonus (requires evolve 15).<br/>\u2022 Buffed the rhodium nettle spores from 100% to 150% bonus, and slightly buffed its basic field bonus.<br/>\u2022 Added "u" shortcut in pond to upgrade fishes to next tier, "shift+d" to downgrade, etc... (similar to the fields).<br/>\u2022 Bugfixes.<br/><br/>0.10.4 (2023-08-01):<br/>\u2022 Higher tier ethereal ferns give more starter resources, to make a next tier more worth it compared to previous.<br/>\u2022 Fruit dialog now has "move to" option to move fruits to a certain slot, so they can be moved more easily on devices where drag and drop doesn\'t work.<br/>\u2022 Marking the fruit border color is now an explicitely visible button (it used to be somewhat hidden by clicking the fruit icon).<br/>\u2022 The fruits in the sacrificial pool now appear from left to right again (less confusing since stored fruits are also left to right), but the rows will still have the newest row at the top (so more visible).<br/>\u2022 Runestone shows up higher in the list of crops in the infinity field so it\'s easier to find when having many more crop tiers unlocked.<br/>\u2022 Long clicking a field cell now shows more actions on mobile devices, so affecting a crop under fern without picking up the fern is now possible.<br/>\u2022 Fix an issue where mobile browsers would zoom into the "import save" dialog, making the actual import button invisible.<br/>\u2022 Fixed a possible rendering performance issue with ethereal field.<br/>\u2022 An internal mechanism to support beta-test versions of the game is implemented, but not yet used for now.<br/>\u2022 Various other bugfixes and QoL, especially related to mobile devices and early game.<br/><br/>0.10.3 (2023-07-16):<br/>\u2022 Added infinity nettle (starts at rhodium tier).<br/>\u2022 Changed the way resource info is displayed, on more lines, to reduce amount of layout flickering on mobile.<br/>\u2022 Removed "swap pages" button from blueprint dialog, but this can be done with shift+click on the page button instead now.<br/>\u2022 For some challenges (where an unexpected auto-blueprint would harm the progress), auto-action will be disabled at the start now. It will re-enable again next run unless manually specifically disabled.<br/>\u2022 Automaton toggle buttons moved from side panel to bottom, so also visible on mobile devices now.<br/>\u2022 Time til next rock challenge layout change is now shown in its dialog.<br/>\u2022 Bugfixes.<br/><br/>0.10.2 (2023-07-02):<br/>\u2022 Added a new ethereal mistletoe upgrade that allows placing a second one for more neighbor boost.<br/>\u2022 Rearranged the unlock evolution levels of some ethereal mistletoe upgrades: Nuts at 10 instead of 12, lotus neighbors at 12 instead of 13, the new upgrade is at 13.<br/>\u2022 Ethereal mistletoe that is not planted next to tree now shows a less fullgrown graphic to indicate the problem.<br/>\u2022 Fixed bug with not unlocking next tiers when automaton auto-action overrides fullgrown crop.<br/>\u2022 Fixed bug with truly basic speed achievements.<br/>\u2022 Fixed bug where challenge completion screen would say "abort" despite completion.<br/><br/>0.10.1 (2023-06-18):<br/>\u2022 Eel and tang now must be in pond during entire run to keep their effect.<br/>\u2022 The new minimum level for bonus requirements of challenges have been lowered so that the production bonus gotten when not managing to complete a challenge is still meaningful.<br/>\u2022 Added the missing poison ivy achievements.<br/><br/>0.10.0 (2023-06-18):<br/>\u2022 Added next-tier stingy crop and a new challenge to unlock it.<br/>\u2022 New level 24 ethereal crop.<br/>\u2022 Challenge bonuses are now all applied individually rather than additive to each other. The formulas have been tuned down to take this into account. This makes each individual challenge bonus more significant.<br/>\u2022 Several challenges now get a minimum level at which the bonus only begins.<br/>\u2022 Fixed missing eel twigs bonus.<br/>\u2022 Tweaks and fixes.<br/><br/>0.9.4 (2023-05-23):<br/>\u2022 Added rhodium infinity crops.<br/>\u2022 Added 3 new fish types.<br/>\u2022 Added achievements for fishes.<br/>\u2022 You can now shift+click weather to change perma-weather without altering currently active weather.<br/>\u2022 Added "Move blueprint" option to blueprints to reorganize their ordering.<br/>\u2022 Added volume setting to the notification sounds.<br/>\u2022 Undeletable runestones are now rendered with a highlighted border.<br/>\u2022 More info shown in the choice upgrade info dialog in automaton settings: unlock level and current status.<br/>\u2022 Dialog and button style tweaks.<br/>\u2022 Other UI tweaks.<br/>\u2022 Bugfixes.<br/><br/>0.9.3 (2023-05-01):<br/>\u2022 Added two new fish types to infinity pond.<br/>\u2022 Added two new ethereal mistletoe upgrades.<br/>\u2022 Added one new high level ethereal crop.<br/>\u2022 Goldfish boosts all infinity seeds now, so also brassica.<br/>\u2022 Changed the ethereal mistletoe upgrades UI to combine buttons and effects.<br/>\u2022 Various tweaks and fixes.<br/><br/>0.9.2 (2023-04-03):<br/>\u2022 Idle choice upgrade improvements:<br/> - Watercress also gets infinite lifetime now, like wasabi<br/> - Ferns get charged with up to a few hours worth of resource production after being idle for a long time. Most are past resources, not current-weather interacting production, but some are.<br/>\u2022 Distinction between brassica fruit and non-brassica fruit multiplier for end-of-life brassica removed.<br/>\u2022 Watercress now gives at least 1 seed/s at start of infernal challenge so it can be bootstrapped without ethereal fern.<br/>\u2022 UI tweaks, including tooltip typo fixes.<br/><br/>0.9.1 (2023-03-27):<br/>\u2022 Added platinum infinity crops.<br/>\u2022 New fish type added.<br/>\u2022 Bees in infinity field now also give a slight boost to infinity mushrooms, through the flowers.<br/>\u2022 Autumn now also makes mushrooms consume less seeds.<br/>\u2022 Reordered how some resources are shown at the top, to line up resin/twigs, seeds/infinity seeds and spores/infinity spores.<br/>\u2022 Various tweaks.<br/><br/>0.9.0 (2023-03-23):<br/>\u2022 New infinity crop: golden mushroom.<br/>\u2022 Added ability to place fishes in the infinity pond, available once you have infinity mushrooms. Only a few fish types added in this first version of it.<br/><br/>0.8.6b (2023-03-18):<br/>\u2022 Fixed bug: auto-planting of ethereal blueprints was sometimes not working.<br/>\u2022 UI tweaks, including better sorting order for planting ethereal crops.<br/><br/>0.8.6 (2023-03-15):<br/>\u2022 Eggs event configured to start on March 20th! Eggs with random rewards will drop every now and then. The event will run until April 20th.<br/>\u2022 Added two new crops and 1 new upgrade for ethereal tree level 22.<br/>\u2022 Added one more infinity crop (more coming soon).<br/>\u2022 Made berry boost, mushroom boost and spores overload stronger on emerald fruits.<br/>\u2022 Ethereal field crops now show an upgrade arrow icon if a higher tier is unlocked and affordable but not yet bought. These icons only serve as a reminder when a new tier is unlocked, and will not show up once a single crop of this tier is present anywhere on the field.<br/>\u2022 Other tweaks and fixes.<br/><br/>0.8.5 (2023-03-08):<br/>\u2022 It\'s now possible to recover sacrificed fruits that were dropped by the tree last run. This is for in case some fruits were forgotten, it is not usable as permanent storage.<br/>\u2022 Added more infinity runestone achievements.<br/><br/>0.8.4 (2023-03-05):<br/>\u2022 Resin/twigs fruit bonus now also works when they aren\'t active but have given some spores buildup before.<br/>\u2022 Added more rocks challenge reward stages.<br/>\u2022 Added more ethereal upgrades for fruit slots.<br/>\u2022 2-season fruit fusing bugfix.<br/><br/>0.8.3 (2023-03-05):<br/>\u2022 Rebalanced the resin and twigs fruits to be about as good as before the "fern trick" for high level fruits, but without needing the trick. The resin/twigs given are now based on spore production with any resin/twigs active instead of time, they now give an additional small production bonus, and the resin/twigs bonus itself is increased.<br/>\u2022 Unused twigs now also give a little bit of production bonus, but much less than resin does.<br/>\u2022 "Final form" restriction of fruit fusing obsoleted: dragon fruits and star fruits can now be mixed with anything, but the result is the lowest fruit type.<br/>\u2022 New fruits now show up at the beginning, rather than at the end, of the sacrificial pool, so the higher ones will be visible at the front instead of at the back<br/>\u2022 Using the shortcuts p, u or d on crops of the field no longer picks up ferns.<br/>\u2022 Added shortcut shift+p to overplant crop (reminder: without shift, p picks (=remembers) a crop, and plants it on empty field).<br/>\u2022 Small fixes<br/><br/>0.8.2 (2023-02-27):<br/>\u2022 Added two more wither challenge reward levels for auto-actions<br/> - Ethereal auto-blueprints. Note: if you use this feature, ensure to keep your ethereal blueprints up to date to not make it plant outdated ones!<br/> - Another auto-action slot, but this one is limited and only works at start-of-run. It can automatically set the correct fruit, weather, ... at start of runs. It can also be activated with the 0-key if number keys are configured for auto-actions.<br/>\u2022 Removed "fern trick" with resin/twigs fruits<br/>\u2022 Tweaks and fixes<br/><br/>0.8.0 (2023-02-05):<br/>\u2022 Added emerald fruit tier, dropping starting from tree level 160. Changes compared to sapphire fruits: one more ability slot, a new ability type added, bee and weather ability types removed<br/>\u2022 Fruit growth speed values slightly tweaked for more spread across tiers.<br/>\u2022 Added "neighbor boost to here" stat in ethereal field crop popup, which allows to more easily identify which field spot has which total boost from lotuses, automaton, etc...<br/><br/>0.7.10 (2023-01-22):<br/>\u2022 Added 9x8 field size upgrade at ethereal tree level 21.<br/>\u2022 Partially added gold infinity tier. This tier progresses slower than previous tiers.<br/>\u2022 Buffed the electrum infinity flower and beehive.<br/>\u2022 Third and higher runestones are now much more expensive, they were cheaper than intended compared to the seed income of next infinity crop tiers. Existing ones above two (not reachable now but theoretically later) will be removed and refunded.<br/>\u2022 Runestone non-deletion time changed from 23 hours to 20 hours.<br/>\u2022 Increased higher infinity crop achievement bonus scaling.<br/><br/>0.7.9 (2023-01-07):<br/>\u2022 Added "reset choice upgrades" amber effect.<br/>\u2022 The brassica time upgrade in squirrel evolution II now also adds 50% copying.<br/>\u2022 Tree\'s gesture upgrade tooltip is now dynamic, showing current and next values.<br/>\u2022 Further extending the long-press touch device support: most buttons now can show their tooltip by long-pressing them, e.g. most settings-dialog buttons and the amber buttons.<br/><br/>0.7.8 (2023-01-02):<br/>\u2022 Mainly bugfixes, no gameplay changes for now.<br/>\u2022 During stormy challenge a lightning can be briefly seen now when a crops is hit.<br/>\u2022 The game auto-saves more often after doing player actions now, decreasing chance of lost actions when closing browser. Also repurposed the "save when refreshing tab" setting to "save after each action" for this. The setting should be on (the default) to get the new extra extra auto-saves.<br/>\u2022 Some buttons (undo, refresh brassica and import save) reveal extra functions when long pressing them, to access these features on mobile. These features were already accessible using the shift/ctrl key on other devices and are listed in the shortcuts help dialog. (this feature was already released a few days before this patch note but is now actually listed)<br/>\u2022 Fixed issue with undo after auto-action happened during sped-up time<br/><br/>0.7.7 (2022-12-24):<br/>\u2022 Added 3 new ethereal crops (for levels 19 and up).<br/>\u2022 Added electrum infinity tier, with 5 new infinity crops.<br/>\u2022 Slightly buffed silver infinity flower and bee.<br/>\u2022 Added an achievement for each infinity crop type.<br/>\u2022 Presents containing seeds or spores now reveal this in the tooltip.<br/>\u2022 Added button to swap the contents of the two pages in the blueprint dialog. This affects auto-actions, since they refer to blueprints by number.<br/>\u2022 Added the accidently forgotten hat to automaton and squirrel in ethereal field.<br/>\u2022 Various tweaks and bugfixes.<br/><br/>0.7.6 (2022-12-05):<br/>\u2022 Enabled holiday event, it will activate on december 6th (depending on time zone) and last for 1 month. Presents with random effects will drop!<br/>\u2022 Bugfixes.<br/><br/>0.7.5 (2022-11-27):<br/>\u2022 Added 4 new infinity field crops.<br/>\u2022 Added a new ethereal mistletoe upgrade (requires more evolution).<br/>\u2022 Removed all time restrictions for deleting crops in ethereal field, and ethereal crops have their effect immediately rather than after growing. This is a test, some form of rate-limiting the changing of ethereal crops may come back in the future if this creates strategies that require too much activity.<br/>\u2022 Increased the flower effect of the ethereal spring upgrade from 25% to 33%, and the spring grow speed bonus from 20% to 25%<br/>\u2022 Added "upgraded crop" as a possible automaton action trigger<br/>\u2022 Auto-actions can now also be done manually, assigned to number shortcut keys, and the side panel got a small auto-action configuration button<br/>\u2022 When taking a fern when tree has just been leveling up, it now uses the best time at level from the last few minutes for its computation (when time at level production bonus is unlocked). When e.g. just switching from a seeds to a spores fruit, this was already achievable before by clicking fast enough, but now fern works well for auto actions too.<br/>\u2022 UI tweaks and fixes.<br/><br/>0.7.4 (2022-11-09):<br/>\u2022 Fix timing race condition issue that could cause season jumps during hold season.<br/>\u2022 Added back the season +1 hour amber ability<br/>\u2022 Added "Total resin allocation" stat in the resin info dialog.<br/><br/>0.7.3 (2022-11-08):<br/>\u2022 Added more infinity crops<br/>\u2022 Added new amber ability, "hold season", which holds the same season the entire run.<br/>\u2022 Slight discount for the season -1h amber ability, and removed the +1h one since "hold season" allows the same but better.<br/>\u2022 Time where freely deleting in ethereal field is possible at start of run increased from 10 to 30 minutes.<br/>\u2022 In mixed seed+spore layouts, automaton heuristics will prioritize some flowers intended for mushrooms too now.<br/>\u2022 More infinity seeds related info shown in dialogs, including detailed breakdowns for infinity crops.<br/>\u2022 Added "clear infinity field" button to automaton.<br/><br/>0.7.2 (2022-10-31):<br/>\u2022 Added nut prestige for all the nut crops.<br/>\u2022 Fixed high tier nut medals giving too much bonus compared to other crop achieves.<br/>\u2022 Increased bonus of seeds amount and tree level achieves, which should make up for the decreased nut achievements bonus.<br/>\u2022 The automatic border for named or fused fruits is now more subtle.<br/>\u2022 Improved fruit background color contrast. Reason for the visible change in 0.7.1 is that since this release fruits have the same background color in both dark and light UI themes, and that change was done because some border colors were hard to see against the light UI backgrounds.<br/>\u2022 Various fixes.<br/><br/>0.7.1 (2022-10-30):<br/>\u2022 Added two new infinity field crops.<br/>\u2022 Added "i" shortcut to go to infinity field tab.<br/>\u2022 UI tweaks: viewing pre-evolution squirrel tree, more notations for entering auto-action time, merged two groups of fruit fusing checkboxes, fruit border color tweaks, ...<br/><br/>0.7.0 (2022-10-24):<br/>\u2022 Added the infinity field, a third field tab in the game. This requires ethereal tree 20 to unlock. For this first release, the infinity field has only a single crop, as an initial test of this new feature (which also means it could change). Later more crops will be released.<br/>\u2022 Small tweaks and fixes.<br/><br/>0.6.6 (2022-10-10):<br/>\u2022 Added a halloween event, which unlocks a pumpkin crop that takes 2x2 field spaces, requiring new layouts to use it well. This event will last 1 month.<br/>\u2022 Added a page 2 to the blueprint dialog, doubling the amount of available blueprints. The "p" key is a shortcut to switch pages.<br/>\u2022 Bugfixes.<br/><br/>0.6.5 (2022-09-18):<br/>\u2022 In spring, bees can now diagonally reach flowers (but not in the rockier challenge).<br/>\u2022 Fixed auto-action taking fern before all blueprint templates planted by automaton: it now waits a few seconds before picking up fern.<br/>\u2022 Fixed auto-action select crop dialog not showing already-known crops from previous runs<br/>\u2022 Auto-action triggers can now be re-used if edited and given a condition in the future, e.g. if an auto-action recently triggered 1 hour into the run and you now set it to trigger after 2 hours, it will trigger again at that time.<br/>\u2022 Editing auto-actions to give them a condition in the past (for the current run) will no longer trigger them while or after editing them.<br/>\u2022 Added missing wither challenge stage completion medals (and another new achievement).<br/>\u2022 When having the stormy challenge reward, if auto-action activates weather at start of run, when the weather is not yet unlocked, it\'ll still be setup as the permanent weather.<br/>\u2022 Auto-action time-based trigger can now be entered in the format hours:minutes or hours, rather than minutes (so you can e.g. type 3 or 3:00, instead of 180, for 3 hours).<br/><br/>0.6.4 (2022-09-12):<br/>\u2022 Auto-action can now also activate weather, refresh brassica and take fern. This must be unlocked first with a new stage of the wither challenge.<br/>\u2022 Added a third auto-action slot as reward for another new stage of the wither challenge.<br/>\u2022 There\'s now an auto-action toggle in the side panel.<br/>\u2022 UI tweaks.<br/><br/>0.6.3 (2022-09-04):<br/>\u2022 Automaton auto-action (formerly named auto-blueprint) can now also automatically choose a fruit to switch to.<br/>\u2022 Automaton auto-action can now also use time since start of run as a possible action trigger.<br/>\u2022 Expected total income per second (once all crops are fullgrown) is now shown in the top resource tooltips for seeds, spores and nuts.<br/>\u2022 Rockier challenge completion levels now also shown on its button when choosing challenges, when all rockier cycles have already been done.<br/>\u2022 When importing a blueprint from text, tab characters are now ignored, so importing from a spreadsheet works.<br/><br/>0.6.2 (2022-08-30):<br/>\u2022 The ethereal mistletoe evolution no longer boosts the twigs or resin bonuses. The base value of the twigs and resin bonuses was increased to compensate.<br/><br/>0.6.1 (2022-08-28):<br/>\u2022 In the evolved squirrel upgrade tree, combined the 3 fruit probability upgrades into 2, and changed one into a new upgrade.<br/>\u2022 Added two more ethereal mistletoe upgrades (requiring higher evolution).<br/>\u2022 Pressing the enter key on a button focused with tab now also activates it. Let me know if this causes any issues.<br/>\u2022 Various other tweaks and bugfixes.<br/><br/>0.6.0 (2022-08-20):<br/>\u2022 Added ethereal mistletoe. Only one of this crop can be planted in the ethereal field, and it has upgrades inside that cost time. Unlocks at ethereal tree 15.<br/>\u2022 Added another new high level ethereal crop.<br/>\u2022 Automaton auto-blueprints can now also use unlocked or planted crop types as a trigger condition.<br/>\u2022 Added more truly basic challenge speed achievements<br/>\u2022 Added one more rocks challenge reward stage<br/>\u2022 Added a few more fruit-marking border colors. As a reminder, fruit border colors can be chosen by clicking the fruit icon in the "configure fruit" dialog (marking as favorite).<br/>\u2022 The game now starts with 10 seeds rather than 0 seeds, so a watercress can be planted immediately without collecting ferns in the first playthough.<br/>\u2022 Ferns spawn at regular rate at the start of the game now, rather than sped up.<br/>\u2022 All ethereal ferns give 10x more seeds, e.g. the first one now gives 1000 seeds.<br/>\u2022 Brassica production upgrade now only gives +25% instead of +100% seeds. Only early-game income is briefly affected by this.<br/>\u2022 During the basic and truly basic challenge, as well as any other run other than the first playthrough, the blackberry unlock now becomes visible after a single watercress rather than after 10.<br/>\u2022 Reordered some of the evolved squirrel upgrades near the end.<br/>\u2022 UI tweaks and fixes.<br/><br/>0.5.0 (2022-08-01):<br/>\u2022 Automaton features get unlocked earlier and there\'s a new automation feature too:<br/>&nbsp;&nbsp;1. Auto-plant is now unlocked immediately when getting automaton (at ethereal tree level 1, without a required challenge), instead of auto-choice. Before, auto-plant unlocked only at ethereal tree level 3 with the wither challenge<br/>&nbsp;&nbsp;2. Auto-upgrades and auto-choice now both unlock at ethereal tree level 2, with the no-upgrades challenge.<br/>&nbsp;&nbsp;3. Blackberry challenge now appears at ethereal tree level 3 instead of 4. This means automaton auto-unlock is now available already at ethereal tree level 3.<br/>&nbsp;&nbsp;4. Wither challenge now unlocks at ethereal tree level 5 instead of 3, and unlocks a completely new ability: auto-blueprint override (before it unlocked auto-plant).<br/>\u2022 The new auto-blueprint override ability allows to program the automaton to override the field with a chosen blueprint once a chosen tree level is reached.<br/>\u2022 Challenge target levels tweaked where appropriate, e.g. the second target of the no upgrades challenge got harder, and wither much higher.<br/>\u2022 Blackberry secret, blueberry secret and cranberry secret all unlock one ethereal tree level earlier now.<br/>\u2022 Blueberry secret and cranberry secret now also come with other unlocks (anemone, champignon, ...) already bought rather than just made visible.<br/>\u2022 Resin income from transcensions reduced during the first 10 minutes of the run to prevent resin/hr being higher after 1 minute than rest of the run when not having resin extraction yet.<br/>\u2022 Various other tweaks and fixes.<br/><br/>0.4.0 (2022-07-11):<br/>\u2022 Added squirrel evolution at the end of the squirrel upgrade tree. When purchased, this resets the squirrel tree to a new one with a new mix of new and old upgrades. This makes production initially significantly weaker, but allows getting much stronger than before eventually.<br/>\u2022 Added 4 more tiers of nuts crops.<br/>\u2022 In squirrel UI, simplified the rule used when it reveals the name of the upgrade or shows "???". There are no more red colored chips, only gray for those that aren\'t in reach to buy.<br/>\u2022 Added ctrl+z as shortcut for undo.<br/>\u2022 Fixed lightning bolt after game pause during stormy challenge.<br/>\u2022 Fixed automaton cost configuration dropdowns, which broke by the modal dialogs update.<br/>\u2022 Various other fixes and tweaks.<br/><br/>0.3.5 (2022-06-26):<br/>\u2022 Improved HTML aria annotations of modal dialogs and fruit fusing dialog. It should no longer be possible to access HTML elements that are not part of the currently active dialog.<br/>\u2022 Fixed bug preventing field size change during non-truly basic challenge.<br/><br/>0.3.4 (2022-06-25):<br/>\u2022 Improved HTML aria annotations for automaton dropdowns.<br/><br/>0.3.3 (2022-06-23):<br/>\u2022 Added 2 new ethereal crops and 2 new ethereal upgrades (field size), requires high level ethereal tree to unlock.<br/>\u2022 Ethereal tree now has a dialog to see the things that got unlocked at previous levels.<br/>\u2022 Bugfixes, including a minor fruit fusing dialog bug.<br/><br/>0.3.2 (2022-06-12):<br/>\u2022 When fusing fruits, you can now choose to keep or discard two-star [**] abilities that get transferred, and also change the priority of which abilities get pushed out by the transferred ones. Scroll down in the fuse dialog to see these new controls, but they are only visible if there\'s a two-star [**] ability in the "from"-fruit.<br/>\u2022 Layout and help of the fuse fruit dialog slightly adjusted for clarity.<br/>\u2022 Fusing a fruit that\'s worse than the original is no longer prevented: it\'s easier to learn how fusing works when allowed to see all the possible results.<br/>\u2022 Minor fixes.<br/><br/>0.3.1 (2022-05-24):<br/>\u2022 Fixed sapphire fruit treelevel ability: it scaled up too early and should only start becoming good around tree level 145<br/><br/>0.3.0 (2022-05-22):<br/>\u2022 Added the infernal challenge.<br/>\u2022 Added sapphire fruits. In these, relative importance of some abilities is changed: nettle and mushroom more important, weather less important<br/>\u2022 Seed overload slightly buffed for both amethist and sapphire fruits.<br/>\u2022 Added a first truly basic speed achievement (level 10 in 2.5 hours).<br/>\u2022 When getting automaton, the watercress upgrade is now visible from the start (as a reminder, when not yet having blackberry secret).<br/>\u2022 Tuned automaton plant order heuristics for mushrooms with brassica, and brassica fruit.<br/>\u2022 Typo fixes.<br/><br/>0.2.2 (2022-05-15):<br/>\u2022 Removed the red tutorial arrows, only the goals serve as the tutorial now.<br/><br/>0.2.1 (2022-05-14):<br/>\u2022 Added setting to disable roman numerals (for upgrade and fruit levels). It will still display them up to 12 (XII), but after that it switches to decimal.<br/>\u2022 Renamed the "save on close" setting to "save on refresh tab": this setting only works for closing tabs, but not when closing the entire browser or shutting down computer.<br/>\u2022 The seeds and spores tooltips now also show max amount had so far this run.<br/>\u2022 Tweaks to the early game tutorial.<br/><br/>0.2.0 (2022-05-11):<br/>\u2022 New version number scheme: the middle number now is incremented for changes with significant effect on gameplay (e.g. a new challenge, ...), and the rightmost for smaller tweaks or bugfixes.<br/>\u2022 New shortcuts added: "f" goes to basic field tab, "e" goes to ethereal field tab, in blueprint edit dialog "f" sets blueprint from field, "enter" overrides field with blueprint.<br/>\u2022 Removed the "shortcuts may delete crop" setting, it\'s always allowed now.<br/>\u2022 Added a new tier name and color, amethyst, to get 12 tiers total. There doesn\'t seem to exist a memorable real or fictional gem considered more precious than diamond, so it had to be inserted before sapphire: sapphire fruits now became amethyst.<br/>\u2022 Achievement tier value requirements increased. This is purely cosmetic.<br/>\u2022 Ethereal blueprints now show the resin cost.<br/>\u2022 Ethereal blueprints now get planted with priority around the tree spiraling outwards, to get likely important crops first when there\'s not enough resin.<br/>\u2022 "Clear ethereal field" action is now available in the automaton tab even if the automaton is absent.<br/>\u2022 The time to freely replant ethereal field at start of a run extended to 10 minutes.<br/>\u2022 Tweaks and fixes<br/><br/>0.1.104 (2022-05-02):<br/>\u2022 Ethereal delete tokens have been removed from the game. Instead, the ethereal field can now be freely replanted at the beginning of any run, any time later in the run, and every 2 hours thereafter. Templates can always be freely deleted. To prevent stuck situations, replacing a crop with a squirrel or automaton is always possible if no other free field spots are available.<br/>\u2022 Blueberry secret and cranberry secret now also already buy the unlock upgrade for free (rather than merely make it visible), for clarity and consitency with blackberry secret. They also no longer make unlock clover visible, instead blueberry secret makes unlock anemone immediately visible.<br/>\u2022 Bugfixes.<br/><br/>0.1.103 - Early game balancing (2022-04-27):<br/>\u2022 Added a new bee tier for the basic field.<br/>\u2022 Added achievements for amount of nuts, and more for seeds.<br/>\u2022 The "time at level" bonus is now weighted with the duration of several previous levels.<br/>\u2022 Added goals, an interactive tutorial for the early game, giving direction up to unlocking of automaton. Goal chips appear above the message log.<br/>\u2022 Reduced spore production of mushrooms above champignon by 25% but increased nettle/thistle boost by 25% and made them cheaper to compensate exactly. This makes nettles more interesting during the first run of the game.<br/>\u2022 Mistletoe now unlocks after blackberry instead of after blueberry (still requires the ethereal upgrade), and is cheaper.<br/>\u2022 The first ethereal tree level now costs 72 instead of 144 twigs, and the second 1296 instead of 1728. All others stay the same (powers of 12).<br/>\u2022 Tweaked automaton planting heuristics to prefer berries touching brassica a bit more.<br/>\u2022 Changed some blueprint letter symbols, due some crops having become whole series, and for possible future crop types. The changes are: stinging: S (was: N), bees: Z ("buzz", was: H), squirrel: Q (was: S), nuts: N (was: U)<br/>\u2022 Renamed some in-game names for clarity: old beehive -> "bee nest", new beehive -> "beehive", beehive crop type -> "bee", prickly/nettle crop type -> "stinging", upgrade crop (in field) -> "tier up"<br/>\u2022 Twigs resource display, tree spore requirement and automaton tab appear sooner in early game, for clarity.<br/>\u2022 Bugfixes and UI improvements.<br/><br/>0.1.102 (2022-04-18):<br/>\u2022 Added stormy challenge with perma weather reward.<br/>\u2022 Added 6 new higher level ethereal crops.<br/>\u2022 Added reward level caps to basic and truly basic challenge, and tweaked their bonuses to give more earlier, but diminishing returns later. The caps are very high and not intended to be reached as this takes a long time and rewards are very diminishing at that point.<br/>\u2022 Mushroom boost and nettle boost fruit abilities a bit increased.<br/>\u2022 Shift + click, and shift + number key in blueprint dialog now plants with overriding rather than without (and the ctrl shortcut got deprecated).<br/>\u2022 Reorganized the challenge info dialog in more sections to more easily find rules, goal and rewards between the text.<br/>\u2022 Bugfixes.<br/><br/>0.1.101 (2022-04-16):<br/>\u2022 A new first flower tier, anemone, is now available after blackberry instead of cranberry, much sooner, to improve the early game experience.<br/>\u2022 Lategame flower prices and effects are the same (including prestiged anemone which is what sunflower used to be).<br/>\u2022 In the ethereal field flowers changed names, but the effects are same as before.<br/>\u2022 This causes some achievements (for highest flower tier) to have to be re-earned, sorry for the incovenience.<br/>\u2022 Mushroom and flower achievements give a slightly higher boost.<br/>\u2022 Seeds income now only shows a gray numeric value if more than two thirds of seed production goes to mushrooms (as a warning), and it now shows the potential total production, rather than a negative value.<br/>\u2022 The blueprint dialog now supports shortcut keys 1-9 to select a blueprint.<br/><br/>0.1.100 - Fruity update (2022-04-10):<br/>\u2022 Added sapphire fruits, and new fruit abilities only available from this tier.<br/>\u2022 New fruit mixing type, unlocked by new squirrel upgrade. The original dragon fruit got renamed to star fruit, but behaves exactly the same.<br/>\u2022 Added a few extra fruit storage space upgrades and other ways to get some.<br/>\u2022 Due to UI space reasons, only the first 10 fruit slots can be selected as active now, the others are purely storage.<br/>\u2022 Added a new choice upgrade (resin vs production).<br/>\u2022 Added new crop count achievements.<br/>\u2022 Various other tweaks.<br/><br/>0.1.99 (2022-04-04):<br/>\u2022 New event started! Eggs with random rewards will drop every now and then. It will run throughout April.<br/>\u2022 Changed the graphics of the bee challenge: now it has in order: worker bee, drone, queen bee. This to avoid confusion with the differently functioning main game beehive. The queen also got a crown.<br/>\u2022 Made undeletable challenge a bit harder.<br/>\u2022 Made font sizes more consistent.<br/>\u2022 Fixed fern resource computation in case of growing flowers.<br/>\u2022 Various minor UI tweaks.<br/><br/>0.1.98c (2022-03-27):<br/>\u2022 Increased bonus of some of the resin and other achievements.<br/>\u2022 Crops in the final time units of growing will now already show the final fullgrown image (but still with progress bar).<br/>\u2022 New easier shortcut to transcend without blueprint: "t", "enter".<br/>\u2022 Exporting ethereal blueprint as TXT now inlcudes the tier numbers.<br/>\u2022 Bugfixes<br/><br/>0.1.98 - Balancing and QoL (2022-03-20):<br/>\u2022 Added a new ethereal upgrade.<br/>\u2022 Active weather can now be changed while one is running. This doesn\'t allow multiple at the same time and the use-time of the old one is lost.<br/>\u2022 Fern resources are now computed as if all crops are fullgrown, so clicking a fern is no longer bad if new crops just started growing.<br/>\u2022 In the passive fern choice, ferns that are not taken for a long time now have a chance to become bushy.<br/>\u2022 Added support for ethereal blueprints.<br/>\u2022 Using blueprints no longer requires the automaton to be present, but still requires it to be unlocked.<br/>\u2022 More tree level based achievements and more appropriate bonus values for them.<br/>\u2022 Challenge start button tooltips now mention when challenge was last run (once known).<br/>\u2022 Starting a challenge now also allows starting with blueprint more easily (with shortcuts: "t", "c", choose challenge, "b", choose blueprint).<br/>\u2022 Other UI improvements and bugfixes.<br/><br/>0.1.97 (2022-03-06):<br/>\u2022 All tiers of flowers, mushrooms and berries can now be prestiged.<br/>\u2022 Added two new nut tiers (to keep alphabetic naming order, some tier names have shifted).<br/>\u2022 Added "Plant entire field" option to automaton tab, which plants the same crop on all empty spots.<br/>\u2022 Dark scrollbars for dark mode themes (experimental browser dependent feature).<br/>\u2022 Various small tweaks and fixes.<br/><br/>0.1.96b (2022-02-25):<br/>\u2022 Fixed game balance breaking bugs.<br/><br/>0.1.96 (2022-02-09):<br/>\u2022 Added new fruit tier (rhodium)<br/>\u2022 Tweaks in earliest game: watercress upgrade from 50% to 100%, blackberry unlock needs 10 instead of 5 watercress, red tutorial arrows added.<br/>\u2022 Performance improvements.<br/>\u2022 Bugfixes.<br/><br/>0.1.95 (2022-01-19):<br/>\u2022 One more prestigeable berry added.<br/>\u2022 New ethereal crops and upgrades for ethereal tree level 9 to 12.<br/>\u2022 Holiday event ended.<br/>\u2022 Fixed issue with offline computation and the time based squirrel upgrade, and other bugfixes.<br/><br/>0.1.94 (2021-12-28):<br/>\u2022 Initial version of "prestige" released, a single berry type can be prestiged in this version.<br/>\u2022 Added one more tier of flower.<br/>\u2022 Added two new challenges (one is a harder variation of the other).<br/>\u2022 Added one more completion target level for the rocks challenge.<br/>\u2022 Various small fixes.<br/><br/>0.1.93 (2021-12-17):<br/>\u2022 Holiday event started!<br/>&nbsp;&nbsp;- Presents with random rewards will drop.<br/>&nbsp;&nbsp;- The squirrel and automaton got a festive hat.<br/>&nbsp;&nbsp;- This event will be active for 1 month.<br/>\u2022 Ethereal crop grow times made faster.<br/>\u2022 Other tweaks and fixes.<br/><br/>0.1.92 (2021-12-05):<br/>\u2022 Added one more tier of berry and mushroom. To keep the name order of tiers alphabetical, they are inserted in the place of certain existing crops, so some currently planted crops may have changed name and image. Their stats are the same though.<br/>\u2022 Added three more tiers of nuts.<br/>\u2022 Added eight new squirrel upgrades.<br/>\u2022 Fruit nerf: Creating a dragon fruit now requires two two-seasonal fruits with the same abilities, and a dragon fruit can no longer itself be fused with anything. This makes it more challenging to create it, but is done because it was trivial to make a dragon fruit once having one perfect two-seasonal fruit, making it irrelevant.<br/>\u2022 Fruit buff: The upgrade cost scaling of linear boost fruit abilities is now cheaper. Check your your fruit tab, since you can likely upgrade their abilities significantly. As a reminder: shift+clicking the fruit ability upgrade button will upgrade it multiple times<br/><br/>0.1.91 (2021-11-21):<br/>\u2022 Brassica/watercress winter penalty now removed when next to the tree (but no exception during the wasabi challenge anymore), so useful again during winter<br/>\u2022 Bugfixes and UI tweaks: upgrades in message log setting, wasabi during wither challenge, another \'potential\' income display bugfix, ...<br/>\u2022 Tweaks: new \'gated\' squirrel upgrade connector style, performance tweak related to infinite lifetime wasabi, added overlay text if game is computing multiple seasons after long inactivity...<br/><br/>0.1.90 "Wasabi update" (2021-11-08):<br/>\u2022 Added wasabi, the next tier of watercress, with 25% more copying and lifetime, and a challenge to unlock it.<br/>\u2022 Watercress and wasabi are of type \'brassica\', and now this name is used where \'watercress\' was used before.<br/>\u2022 Brassica are now negatively affected by winter (except during the wasabi challenge), for more seasonal variety.<br/>\u2022 Fruits of high tier dropping in main fruit storage is now a setting (off by default).<br/>\u2022 More ethereal tree achievements added and they give more bonus.<br/>\u2022 A dialog now pops up when the ethereal tree levels up with the list of things it unlocked. This because it was easy to miss its levelup before.<br/>\u2022 UI tweaks and fixes.<br/><br/>0.1.89 (2021-10-24):<br/>\u2022 High-yield watercress choice upgrade now begins at +50% copying bonus but after a while this goes down towards no bonus (it can be refreshed back to 50%), prevously this was a constant +33%. This can get more out of weather+fern combo, but is more active.<br/>\u2022 Sturdy watercress choice upgrade now only gives +50% lifetime duration, but now gives a constant +25% copying bonus. About the nerfed lifetime duration: a later update will add another form of longer duration instead.<br/>\u2022 Buffed the rainbow weather base bonus from 50% to 75%.<br/>\u2022 Added a setting for number key shortcuts: choice of activate weather, change tabs, or change active fruit slot. See main menu -> preferences -> controls.<br/>\u2022 A fruit that\'s of higher tier or season type than ever seen before can now drop in the stored fruits rather than sacrificial pool. And custom-named fruits show their name in the fruit tab when active.<br/>\u2022 Other minor QoL improvements.<br/><br/>0.1.88 (2021-10-10):<br/>\u2022 Ferns at game start now give at minimum the starter resources from ethereal ferns.<br/>\u2022 Added new choice upgrade for watercress.<br/>\u2022 Increased ethereal neighbor bonus from automaton and squirrel in the ethereal field.<br/>\u2022 Ethereal delete tokens revamp to allow more individual crop deletions and more full field replacements per season cycle:<br/>&nbsp;&nbsp;- Gives more ethereal delete tokens per season: 50% of your ethereal field cells, rather than just 2 or 3, and can carry 4x that amount.<br/>&nbsp;&nbsp;- Deleting the entire field now costs as much tokens as all individual deletions, rather than just 4 tokens, and this option is now in the automaton UI.<br/>&nbsp;&nbsp;- The reward for the "undeletable" challenge changed from ethereal token related reward to: more recoup for deleting regular crops<br/>\u2022 Certain bee related achievements now have a more fair requirement.<br/>\u2022 Watercress copying penalty when having 2 watercress reduced, but increased for more than 3 watercress.<br/>\u2022 Various UI tweaks: start-challenge button tooltips, upgrade cost in tooltips, overconsumption display fix if watercress next to mushrooms, ...<br/><br/>0.1.87 (2021-09-19):<br/>\u2022 New ethereal upgrade.<br/>\u2022 New ethereal crops. Includes bees.<br/>\u2022 Fruit tab color now hints when a non-production fruit is active.<br/>\u2022 Cosmetic tweaks.<br/><br/>0.1.86b (2021-08-28):<br/>\u2022 Fixed issue with the soft cap of grow times, so that early grow speed upgrades affect all plants at least some visible amount.<br/><br/>0.1.86 (2021-08-25):<br/>\u2022 Balanced flower upgrade costs to keep later tiers relevant.<br/>\u2022 Increased boost of squirrel upgrades for flower boost, berry boost and mushroom boost.<br/>\u2022 Fixed bug where time that resin fruit was active wasn\'t taken into account. Its bonus is supposed to only work depending on how long it was active during the last tree-level.<br/>\u2022 Ferns now give resources based on the current income when you click, rather than when they spawned or when they internally refreshed.<br/>\u2022 Resource multiplier of extra bushy ferns decreased, except for very early game. To compensate, extra bushy ferns now give a small amount of resin (0.5% of highest run for 2-minute ones). This resin itself is not counted for highest run stat, and not included in the /hr stats, but otherwise given as upcoming resin as usual.<br/>\u2022 Improved automaton heuristic for choosing which flowers to plant/upgrade first in the field, taking the other boosts of berries into account.<br/>\u2022 Bugfixes, performance improvements and other tweaks.<br/><br/>0.1.85 (2021-08-17):<br/>\u2022 Added two more tiers of nut crops<br/>\u2022 Decreased grow times of mushrooms, flowers and nuts<br/>\u2022 Wither challenge now allows using blueprints, after a new third stage of it is completed.<br/>\u2022 In the transcend dialog, shortcut key "c" added to open challenge dialog.<br/>\u2022 Other small tweaks, fixes and a performance improvement.<br/><br/>0.1.84 (2021-07-30):<br/>\u2022 Added the thistle challenge and thistle crop (next-tier nettle). Requires shiitake and tree level 66<br/>\u2022 Increased squirrel upgrade strength for the berry, mushroom, flower, bee and nettle boosts, as well as the essence boost.<br/>\u2022 Buffed weather fruit effect on the sun ability.<br/>\u2022 Fixed rightmost fruit sometimes clipped off-screen on mobile, and other fixes.<br/><br/>0.1.83 (2021-07-23):<br/>\u2022 Next fruit tier, platinum fruit, added, it has a chance to drop starting from tree level 75.<br/>\u2022 Fusing multi-season fruits with a matching single-seasonal fruit now keeps the result multi-seasonal.<br/>\u2022 Increased the achievement bonus for planting X amount of higher tier crops.<br/>\u2022 Grow speed fruit effect difference per tier made larger.<br/>\u2022 Improved "Current challenge info" dialog, with clearer old and new challenge production bonus display.<br/>\u2022 Fruit drop messages can now be disabled in the preferences.<br/>\u2022 Various other tweaks and fixes.<br/><br/>0.1.82 (2021-07-11):<br/>\u2022 1% of the challenges production bonus now also applies to resin and twigs income.<br/><br/>0.1.81 (2021-07-09):<br/>\u2022 Crops in the process of growing now count as 100% for multiplicity. This allows to change multiplicity layout without waiting for grow times.<br/>\u2022 The tree now drops a fruit every 5 levels rather than every 10 levels.<br/>\u2022 The description of the fruit grow speed ability now shows that it applies before any other reductions: the percentage value was lowered compared to 0.1.79, but back then it applied only after other reductions (to a smaller value) so this didn\'t actually decrease its power.<br/><br/>0.1.80 (2021-07-07):<br/>\u2022 Balancing to ensure getting best resin/hr after not too short runtimes:<br/>&nbsp;&nbsp;- tweaked growtime of early vs late tier crops<br/>&nbsp;&nbsp;- higher tier mushrooms now give more spores per seed rather than less spores per seed, this is a buff<br/>\u2022 Various other tweaks and fixes<br/><br/>0.1.79 (2021-06-20):<br/>\u2022 Added new ethereal upgrades, at levels 5 and 6.<br/>\u2022 Tweaked upgrade prices of berries and mushrooms so that they can\'t be cheaper than the next tier crop for the same production. This formula change makes them cheaper for lower tier crops but more expensive for higher. The new ethereal upgrades more than make up for this.<br/>\u2022 UI tweaks and fixes<br/><br/>0.1.78 (2021-06-11):<br/>\u2022 Reworked second part of the squirrel upgrade tree, replaced seasonal upgrades with new, different, ones. This solves unintended need for squirrel respeccing per season.<br/>\u2022 Free squirrel respec token for those who reached that part of the squirrel upgrades, due to those changes<br/>\u2022 It\'s now possible to do many squirrel upgrades in 1 click after respec (shift+click or new button after clicking the icon)<br/>\u2022 Turned the removed seasonal squirrel upgrades into 4 new ethereal upgrades.<br/>\u2022 Made the ethereal crops and upgrades from the previous update cheaper, and refunded the difference.<br/>\u2022 Added fifth nuts crop tier.<br/>\u2022 Added achievements for 40 crops (these do not work retroactively).<br/>\u2022 Added runtime to the best resin/hr and twigs/hr stats.<br/>\u2022 Bugfixes and UI style tweaks.<br/><br/>0.1.77 (2021-06-06):<br/>\u2022 Added new ethereal crops and upgrade (a new field size).<br/>\u2022 Added season shorten/lengthen amber abilities.<br/>\u2022 Tweaks and fixes.<br/><br/>0.1.76 (2021-06-03):<br/>\u2022 Added new ethereal crops.<br/>\u2022 Multi-season fruits now also give a slightly higher boost than the standard counterparts.<br/>\u2022 Added fourth nut crop tier.<br/>\u2022 UI style tweaks.<br/><br/>0.1.75 "Squirrel update part 2" (2021-05-29):<br/>\u2022 Added 20 new squirrel upgrades. Free respec token given so you can respec if desired<br/>\u2022 Added a third nut tier, and renamed tiers, the tiers are now: acorn, almond, brazil nut.<br/>\u2022 Tweaked the nuts cost and production to allow more squirrel upgrades: higher tiers are more expensive, but produce even more, and upgrades do more, so there is a better nuts/spores ratio. Due to the new higher cost and power of higher tiers, in older saves nuts crops are replaced by acorn.<br/>\u2022 Fruit fusing now auto-levels abilities after fusing and spends essence on this, but it never levels them higher than before fusing and leaves some essence available if a new unupgraded ability was added<br/>\u2022 Added ability to override field with blueprint (rather than not touch existing crops), using shift+click on the "To Field" button. Matching crops will be kept, but non matching ones replaced.<br/><br/>0.1.74 "Squirrel update" (2021-05-24):<br/>\u2022 Added squirrel, nuts resource and nuts crops (unlocks at ethereal tree level 5).<br/>\u2022 Added amber resource and amber processor.<br/>\u2022 Added a prelimenary small set of squirrel upgrades and amber effects to test-run the feature for now, next releases will add more content: more nut crops tiers, squirrel tech tree with interesting choices reaching beyond the nuts production limits.<br/>\u2022 Made the colors of spring and summer more easily distinguishable from each other.<br/><br/>0.1.73 (2021-05-20):<br/>\u2022 Bugfixes.<br/>\u2022 More internal changes for next update.<br/><br/>0.1.72 (2021-05-15):<br/>\u2022 Paused state is now saved in savegames.<br/>\u2022 Many internal changes for the next update, not visible or usable at this time.<br/><br/>0.1.71 (2021-05-09):<br/>\u2022 Added a pause button. Pause halts all progress, including seasons.<br/>\u2022 Various fixes, including beehive in winter accidently too low.<br/>\u2022 Development on next major feature is under way.<br/><br/>0.1.70 (2021-05-07):<br/>\u2022 The default location of back/cancel buttons in dialogs is now rightmost instead of leftmost if there are multiple bottom buttons. You can get back the original behavior in the preferences. Reason: with rightmost enabled, back buttons align, preventing accidental transcend or other action clicks when closing multiple dialogs in a row.<br/>\u2022 Various fixes<br/><br/>0.1.69 (2021-05-06):<br/>\u2022 Rockier challenge now keeps max level of each of the 5 maps separately, and gives separate bonus for each<br/>\u2022 Challenge highest level bonus now scales better for higher levels: instead of fixed bonus per level, it gives bonus per level^1.1<br/>\u2022 Replaced blueprint ctrl+shift shortcut by a new transcend-with-blueprint dialog. The fastest shortcut to transcend with blueprint is now: "t", then "b", then click chosen blueprint.<br/>\u2022 Bronze fruits are now only introduced at tree level 15, and silver at 25. Later level fruit drop rates are not affected by this change.<br/><br/>0.1.68 (2021-05-01):<br/>\u2022 Added rockier challenge (unlocks at high enough tree level)<br/>\u2022 Added the multiplicity mechanism, a bonus based on amount of crops, as reward of rockier challenge<br/>\u2022 Automaton now chooses good spots first for next auto-plant, rather than go from top to bottom<br/>\u2022 Added season effect stats to player stats dialog, and other UI tweaks<br/><br/>0.1.67 (2021-04-29):<br/>\u2022 Fruits of different types can be fused again (e.g. pineapple with pear), but the result will always be an apple. So fusing a perfect seasonal fruit is still rare, but you can use them for fusing regular fruits if desired.<br/>\u2022 Fruits now remember the random free starting levels of abilities. Fusing can now also preserve these, if two abilities are fused the result is between the two values.<br/>\u2022 The first mistletoe no longer reduces resin income or tree leveling speed. Second and higher mistletoes still do.<br/>\u2022 Bugfixes and tweaks.<br/><br/>0.1.66 (2021-04-26):<br/>\u2022 Automaton in ethereal field now gives a boost to 8 neighbors, similar to the lotus 4-neighbor boost but as its own separate multiplier.<br/>\u2022 You can now delete the entire ethereal field for 4 ethereal delete tokens.<br/>\u2022 Added some missing challenge achievements.<br/><br/>0.1.65 (2021-04-25):<br/>\u2022 New ethereal upgrades at levels 4 and 5 (ethereal berry and mushroom upgrade, ethereal field 7x6, fruit slot)<br/>\u2022 New ethereal crop (morel)<br/>\u2022 If fern left for a long time, will update its internal resources if higher. This does not benefit active play, time interval is at least as long as waiting for a new fern.<br/>\u2022 Added more stages to the rocks challenge handing out more fruit slots.<br/>\u2022 Fruits can now only be fused with others of the same type (pineapple with pineapple, ...). It\'s still easier than before fusing was introduced, when it was 100% RNG based.<br/>\u2022 Having more mistletoes affects reduces resin income more, making the choice between resin and twigs focus sharper.<br/>\u2022 Show the % bonuses given by weather abilities in various messages and windows.<br/>\u2022 Log message tooltips now also show in-game time and tree level.<br/>\u2022 More settings to disable certain log messages are added (nested under "preferences").<br/><br/>0.1.64 (2021-04-18):<br/>\u2022 Removed the Transcension II, Transcension III, etc... system (which multiplied resin and twigs by floor(tree level / 10)).<br/>\u2022 Instead, increased the base of exponentiation of resin and twigs per tree level to compensate the above. The curves have been kept as similar as possible, for levels above 45 this starts being an exponentially increasing buff<br/>\u2022 Added an alternative dark theme<br/><br/>0.1.63 (2021-04-17):<br/>\u2022 Templates now also supported in ethereal field, but not blueprints<br/>\u2022 Upgrade-crop actions and shortcuts now also work in the ethereal field<br/>\u2022 Fixed autumn increasing mushroom seed consumption while its description says it shouldn\'t<br/>\u2022 You can now ctrl+shift+click a blueprint to transcend and plant that blueprint in one go<br/>\u2022 Other small tweaks and fixes<br/><br/>0.1.62 (2021-04-13):<br/>\u2022 Mistletoe now already works while it\'s growing. This prevents issues where tree levels up before mistletoes ready when automaton plants mushrooms<br/>\u2022 The wither challenge was made of comparable difficulty as before 0.1.61 again: the production curve of withering crops tweaked to lose a bit less production initially<br/>\u2022 Resin and twigs per hour, and best per hour, stats in the top info panel.<br/>\u2022 Pressing ctrl or shift now hides tooltips.<br/>\u2022 New shortcuts: "p" picks (selects) crop under mouse cursor, or plants it on empty tile, "u" upgrades crop or blueprint template under mouse cursor, "d" deletes crop under mouse cursor. None of these requires clicking mouse button itself, and key can be held down to keep repeating the action while mouse is moved.<br/>\u2022 Added setting to disable "auto-saved" message in the log.<br/>\u2022 Now, shift+click on top-bar watercress button plants entire field full of watercress, and ctrl+click on it deletes all watercress.<br/><br/>0.1.61 (2021-04-11):<br/>\u2022 Added new ethereal upgrades for ethereal tree levels 1-3: twigs gain, blueberry secret, cranberry secret.<br/>\u2022 Berries, flowers, mushrooms, etc... now already give partial production or boost while growing.<br/>\u2022 The wither challenge got more challenging: withering now also reduces boost of flowers, nettles and beehives.<br/>\u2022 Small UI fixes and tweaks.<br/><br/>0.1.60 (2021-04-10):<br/>\u2022 Added the ability to fuse fruits, this allows adding an ability of choice to a fruit if you can collect 3 fruits with that ability. Full explanation is in fruit help.<br/>\u2022 Added ability to name blueprints<br/><br/>0.1.59 (2021-04-05):<br/>\u2022 Made blueprint watercress work and added placeable template for watercress<br/>\u2022 Added "upgrade crop" button to crop dialog, which does roughly the same as ctrl+shift+clicking it<br/>\u2022 Fruits can now be drag and dropped between slots<br/>\u2022 When no crops fullgrown yet, automaton will now upgrade blueprint to berry if can afford it even if cost limit % option is enabled (except if at 0%), to allow fast startup, as those cost limiting settings are normally used for later in a run only<br/><br/>0.1.58 (2021-04-04):<br/>\u2022 Added blueprint library, available as soon as automaton and templates are available.<br/>\u2022 Blueprint screen is accessed by clicking the tree, or pressing the "b" shortcut.<br/>\u2022 Decreased probability of two-tier lower fruits at higher tree levels.<br/>\u2022 Added shortcut keys for selecting next/previous active fruit using [ and ] (and a few alternatives).<br/>\u2022 Added shortcut key for transcend (t).<br/>\u2022 Added a "delete entire field" button to automaton that deletes all crops.<br/>\u2022 No longer uses up ethereal token when using "replace crop" in ethereal field to replace a crop with the same type.<br/><br/>0.1.57 (2021-04-03):<br/>\u2022 Added cost limit to the advanced automaton auto-unlock settings. Allows stopping auto-unlock when a crop of choice is reached.<br/>\u2022 Added 0.01%, 0.02% and 0.05% options to all percentage automaton settings.<br/>\u2022 Fruits can now be given a custom name.<br/>\u2022 Active fruit selection now works with arrows rather than a separate slot.<br/>\u2022 Added optional notification sounds in the preferences. This feature is experimental and may be removed again, because web browsers are restrictive about sound: it doesn\'t work in background tabs due to background tab pausing, doesn\'t work unless interaction with page happened, and may not work depending on other permissions.<br/><br/>0.1.56 (2021-04-02):<br/>\u2022 Added templates, which are placeholders for crop types. They do nothing but allow planning the field layout.<br/>\u2022 Templates are a new early automaton feature, unlocked immediately along with the existing automation of choice upgrades<br/>\u2022 Templates can be turned into an actual crop using ctrl+shift+click once a crop of that type is unlocked<br/>\u2022 Templates can be auto-planted by the automaton once auto-plant is available, this allows full run automation from the start<br/>\u2022 Templates are placed individually. Full-field blueprint collections are a planned feature for later<br/>\u2022 Templates are disabled during certain challenges<br/>\u2022 Lowered target level for the blackberry challenge<br/><br/>0.1.55 (2021-04-01):<br/>\u2022 Made the balancing changes of 0.1.54 milder. Depending on which state in the game, this means less extreme nerfs or less extreme buffs<br/>\u2022 Increases the effect of the resin extraction and trigs extraction upgrades, giving more resin and twigs at earlier tree level when at high enough stage of the game, to compensate for nerfs from the balance change<br/><br/>0.1.54 (2021-04-01):<br/>\u2022 Balancing of berries and mushrooms to fix issue where higher tier ones became less worth the resources<br/>\u2022 Berry and mushroom upgrades prices get a very gradual additional more-than-exponential cost increase, a soft cap to solve the above problem<br/>\u2022 To compensate, a few other stats were buffed: beehive upgrades, nettle upgrades, treelevel production bonus, and ethereal upgrade for treelevel production bonus all became slightly better than linear<br/>\u2022 Added new large number display options: hybrid with scientific instead of engineering notation<br/><br/>0.1.53 (2021-03-28):<br/>\u2022 Ethereal season upgrades now also give some mushroom benefit to summer and some berry benefit to autumn<br/>\u2022 Winter tweaks: more winter warmth base, winter warmth increases mushroom consumption, beehives affected by cold<br/>\u2022 Transcenscion now gives an additional percentage of resin and twigs, based on how many spores towards next level collected<br/>\u2022 Time countdowns now show ceil of time rather than floor and fractional seconds, and other UI tweaks<br/><br/>0.1.51 (2021-03-27):<br/>\u2022 Allow separate configuration for auto-unlock prices and auto-plant prices<br/>\u2022 Various tweaks<br/><br/>0.1.50 (2021-03-26):<br/>\u2022 Added auto-unlock for automaton, requires high enough ethereal tree and another new challenge<br/>\u2022 Added the blackberry challenge<br/>\u2022 Added ctrl+shift+click plant actions, see shortcut help dialog for info<br/>\u2022 UI tweaks<br/><br/>0.1.49 (2021-03-20):<br/>\u2022 Bugfixes<br/><br/>0.1.48 (2021-03-20):<br/>\u2022 Added auto-plant for automaton, which auto-replaces crops with better versions. Requires high enough ethereal tree and completing a new challenge to unlock<br/>\u2022 Added wither challenge<br/>\u2022 There is no auto-unlock yet (which is needed to fully automate a run), that is planned for a future version but it\'s useful to already release auto-plant now even without auto-unlock.<br/>\u2022 Fixed issue that made upgrade buttons sometimes unresponsive while automaton is doing upgrades even when having more than enough resources<br/><br/>0.1.47 (2021-03-16):<br/>\u2022 Challenge production bonus now also applies to mushrooms, significantly boosting spores output<br/>\u2022 Ethereal mushroom boost also boosts consumption now, ethereal nettles buffed a bit to compensate<br/>\u2022 Season effect rebalancing to fix the winter imbalance: before, winter scaled quadratically while other seasons only linearly with ethereal upgrades. After, all scale by n^1.25 instead.<br/>\u2022 Winter warmth now only boosts berries and mushrooms (since boosting flowers too is what made it quadratic)<br/>\u2022 Clarified in tooltip that lotus also boosts ethereal nettles<br/>\u2022 Various small UI improvements<br/><br/>0.1.46 (2021-03-14):<br/>\u2022 Bugfixes related to update timing and automaton computation.<br/>\u2022 Internal changes in preparation for future auto-plant feature (not yet finished).<br/>\u2022 Buttons to start challenges now show max reached level.<br/><br/>0.1.45 (2021-03-11):<br/>\u2022 It\'s now possible to replace crops with shift+click. Deleting is now done with ctrl+click on a crop instead.<br/>\u2022 Last unlocked crop is now also set for shift+plant.<br/>\u2022 Automatic upgrades are now only done for best type of a crop in the field. This prevents spending resources on obsolete upgrades.<br/><br/>0.1.44 (2021-03-08):<br/>\u2022 Added more ethereal crops<br/>\u2022 Added next tiers of basic crops<br/>\u2022 Re-ordered some crop names. This has no effect on stats of current games, only visual/naming. This to keep the alphabetical tier ordering after inserting new ones, noting that amanita is sorted as "muscaria"<br/>\u2022 Some crop graphics redrawn, e.g. daisy for visible contrast in winter<br/>\u2022 Auto-upgrades no longer store undo<br/>\u2022 Various fixes<br/><br/>0.1.43 (2021-03-07):<br/>\u2022 Added a second stage to the no-upgrades challenge<br/>\u2022 Added more finetuning settings for auto-upgrades, unlocked by the new stage<br/>\u2022 Many other small tweaks<br/><br/>0.1.42 (2021-03-06):<br/>\u2022 Added auto-upgrade to the automaton, requires high enough ethereal tree level and a challenge to become available<br/>\u2022 Added the no-upgrades challenge<br/>\u2022 New fruits now appear in sacrificial slots rather than storage or active slots, except the first one ever<br/>\u2022 Fix tree level-up computation during long time intervals<br/>\u2022 Other tweaks and fixes<br/><br/>0.1.41 (2021-03-01):<br/>\u2022 Added the undeletable challenge<br/>\u2022 Increased rocks challenge reward target level from 12 to 15 (nothing changes if you already got it)<br/>\u2022 Crops that depend on planting a specific crop (nettle, mistletoe and beehive) now also unlock when next higher berry is unlocked<br/>\u2022 Clicking the text "stored fruits" in fruit tab now shows where you got each slot from<br/><br/>0.1.40 (2021-02-27):<br/>\u2022 Added automaton. Can automate the choice upgrades. More features planned for later game versions<br/>\u2022 Fixed high level flower boost accidently set too low<br/>\u2022 Various tweaks and fixes<br/><br/>0.1.39 (2021-02-25):<br/>\u2022 Added two more obtainable fruit storage slots, when seeing 1 or all seasonal fruits dropped for the first time (for existing saves, this starts from 0)<br/>\u2022 Various tweaks and fixes<br/><br/>0.1.38 (2021-02-22):<br/>\u2022 Increased twigs tree level multiplier, decreased starting value to compensate: higher tree levels now give more twigs.<br/>\u2022 Season effect balancing: spring and summer should be competitive now.<br/>\u2022 Ethereal season upgrades improved and should now have same relative strength for each season.<br/>\u2022 Other minor tweaks & fixes.<br/><br/>0.1.37 (2021-02-20):<br/>\u2022 Added new high level ethereal upgrades.<br/>\u2022 Added a new high level ethereal crop.<br/>\u2022 Other balance changes.<br/>\u2022 Added icons indicating what shift/ctrl click on field will do.<br/>\u2022 Changed spring leaves color into blossom color.<br/>\u2022 Other UI tweaks<br/><br/>0.1.36 (2021-02-16):<br/>\u2022 Twigs now receive the 2x, 3x, ... higher transcenscion bonus like resin does.<br/>\u2022 Twigs gain reduced for lower tree levels, but when reaching tree level 20+ this update is a net win.<br/>\u2022 Twigs are now given at transcension rather than immediately.<br/>\u2022 Rocks challenge now also gives twigs.<br/><br/>0.1.35 (2021-02-14):<br/>\u2022 Added electrum and gold tier fruits. Electrum starts having a chance to drop at level 35.<br/>\u2022 Added seasonal fruits with extra inherent seasonal ability, can drop with lower probability then regular fruits.<br/><br/>0.1.34 (2021-02-13):<br/>\u2022 Added next higher level crop types for berry, mushroom and flower.<br/>\u2022 Autumn mushroom boost increased, and now also boosts mistletoe twigs.<br/>\u2022 Buffed the ethereal grow speed upgrade.<br/>\u2022 Made more clearly defined colors for the metal tiers (used in medals, fruits, ...).<br/>\u2022 HTML ARIA annotation improvements.<br/><br/>0.1.33 (2021-02-08):<br/>\u2022 Some challenges can have tree resin, fruit and/or twigs drop now.<br/>\u2022 Side panel upgrade tooltips now also show cost and growtime of the related plant itself.<br/>\u2022 Other UI tweaks.<br/><br/>0.1.32 (2021-02-07):<br/>\u2022 Added the "rocks" challenge, available at tree level 15.<br/>\u2022 Added ethereal upgrades for fruit slots.<br/>\u2022 Other balancing.<br/><br/>0.1.31 (2021-02-07):<br/>\u2022 Changed fern boost fruit ability into nettle boost.<br/>\u2022 Brought back the "refund for still growing plant" and made achievements based on fullgrown plants again: it turns out the QoL of this feature was more important.<br/>\u2022 Added a side panel with extra info and shortcut upgrade buttons. This only appears if the screen is wide enough.<br/>\u2022 Other UI tweaks.<br/><br/>0.1.30 (2021-02-06):<br/>\u2022 Removed the "refund still growing plant" feature since it allowed some achievement related abuse. Use the undo button instead.<br/>\u2022 Tweaked the undo button: min time between saving undo now 10 seconds instead of 1 minute (lose less work when using undo, use export save for longer term things).<br/>\u2022 Balancing changes (mostly slight buffs).<br/>\u2022 Fix issues related to playing on multiple computers with different UTC time set.<br/>\u2022 Various bee challenge bugfixes and tweaks.<br/>\u2022 Mushrooms now try to consume all resources of private berry before berries shared with other mushrooms.<br/><br/>0.1.29 "Bee update" (2021-02-06):<br/>\u2022 Added the bee challenge, which unlocks when planting a daisy (third tier flower, so it requires significant progress in the game to reach).<br/>\u2022 Added beehives, only available after successfully completing the bee challenge.<br/>\u2022 Since the necessary logic for challenges in general is added to the game for this, more will be added later.<br/><br/>0.1.28 (2021-02-03):<br/>\u2022 Fixed a bug with the previous runs level/time statistics.<br/>\u2022 Various other UI tweaks and fixes.<br/>\u2022 A larger update (bees) is coming soon, still work in progress.<br/><br/>0.1.27 (2021-01-29):<br/>\u2022 Changed fruit weather cooldown ability into weather boost.<br/>\u2022 Fixed issue with ethreal grow speed upgrade soft capping, now it should no longer accidently increase some times.<br/>\u2022 Various UI fixes.<br/><br/>0.1.26 (2021-01-28):<br/>\u2022 Minor numerical and UI fixes.<br/><br/>0.1.25 (2021-01-27):<br/>\u2022 Fixed a minor exploit with ferns.<br/>\u2022 Removed support for savegames before 0.1.7, a very old version that normally isn\'t in use anywhere anymore but added complexity to the codebase to support.<br/><br/>0.1.24 (2021-01-26):<br/>\u2022 Renamed watercress "leech" to "copy". It\'s still the exact same effect, but the name copy is more clear, since it is a strictly positive effect.<br/>\u2022 Increased weather cooldown, growth speed and mushroom economy effects of fruits.<br/>\u2022 "w" keyboard shortcut now also replants existing watercress.<br/>\u2022 More UI tweaks and fixes.<br/><br/>0.1.23 (2021-01-24):<br/>\u2022 UI tweaks and fixes.<br/><br/>0.1.22 (2021-01-24):<br/>\u2022 Added dark mode UI. Option available under preferences.<br/>\u2022 Added support for CSS stylesheets for this.<br/>\u2022 Made all unlocked dynamic in-game help dialogs available in the main help from the settings. More appear as more get unlocked during the game progression.<br/><br/>0.1.21 (2021-01-24):<br/>\u2022 Added achievements chips when new achievement unlocked.<br/>\u2022 Other related UI tweaks: latin number tweaks, tooltip infos<br/><br/>0.1.20 (2021-01-23):<br/>\u2022 New mechanic: mistletoes, twigs resource and ethereal tree leveling.<br/>\u2022 Added new ethereal upgrades and crops, both first-tier and higher ethereal-tree-level-tier ones.<br/>\u2022 Made ethereal season upgrades cheaper (2x instead of 10x cost scaling).<br/>\u2022 Increased ethereal blackberry and champignon boosts from 20% to 25%.<br/>\u2022 Other balance tweaks: more medal bonuses, higher level plants tweaked, ...<br/>\u2022 Renamed "fog ability" to "mist ability".<br/>\u2022 Added help dialog system plus preferences for this<br/><br/>0.1.19 (2021-01-17):<br/>\u2022 Improved winter: still has the harsh effect, but also has positive effect for crops next to tree ("winter tree warmth"), and makes the tree produce more resin when it levels up.<br/>\u2022 Ethereal winter upgrade now more useful: also upgrades those positive winter effects.<br/>\u2022 Added more info about season effects to the dialog gotten from clicking the time/season indicator.<br/><br/>0.1.18 (2021-01-17):<br/>\u2022 Increased starter resources of ethereal fern.<br/>\u2022 Fixed bugs related to leeching and transcension II.<br/><br/>0.1.17 "Fruit update" (2021-01-16):<br/>\u2022 Added fruits.<br/>\u2022 Only one weather ability can be active at the same time now.<br/><br/>0.1.16 (2021-01-09):<br/>\u2022 Added ethereal lotus. Lotus now boosts ethereal neighbors, while clover boosts basic flowers.<br/>\u2022 Added more ethereal upgrades<br/>\u2022 Added more achievements<br/>\u2022 Ethereal mushroom bonus improved: no longer increases consumption.<br/>\u2022 Leeching watercress now leaves a "ghost" remainder when it disappears. No effect, visual reminder of leech spot only.<br/>\u2022 Spore costs and production inflated times 6.66666, no actual consequence other than display, to avoid values with very small exponent with first mushroom.<br/><br/>0.1.15 (2021-01-08):<br/>\u2022 Swapped fog and sun ability (sun is now unlocked first).<br/>\u2022 Improve UI of "choice" upgrades to be single upgrade with a choice dialog<br/>\u2022 Increased unused resin bonus 10x<br/>\u2022 Increased amount of starter resources from ethereal fern and made it scale quadratically<br/>\u2022 Can now only delete new ethereal crops after next transcension<br/>\u2022 Bugfixes<br/><br/>0.1.14 (2020-12-30):<br/>\u2022 Ethereal crops now give 100% resin back on delete, but require ethereal deletion tokens.<br/>\u2022 Buffed watercress to have a more meaningful upgrade for the early game experience.<br/>\u2022 Added a few more achievements.<br/><br/>0.1.13 (2020-12-30):<br/>\u2022 Mushrooms now only get seeds from neighbors, so they can\'t produce spores if they don\'t have berries as neighbors in the field.<br/>\u2022 The global overconsumption system has been removed since this now takes place locally amongst groups of mushroom/berry neighbors.<br/>\u2022 Nettles now also negatively affect neighboring flowers, instead of only berries.<br/>\u2022 Leech effect takes the extra seeds consumption through the mushrooms neighboring producers.<br/>\u2022 Internal field production algorithm updated to support the neighbor-based consumption/production effects.<br/>\u2022 Trees still consume spores globally, mushrooms are not required to be next to the tree. Maybe this makes sense in a future update but it may cause an issue of discoverability when one doesn\'t yet know you want to upgrade the tree.<br/>\u2022 The goal of this is to add more crop interaction and positional elements to the game<br/><br/>0.1.12 (2020-12-28):<br/>\u2022 Fix accidental 7x7 field bug, 6x6 is currently the maximum if the relevant upgrade is purchased.<br/><br/>0.1.11 (2020-12-27):<br/>\u2022 Added back ethereal upgrades (2 for now), now costing resin. The 6x6 field size upgrade is now actually reachable.<br/><br/>0.1.10 (2020-12-26):<br/>\u2022 Internal fixes.<br/><br/>0.1.9 (2020-12-26):<br/>\u2022 The resin and transcension system has been redesigned. There are now multiple ethereal field plant types and they give direct boosts to the basic field. All resin has been refunded and can be re-used with the new system.<br/>\u2022 The pericarps resource has been removed from the game. Nothing is lost from this since only its production per second ("ethereal field power") was used and this was determined by resin which has been refunded.<br/>\u2022 Unused resin also gives a small boost now.<br/>\u2022 The ethereal upgrades (which used to cost ethereal field power) are currently removed (and replaced by ethereal plant effects instead), but new ones, probably costing resin, may be added back in a future game update.<br/>\u2022 A few other minor tweaks, e.g. the savegame now remembers which tab you had open and the assigned shift key plant.<br/><br/>0.1.8 (2020-12-24):<br/>\u2022 Changed the savegame format internally to be more compatible with future updates.<br/>\u2022 Minor tweaks and fixes.<br/><br/>0.1.7 (2020-12-23):<br/>\u2022 Added new plant type: watercress, and made it the starter plant. Also remains important as non-idle (active) plant throughout the game.<br/>\u2022 Nerfed costs and production of other plants to compensate the watercress power.<br/>\u2022 Added "a" keyboard shortcut for abilities.<br/><br/>0.1.6 (2020-12-22):<br/>\u2022 Added undo button.<br/>\u2022 Removed the free replant of same plant type at same spot since undo can be used instead now.<br/>\u2022 Weather abilities unlock immediately rather than through extra upgrade step, and merged their choice upgrades.<br/><br/>0.1.5 (2020-12-21):<br/>\u2022 Added new plant type: nettle<br/>\u2022 Added estimated time counters to several cost tooltips<br/>\u2022 Balancing tweaks<br/>\u2022 Increased ethereal upgrades but still very conservative for now as first run can still get balanced more<br/><br/>0.1.4 (2020-12-20):<br/>\u2022 Added "choice" upgrades<br/>\u2022 Added a third weather ability<br/>\u2022 Made higher level mushrooms produce more spores<br/><br/>0.1.3 (2020-12-19):<br/>\u2022 Added weather abilities<br/>\u2022 Balancing: slightly cheaper 3rth and higher tier plants<br/><br/>0.1.2 (2020-12-19):<br/>\u2022 Slightly boosted fern and it can now also give spores<br/>\u2022 Tweaked the upgrade-button UI<br/><br/>0.1.1 (2020-12-18):<br/>\u2022 Balance changes: fixed too slow beginning of game, but also the too powerful long term upgrade scaling<br/><br/>0.1.0 (2020-12-18):<br/>\u2022 Initial test release, no patches applied yet<br/>\u2022 Since this is a first alpha release, balancing and mechanics can still change quite bit!<br/><br/>'}
;function CJ(){var a=DJ,b=Da({size:ab,title:"Number format help",Ia:!0});var d="Change the displayed number format used for most costs, amounts, percentages, etc...<br><br><b>Latin suffixes:</b><br><br>";for(var e=36,f=1;f<e;f++){var g="",h="";if(f<e-2){var k=Ik(3*f);g=al(3*f);h=", 1e"+3*f;if(4>=f){h+=" (1";for(var l=0;l<f;l++)h+=",000";h+=")"}}else f==e-2?(g="centillion",h=", 1e303",k="C"):k="etc...";d+="<b>"+k+"</b>"+(g?": ":"")+g+h+"<br>"}d+="<br><br>";e=!1;for(f=0;f<a.length;f++)if(a[f]==jk){e=
!0;break}if(e)for(d+="<b>SI suffixes:</b><br><br>",e=9,f=1;f<e;f++){g=k="";h=", 1";for(l=0;l<f;l++)h+=",000";h+=" (1e"+3*f+")";1==f?(k=" K",g=" kilo"):2==f?(k=" M",g=" mega"):3==f?(k=" G",g=" giga"):4==f?(k=" T",g=" tera"):5==f?(k=" P",g=" peta"):6==f?(k=" E",g=" exa"):7==f?(k=" Z",g=" zetta"):8==f&&(k=" Y",g=" yotta");d+="<b>"+k+"</b>"+(g?": ":"")+g+h+"<br>"}d+="<br><br><b>Symbol meanings:</b><br><br>\n    <b>.</b>: decimal point, e.g. 1.5 is one and a half<br>\n    <b>*</b>: multiply, e.g. 5*5 = 25<br>\n    <b>^</b>: power, e.g. 5^3 = 5*5*5 = 125<br>\n    <b>10^</b>: exponential function for logarithm 10 notation<br>\n    <b>e^</b>: exponential function for natural log notation. Here, e = 2.71828...<br><br><b>Formats:</b><br><br>";
for(f=0;f<a.length;f++)l=a[f],d+="<b>"+la(dk[l])+"</b><br>",d+=ek[l]+"<br><br>";b.content.a.innerHTML=d}var DJ=[gk,lk,hk,ik,mk,rk,sk],EJ=[];for(nF=0;nF<DJ.length;nF++)EJ[DJ[nF]]=nF;
function FJ(){function a(w){w.j.innerText=1==G.td?"roman numbers: enabled":0==G.td?"roman numbers: up to 12":"roman numbers: disabled"}function b(){var w='<table border="1" style="border-collapse:collapse"><tr><td style="padding-left:8px; padding-right:8px; padding-top:3px; padding-bottom:3px;"><b>Example</b></td><td style="padding-left:8px; padding-right:8px; padding-top:3px; padding-bottom:3px;"><b>Notation</b></td><td width="10%" style="border:none"></td><td style="padding-left:8px; padding-right:8px; padding-top:3px; padding-bottom:3px;"><b>Example</b></td><td style="padding-left:8px; padding-right:8px; padding-top:3px; padding-bottom:3px;"><b>Notation</b></td></tr>';for(var H=
0;2*H<v.length;H++){w+="<tr>";w+='<td style="padding-left:8px; padding-right:8px; padding-top:3px; padding-bottom:3px;">';w+=v[H].valueOf();w+='</td><td style="padding-left:8px; padding-right:8px; padding-top:3px; padding-bottom:3px;">';w+=c(v[H]).toString(r,p);w+="</td>";var D=H+Math.floor(v.length/2);w+='<td style="border:none"> </td>';w+='<td style="padding-left:8px; padding-right:8px; padding-top:3px; padding-bottom:3px;">';w+=v[D].valueOf();w+='</td><td style="padding-left:8px; padding-right:8px; padding-top:3px; padding-bottom:3px;">';
w+=c(v[D]).toString(r,p);w+="</td>";w+="</tr>"}k.innerHTML="<b>Notation description:</b> "+ek[p];y.innerHTML=w+"</table>"}var d=!1,e=Da({size:ab,title:"Choose large number notation",pb:function(){CJ()},onclose:function(){d&&(GJ(),G.ra==HJ&&IJ())}}),f=0;var g=.05;var h=(new F(e.content,0,f,1,f+g)).a;sa(h);f+=g;g=.1;h=(new F(e.content,0,f,1,f+g)).a;f+=g+.02;g=.08;var k=(new F(e.content,.1,f,.8,f+g)).a;f+=1.2*g;g=.25;var l=(new F(e.content,.1,f,.8,f+g)).a;f+=g;var p=tk;f="Select which notation to use for large numbers.\n\n";
for(g=0;g<DJ.length;g++){var q=DJ[g];f+=dk[q]+":\n"+ek[q]+"\n\n"}e.title.a.j.title=f;var n=m.Yf("select","10%","0%","80%","45%",h);n.title=f;for(g=0;g<DJ.length;g++){q=DJ[g];var u=m.Zf("option",n);u.innerText="notation: "+dk[q];u.title=f}n.onchange=function(){tk=p=DJ[n.selectedIndex];b();d=!0};n.selectedIndex=EJ[tk];n.style.fontSize="100%";var x=m.Yf("select","10%","50%","80%","45%",h);for(g=3;6>=g;g++)u=m.Zf("option",x),u.innerText="precision: "+g;x.onchange=function(){uk=r=x.selectedIndex+3;b();
d=!0};x.selectedIndex=Math.min(Math.max(0,uk-3),4);x.style.fontSize="100%";var y=ja("1%","0%","98%","10%",l);y.innerHTML="<b>Examples:</b>";var r=uk,v=[0,.03,1,7.123456,150,1712.29,1.43489075E7,4294967296,2.048E23,8E29,7.10915E50,2.1065E85,3E303];e=(new F(e.content,.1,.75,.9,.8,1)).a;La(e);a(e);Lb(e,"Choose whether to use roman numbers for upgrade levels, fruit levels, etc... If disabled, roman numbers are still used up to 12, but for higher values switch to decimal.");E(e,B(function(w,H){G.td++;
0<=G.td&&1>=G.td||(G.td=0);H(w);GJ()},e,a));e.id="numbers_roman";b()}
function JJ(){function a(){var g=(new F(b.content,.1,d,.9,d+.06,1)).a;La(g);d+=.066;return g}var b=Da({title:"Controls"}),d=0;var e=a();var f=function(g){var h="none";1==G.ae?h="weather":2==G.ae?h="tabs":3==G.ae?h="fruit":4==G.ae&&(h="auto-action");g.j.innerText="number keys: "+h};f(e);Lb(e,"Choose what the keyboard number keys do: nothing, activate weather (1-3), switch game tabs, or switch active fruit slot");E(e,B(function(g,h){G.ae++;4<G.ae&&(G.ae=0);h(g);KJ()},e,f));e.id="controls_numbers";e=
a();f=function(g){var h="none";1==G.Je?h="weather":2==G.Je?h="tabs":3==G.Je?h="fruit":4==G.Je&&(h="auto-action");g.j.innerText="shift+number keys: "+h};f(e);Lb(e,"Choose what shift + keyboard number keys does: nothing, activate weather (1-3), switch game tabs, or switch active fruit slot");E(e,B(function(g,h){G.Je++;4<G.Je&&(G.Je=0);h(g);KJ()},e,f));e.id="controls_numbers_shift";e=a();f=function(g){var h="none";1==G.dc?h="weather":2==G.dc?h="tabs":3==G.dc?h="fruit":4==G.dc&&(h="auto-action");g.j.innerText=
"bracket keys: "+h};f(e);Lb(e,"Choose what the [], (), {} or <> keys for previous/next do: nothing, switch game tabs, or switch active fruit slot. There is no difference between the four key pair variations, the different bracket/parenthesis types are supported to have at least one convenient available set of brackets on most international keyboard layouts.");E(e,B(function(g,h){G.dc++;4<G.dc&&(G.dc=0);1==G.dc&&(G.dc=2);4==G.dc&&(G.dc=0);h(g);KJ()},e,f));e.id="controls_brackets"}
function LJ(){function a(){var g=(new F(b.content,.1,d,.9,d+.06,1)).a;La(g);d+=.066;return g}var b=Da({title:"Messages & Sounds"}),d=0;var e=a();var f=function(g){g.j.innerText="fern notification sound: "+(G.Me[0]?"yes":"no")};f(e);Lb(e,'Notification "ding" sound when a fern pops up. Whether sound works at all depends on your browser and whether playing media is allowed by the settings. Browsers will only play the sound if the game is in a foreground tab. Browsers also require interaction with the page before they allow playing sounds at all, so sounds may not work after refreshing the page and not clicking anything.');
E(e,B(function(g,h){G.Me[0]=1*!G.Me[0];h(g)},e,f));e.id="preferences_fernsound";e=a();f=function(g){g.j.innerText="fullgrown notification sound: "+(G.Me[1]?"yes":"no")};f(e);Lb(e,'Notification "ding" sound when crops get fullgrown. Whether sound works at all depends on your browser and whether playing media is allowed by the settings. Browsers will only play the sound if the game is in a foreground tab. Browsers also require interaction with the page before they allow playing sounds at all, so sounds may not work after refreshing the page and not clicking anything.');
E(e,B(function(g,h){G.Me[1]=1*!G.Me[1];h(g)},e,f));e.id="preferences_growsound";d+=.03;e=new F(b.content,.1,d,.9,d+.03);d+=.03;e.a.innerText="Sound volume:";e=new F(b.content,.1,d,.9,d+.03);d+=.036;Fc(e,function(g){0<=g&&1>=g||(g=1);G.volume=g;Ac(1E3)});d+=.03;e=a();f=function(g){g.j.innerText="auto save in message log: "+(G.Qa[0]?"yes":"no")};f(e);Lb(e,"Show auto save message in the message log. This setting does not stop auto-save from working, it just does so silently.");E(e,B(function(g,h){G.Qa[0]=
1*!G.Qa[0];h(g)},e,f));e.id="preferences_savemessages";e=a();f=function(g){g.j.innerText="tree levels in message log: "+(G.Qa[1]?"yes":"no")};f(e);Lb(e,"Show message log message when tree levels up. If disabled, the message will only appear if tree reached highest level ever.");E(e,B(function(g,h){G.Qa[1]=1*!G.Qa[1];h(g)},e,f));e.id="preferences_treelevelmessages";e=a();f=function(g){g.j.innerText="upgrades available in message log: "+(G.Qa[2]?"yes":"no")};f(e);Lb(e,"Show message log message when regular upgrade available. If disabled, the message will still appear for never before seen upgrades.");
E(e,B(function(g,h){G.Qa[2]=1*!G.Qa[2];h(g)},e,f));e.id="preferences_upgrademessages";e=a();f=function(g){g.j.innerText="abbreviated help in message log: "+(G.Qa[3]?"yes":"no")};f(e);Lb(e,"Show abbreviated versions of help dialog in the message log. If disabled, they still appear if seen the first time ever");E(e,B(function(g,h){G.Qa[3]=1*!G.Qa[3];h(g)},e,f));e.id="preferences_helpmessages";e=a();f=function(g){g.j.innerText="pause/resume in message log: "+(G.Qa[4]?"yes":"no")};f(e);Lb(e,"Show game paused / resume in message log when pausing/unpausing");
E(e,B(function(g,h){G.Qa[4]=1*!G.Qa[4];h(g)},e,f));e.id="preferences_pausemessages";e=a();f=function(g){g.j.innerText="fruit drops in message log: "+(G.Qa[5]?"yes":"no")};f(e);Lb(e,"Show message log message when a fruit drops");E(e,B(function(g,h){G.Qa[5]=1*!G.Qa[5];h(g)},e,f));e.id="preferences_fruitdropmessages"}
function MJ(){function a(){var g=(new F(b.content,.1,d,.9,d+.06,1)).a;La(g);d+=.066;return g}var b=Da({title:"Preferences"}),d=0;var e=a();var f=function(g){g.j.innerText="interface theme: "+(2==G.vd?"dark":3==G.vd?"more dark":"light")};f(e);Lb(e,"Change the interface style");E(e,B(function(g,h){G.vd++;3<G.vd&&(G.vd=1);h(g);KJ()},e,f));e.id="preferences_theme";e=a();f=function(g){var h="?";0==G.Od&&(h="none (tooltips off)");1==G.Od&&(h="dark");2==G.Od&&(h="light");3==G.Od&&(h="translucent");4==G.Od&&
(h="brown");g.j.innerText="tooltip style: "+h};f(e);Lb(e,"Change the tooltip style or disable them");E(e,B(function(g,h){G.Od++;4<G.Od&&(G.Od=0);h(g);hb()},e,f));e.id="preferences_tooltip";e=a();f=function(g){g.j.innerText=G.pi?"side panel: auto":"side panel: off"};f(e);Lb(e,"Choose whether the side panel with upgrade shortcuts and stats summary may appear or not. If on, the side panel only appears if the window is wide enough.");E(e,B(function(g,h){G.pi=G.pi?0:1;h(g);hb();NJ()},e,f));e.id="preferences_sidepanel";
e=a();f=function(g){g.j.innerText="dialog back buttons: "+(G.yh?"rightmost":"leftmost")};f(e);Lb(e,'For dialogs with multiple buttons at the bottom, whether "back"/"cancel" buttons are the rightmost or leftmost of the group');E(e,B(function(g,h){G.yh=!G.yh;h(g)},e,f));e.id="preferences_cancelright";d+=.03;e=a();f=function(g){g.j.innerText="save on refresh / actions: "+(G.jh?"yes":"no")};f(e);Lb(e,"Whether to auto-save when refreshing browser tab and after each action. If this is on, actions are saved reliably even when closing the web browser soon after. If this is off, the game will still auto-save every few minutes anyway, but the last minutes of gameplay may get lost when closing browser tab. Remember it's also recommended to export saves manually regularly since web browsers can lose all data easily.");
E(e,B(function(g,h){G.jh=!G.jh;h(g);OJ()},e,f));e.id="preferences_saveonclose";e=a();f=function(g){g.j.innerText="auto store interesting fruit: "+(G.$h?"yes":"no")};f(e);Lb(e,"Whether to automatically store a fruit of a higher tier or higher season than ever seen. Normally fruits drop to the sacrificial pool automatically and must be manually moved to storage if you want to keep them. Automatically storing only works if there is space, and only if the fruit is of a newer tier than seen before, you must still manually check fruits anyway when trying to find or fuse ones with particular abilities.");
E(e,B(function(g,h){G.$h=!G.$h;h(g);OJ()},e,f));e.id="preferences_interestingfruits";d+=.03;e=a();e.j.innerText='reset "never show again" help dialogs';Lb(e,'Resets the "never show again" of all help dialogs, so you\'ll see them again next time until you disable them individually again.');E(e,function(){Da({size:Za,vb:function(){G.Fe={};fb();return!0},names:"reset",title:"Reset help"}).content.a.innerHTML='This resets the "never show again" setting of all individual help dialogs. You\'ll get the help dialogs again in the situations that make them appear. You can individually disable them again.'});
e.id="preferences_resethelp";e=a();f=function(g){g.j.innerText="enable help dialogs: "+(G.yg?"no":"yes")};f(e);Lb(e,'Whether to enable pop-up help dialogs. Set to no if you consider the dialogs too intrusive. However, if you leave them enabled, you can also always disable individual help dialogs with their "never show again" button, so you can still see new ones, which may be useful to get information about new game mechanics that unlock later.');E(e,B(function(g,h){G.yg=!G.yg;h(g);OJ()},e,f));e.id=
"preferences_enablehelp";d+=.03;e=a();e.j.innerText="messages & sounds...";Lb(e,"Message log and sound notifications");E(e,B(function(){LJ()},e,f));e.id="preferences_notifications";e=a();e.j.innerText="controls...";Lb(e,"Change various keyboard controls.");E(e,function(){JJ()});e.id="preferences_controls";e=a();e.j.innerText="number format...";Lb(e,"Change the precision and display type for large numbers.");E(e,function(){FJ()});e.id="preferences_number";d+=.03}
function PJ(a){var b=a/86400,d=a/3600;a-=86400*Math.floor(a/86400);var e=Math.floor(a/3600);a=Math.round((a-3600*e)/60);60<=a&&(a-=60,e++);return 365<=b?c(b/365.25).toString(2,mk)+"y":10<=b?c(b).toString(3,mk)+"d":2<=b?c(b).toString(2,mk)+"d":16<=d?c(d).toString(3,mk)+"h":1<=d?c(e).toString(2,mk)+"h"+c(a).toString(2,mk)+"m":c(a).toString(2,mk)+"m"}var QF=!1;
function QJ(){QF=!0;var a=Da({title:"Player statistics",Ia:!0,icon:ke,onclose:function(){QF=!1}}).content.a,b="";0<G.na&&(b+="<b>Current Run</b><br>");if(0<G.na||0<G.s)b+='\u2022 tree level: <span class="efStatsValue">'+G.s+"</span><br>";b+='\u2022 start time: <span class="efStatsValue">'+m.gf(G.kd)+"</span><br>";var d=m.getTime()-G.kd-G.wg;b+='\u2022 duration: <span class="efStatsValue">'+m.R(d)+"</span><br>";var e=P(G.gb);e.ca.u(CH().ca);b+='\u2022 total earned: <span class="efStatsValue">'+e.toString()+
"</span><br>";b+='\u2022 highest resources: <span class="efStatsValue">'+G.bf.toString()+"</span><br>";b+='\u2022 highest production/s: <span class="efStatsValue">'+G.Ef.toString()+"</span><br>";b+='\u2022 ferns: <span class="efStatsValue">'+G.ug+"</span><br>";b+='\u2022 planted (permanent): <span class="efStatsValue">'+G.qe+"</span><br>";b+='\u2022 planted (brassica): <span class="efStatsValue">'+G.lc+"</span><br>";b+='\u2022 crops deleted: <span class="efStatsValue">'+G.th+"</span><br>";b+='\u2022 upgrades: <span class="efStatsValue">'+
G.uh+"</span><br>";0<G.od&&(b+='\u2022 fruits: <span class="efStatsValue">'+G.rh+"</span><br>",b+='\u2022 fruit upgrades: <span class="efStatsValue">'+G.vg+"</span><br>");if(0<G.na||0<G.s)b+='\u2022 weather abilities activated: <span class="efStatsValue">'+G.cf+"</span><br>";0<G.o[tn].count&&(b+='\u2022 sun ability berry boost, run time, cooldown time, total cycle: <span class="efStatsValue">+'+K(ep())+", "+m.R(gn(120),!0)+'</span>, <span class="efStatsValue">'+m.R(mn(720)-gn(120),!0)+'</span>, <span class="efStatsValue">'+
m.R(mn(720),!0)+"</span><br>");0<G.o[vn].count&&(b+='\u2022 mist ability mushroom boost, run time, cooldown time, total cycle: <span class="efStatsValue">+'+K(hp())+" (-"+K(Lj(gp()))+" consumption), "+m.R(gn(180),!0)+'</span>, <span class="efStatsValue">'+m.R(mn(1080)-gn(180),!0)+'</span>, <span class="efStatsValue">'+m.R(mn(1080),!0)+"</span><br>");0<G.o[xn].count&&(b+='\u2022 rainbow ability flower boost, run time, cooldown time, total cycle: <span class="efStatsValue">+'+K(Lp())+", "+m.R(gn(240),
!0)+'</span>, <span class="efStatsValue">'+m.R(mn(1440)-gn(240),!0)+'</span>, <span class="efStatsValue">'+m.R(mn(1440),!0)+"</span><br>");G.ma.h.J(0)&&(b+='\u2022 resin/hour: <span class="efStatsValue">'+HH().toString()+"</span><br>",b+='\u2022 best resin/hour: <span class="efStatsValue">'+G.Bd.h.toString()+", at level "+G.re.h.valueOf()+", at runtime "+m.R(G.se.h.valueOf(),!0)+"</span><br>");G.ma.K.J(0)&&(b+='\u2022 twigs/hour: <span class="efStatsValue">'+IH().toString()+"</span><br>",b+='\u2022 best twigs/hour: <span class="efStatsValue">'+
G.Bd.K.toString()+", at level "+G.re.K.valueOf()+", at runtime "+m.R(G.se.K.valueOf(),!0)+"</span><br>");0<G.na&&(b=b+'<br><b>Total</b><br>\u2022 highest tree level: <span class="efStatsValue">'+(G.Oa+" (before: "+G.Ic+")</span><br>"),b+='\u2022 achievements: <span class="efStatsValue">'+G.Kh+"</span><br>",b+='\u2022 start time: <span class="efStatsValue">'+m.gf(G.Jc)+"</span><br>",b+='\u2022 duration: <span class="efStatsValue">'+m.R(m.getTime()-G.Jc-G.jf)+"</span><br>",b+='\u2022 total earned: <span class="efStatsValue">'+
G.ma.toString()+"</span><br>",b+='\u2022 highest resources: <span class="efStatsValue">'+G.eb.toString()+"</span><br>",b+='\u2022 highest production/s: <span class="efStatsValue">'+G.Ih.toString()+"</span><br>",b+='\u2022 highest earned any run: <span class="efStatsValue">'+G.Gg.toString()+"</span><br>",b+='\u2022 ferns: <span class="efStatsValue">'+G.De+"</span><br>",b+='\u2022 planted (permanent): <span class="efStatsValue">'+G.$i+"</span><br>",b+='\u2022 planted (brassica): <span class="efStatsValue">'+
G.bj+"</span><br>",b+='\u2022 crops deleted: <span class="efStatsValue">'+G.wk+"</span><br>",b+='\u2022 upgrades: <span class="efStatsValue">'+G.ej+"</span><br>",0<G.od&&(b+='\u2022 fruits: <span class="efStatsValue">'+G.od+"</span><br>",b+='\u2022 fruit upgrades: <span class="efStatsValue">'+G.Zi+"</span><br>"),b+='\u2022 weather abilities activated: <span class="efStatsValue">'+G.Jh+"</span><br>",b+='\u2022 season changes seen: <span class="efStatsValue">'+G.Qh+"</span><br>",b+='\u2022 fastest run: <span class="efStatsValue">'+
m.R(G.Rf)+"</span><br>",b+='\u2022 longest run: <span class="efStatsValue">'+m.R(G.lf)+"</span><br>");b+='\u2022 achievements: <span class="efStatsValue">'+G.ag+"</span><br>";b+='\u2022 achievements production bonus: <span class="efStatsValue">+'+K(Jj(G.Yg,1))+"</span><br>";b+='\u2022 current season: <span class="efStatsValue">'+Um[On()]+"</span><br>";b+='\u2022 spring flower bonus: <span class="efStatsValue">+'+K(Jj(Wn(),1))+"</span><br>";86400<=d&&(b+='\u2022 summer berry bonus: <span class="efStatsValue">+'+
K(Jj(Xn(),1))+"</span><br>",b+='\u2022 summer mushroom bonus: <span class="efStatsValue">+'+K(Jj(Yn(),1))+"</span><br>");172800<=d&&(b+='\u2022 autumn mushroom bonus: <span class="efStatsValue">+'+K(Jj(Zn(),1))+"</span><br>",b+='\u2022 autumn berry bonus: <span class="efStatsValue">+'+K(Jj($n(),1))+"</span><br>",b+='\u2022 autumn twigs bonus: <span class="efStatsValue">+'+K(Jj(Qz(),1))+"</span><br>");259200<=d&&(b+='\u2022 winter harsh conditions malus: <span class="efStatsValue">-'+K(c(1).sub(c(ao)))+
"</span><br>",b+='\u2022 winter tree warmth bonus: <span class="efStatsValue">+'+K(Jj(bo(),1))+"</span><br>",b+='\u2022 winter resin bonus: <span class="efStatsValue">+'+K(Jj(By(),1))+"</span><br>");$o(wl)&&(b+='\u2022 berry multiplicity: <span class="efStatsValue">+'+K(bp(wl))+" per other of same type of max 1 tier difference</span><br>",b+='\u2022 mushroom multiplicity: <span class="efStatsValue">+'+K(bp(xl))+" per other of same type of max 1 tier difference</span><br>");$o(yl)&&(b+='\u2022 flower multiplicity: <span class="efStatsValue">+'+
K(bp(yl))+" per other of same type of max 1 tier difference</span><br>");$o(Cl)&&(b+='\u2022 bee multiplicity: <span class="efStatsValue">+'+K(bp(Cl))+" per other of same type of max 1 tier difference</span><br>");$o(zl)&&(b+='\u2022 stinging multiplicity: <span class="efStatsValue">+'+K(bp(zl))+" per other of same type of max 1 tier difference</span><br>");0<G.Xa&&(b+='\u2022 squirrel evolutions: <span class="efStatsValue">'+G.Xa+"</span><br>");G.ha[Gu].c&&(b+='\u2022 ethereal mistletoe upgrades completed: <span class="efStatsValue">'+
G.sk+"</span><br>",b+='\u2022 ethereal mistletoe upgrades time spent: <span class="efStatsValue">'+m.R(G.Yi,!0)+"</span><br>",b+='\u2022 ethereal mistletoe unspent idle time: <span class="efStatsValue">'+m.R(G.pc,!0)+"</span><br>",b+='\u2022 ethereal mistletoe total idle time: <span class="efStatsValue">'+m.R(G.Hg,!0)+"</span><br>");0<G.Ui&&(b+='\u2022 fruits recovered: <span class="efStatsValue">'+G.Ui+"</span><br>");b+="<br>";if(0<G.na){b=b+'<b>Transcensions</b><br>\u2022 transcensions: <span class="efStatsValue">'+
(G.na+"</span>");1<=G.Ig&&(b+=' (automated: <span class="efStatsValue">'+G.Ig+"</span>",1<=G.Ne&&(b+=', last streak: <span class="efStatsValue">'+G.Ne+"</span>"),b+=")");b+="<br>";1<=G.Ne&&(b+='\u2022 resources from last auto-transcend streak: <span class="efStatsValue">'+G.qg.toString()+"</span>",b+="<br>");d=Math.min(Math.min(15,G.sd.length),G.vf.length);if(0<d){b=1==d?b+'\u2022 last transcension level: <span class="efStatsValue">':b+'\u2022 last transcension levels (recent first): <span class="efStatsValue">';
for(e=0;e<d;e++){var f=PJ(G.sd[G.sd.length-1-e]);b+=(0==e?" ":", ")+G.vf[G.vf.length-1-e]+" ("+f+(G.gg[G.gg.length-1-e]?", C":"")+")"}b+="</span><br>"}b=b+'<br><b>Ethereal</b><br>\u2022 ethereal tree level: <span class="efStatsValue">'+(G.U+"</span><br>");b+='\u2022 total resin: <span class="efStatsValue">'+G.ma.h.toString()+"</span><br>";b+='\u2022 ethereal crops planted: <span class="efStatsValue">'+G.aj+"</span><br>";b+='\u2022 ethereal crops deleted: <span class="efStatsValue">'+G.dj+"</span><br>";
b+="<br>"}ZD()&&(b=b+'<b>Infinity</b><br>\u2022 infinity production boost to basic field: <span class="efStatsValue">'+(K(G.pd)+"</span><br>"),b+='\u2022 infinity crops planted: <span class="efStatsValue">'+G.Mh+"</span><br>",b+='\u2022 infinity crops deleted: <span class="efStatsValue">'+G.xk+"</span><br>",fn()&&(b+='\u2022 fishes placed: <span class="efStatsValue">'+G.tk+"</span><br>",b+='\u2022 fishes deleted: <span class="efStatsValue">'+G.yk+"</span><br>"),b+="<br>");0<G.na&&G.ef&&(b+="<b>Challenges</b><br>",
b=G.challenge?b+('\u2022 current challenge: <span class="efStatsValue">'+la(V[G.challenge].name)+"</span><br>"):b+'\u2022 current challenge: <span class="efStatsValue">None</span><br>',b+='\u2022 challenges attempted: <span class="efStatsValue">'+(G.uk+(G.challenge?1:0))+"</span><br>",b+='\u2022 challenges unlocked: <span class="efStatsValue">'+G.ef+"</span><br>",b+='\u2022 challenges completed: <span class="efStatsValue">'+G.zh+"</span><br>",G.zh!=G.ek&&(b+='\u2022 challenge stages completed: <span class="efStatsValue">'+
G.fk+"</span><br>",b+='\u2022 challenge fully completed: <span class="efStatsValue">'+G.ek+"</span><br>"),b+='\u2022 total challenge production bonus: <span class="efStatsValue">'+K(jA(0))+"</span><br>",b+='\u2022 total challenge resin + twigs bonus: <span class="efStatsValue">'+K(jA(1))+"</span><br>",b+="<br>");0<G.na&&(b=G.challenge?b+"<b>Previous Run (Non-challenge)</b><br>":b+"<b>Previous Run</b><br>",b+='\u2022 tree level: <span class="efStatsValue">'+G.ji+"</span><br>",b+='\u2022 start time: <span class="efStatsValue">'+
m.gf(G.Gj)+"</span><br>",b+='\u2022 duration: <span class="efStatsValue">'+m.R(G.Nc)+"</span><br>",b+='\u2022 total earned: <span class="efStatsValue">'+G.Ld.toString()+"</span><br>",b+='\u2022 highest resources: <span class="efStatsValue">'+G.Fj.toString()+"</span><br>",b+='\u2022 highest production/s: <span class="efStatsValue">'+G.Ej.toString()+"</span><br>",b+='\u2022 ferns: <span class="efStatsValue">'+G.cl+"</span><br>",b+='\u2022 planted (permanent): <span class="efStatsValue">'+G.fl+"</span><br>",
b+='\u2022 planted (brassica): <span class="efStatsValue">'+G.gl+"</span><br>",b+='\u2022 crops deleted: <span class="efStatsValue">'+G.hl+"</span><br>",b+='\u2022 upgrades: <span class="efStatsValue">'+G.il+"</span><br>",0<G.od&&(b+='\u2022 fruits: <span class="efStatsValue">'+G.dl+"</span><br>",b+='\u2022 fruit upgrades: <span class="efStatsValue">'+G.el+"</span><br>"),b+='\u2022 weather abilities activated: <span class="efStatsValue">'+G.bl+"</span><br>",G.ma.h.J(0)&&(b+='\u2022 resin/hour: <span class="efStatsValue">'+
G.Ld.h.ub(G.Nc/3600).toString()+"</span><br>",b+='\u2022 best resin/hour: <span class="efStatsValue">'+G.eh.h.toString()+", at level "+G.bh.h.valueOf()+", at runtime "+m.R(G.dh.h.valueOf())+"</span><br>"),G.ma.K.J(0)&&(b+='\u2022 twigs/hour: <span class="efStatsValue">'+G.Ld.K.ub(G.Nc/3600).toString()+"</span><br>",b+='\u2022 best twigs/hour: <span class="efStatsValue">'+G.eh.K.toString()+", at level "+G.bh.K.valueOf()+", at runtime "+m.R(G.dh.K.valueOf())+"</span><br>"),b+="<br>");a.innerHTML=b}
var SF=!1;
function RJ(){SF=!0;var a=Da({title:"Transcension statistics",Ia:!0,icon:ke,onclose:function(){SF=!1}}).content.a;var b='<b>Transcensions</b><br>\u2022 transcensions: <span class="efStatsValue">'+(G.na+"</span>");1<=G.Ig&&(b+=' (automated: <span class="efStatsValue">'+G.Ig+"</span>",1<=G.Ne&&(b+=', last streak: <span class="efStatsValue">'+G.Ne+"</span>"),b+=")");b+="<br>";1<=G.Ne&&(b+='\u2022 resources from last auto-transcend streak: <span class="efStatsValue">'+G.qg.toString()+"</span>",b+="<br>");
var d=Math.min(Math.min(15,G.sd.length),G.vf.length);if(0<d){b+="\u2022 last transcension levels (1 = last, 2 = second last, ...):<br>";for(var e=0;e<d;e++){b+="&nbsp;&nbsp;\u25e6 "+(e+1)+': <span class="efStatsValue">';var f=PJ(G.sd[G.sd.length-1-e]);b+="level: "+G.vf[G.vf.length-1-e];b+=", time: "+f;f=G.wf[G.wf.length-1-e];void 0!=f&&(b+=", resin: "+f.toString());f=G.Oj[G.Oj.length-1-e];void 0!=f&&(b+=", twigs: "+f.toString());f=G.Nj[G.Nj.length-1-e];void 0!=f&&(b+=", season: "+Um[f]);G.gg[G.gg.length-
1-e]&&(b+=", challenge.");b+="</span><br>"}}a.innerHTML=b+"<br>"}function SJ(){return'Reddit: <a target="_blank" href="https://www.reddit.com/r/etherealfarm/">https://www.reddit.com/r/etherealfarm/</a><br/>Discord: <a target="_blank" href="https://discord.gg/9eaTxXvMT2">https://discord.gg/9eaTxXvMT2</a><br/>Fandom wiki: <a target="_blank" href="https://ethereal-farm.fandom.com/wiki/Ethereal_Farm_Wiki">https://ethereal-farm.fandom.com/wiki/Ethereal_Farm_Wiki</a><br/><br/>'}var PF=!1;
function TJ(){PF=!0;var a=hd[1];G.beta?a=oe:G.$a&1?a=kd[Math.floor(4*Math.random())]:G.$a&2?a=nd:G.$a&4&&(a=Ug[0]);a=Da({title:"About",icon:a,onclose:function(){PF=!1},Ia:!0});var b="Ethereal Farm v"+UJ();b+="<br/><br/>";window.global_is_beta&&(b+="<b>This is a beta test version! Saves from a beta version can never be imported into the regular game! But you can import saves from the regular game here for testing.</b><br/><br/>");b+=SJ();b=b+"Changelog:<br/><br/>"+BJ();a.content.a.innerHTML=b+"Copyright (c) 2020-2024 by Lode Vandevenne"}
function VJ(a){var b=a?'<font color="red"><b>Loading failed</b></font>. Read this carefully to help recover your savegame if you don\'t have backups. Copypaste all the recovery savegame(s) below and save them in a text file. Once they\'re stored safely by you, try some of them in the "import save" dialog under settings. One of them may be recent enough and work. Even if the recovery saves don\'t work now, a future version of the game may fix it. Apologies for this.':"Recovery saves. These may be older saves, some from previous game versions. Use at your own risk, but if your current save has an issue, save all of these to a text file as soon as possible so that if there's one good one it doesn't risk being overwritten by more issues. Try importing each of them, hopefully at least one will be good and recent enough.";
for(var d=WJ(),e="",f=0;f<d.length;f++)e+=d[f][0]+"\n"+d[f][1]+"\n\n";0==d.length&&(e='No recovery saves found. Ethereal farm savegames are stored in local storage of your web browser for the current website. If you expected to see savegames here, there may be several possible reasons:\n\n \u2022 Your browser deleted (or doesn\'t save) local storage for this website\n\n \u2022 After manually performing a hard reset all data is erased\n\n \u2022 Never played the game on this device or in this browser.\n\n \u2022 Played the game on a different website (URL). If you played on a different website before and want to continue here, you can export the save there and import it here in the settings.\n\n \u2022 Other modifications to the URL: for example, ensure no "www" in front and "https", not "http" in front.\n\n');
!a&&0<d.length&&!XJ?zJ(G,function(g){e+="current\n"+g+"\n\n";YJ("Recovery saves",b,e,"ethereal-farm-recovery-"+m.gf(m.getTime(),!0)+".txt",!a)}):YJ("Recover old save",b,e,"ethereal-farm-recovery-"+m.gf(m.getTime(),!0)+".txt",!a)}
function YJ(a,b,d,e,f){var g=400<a.length||1E3<d.length,h=void 0,k=void 0;document.queryCommandSupported&&document.queryCommandSupported("copy")&&document.execCommand&&(h=function(){p.select();p.focus();try{document.execCommand("copy")}catch(q){return T("failed to copy to clipboard",ZJ,0,0),l.a.innerText="failed to copy to clipboard, copy it manually with ctrl+c instead",l.a.style.color="red",!0}f&&fb();T("save copied to clipboard");return!0},k="to clipboard");a=Da({title:a,size:g?2:Za,vb:[function(){var q=
document.createElement("a");q.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(p.value+"\n"));q.setAttribute("download",e);q.style.display="none";document.body.appendChild(q);q.click();document.body.removeChild(q);f&&fb();T("save exported to file");return!0},h],names:["download",k],Wc:"back"});if(b){var l=new F(a.content,0,0,1,.15);l.a.innerHTML=b}b=new F(a.content,0,.2,1,1);var p=m.Yf("textarea","0","0","100%","100%",b.a);p.value=d;p.select()}
function $J(a,b,d,e){d=d.trim();""!=d&&AJ(d,function(f){T("Imported save",aK,0,0);f.Ul++;f.Wi=m.getTime();fb();bK();cK();dK();eK="";fK=0;gK=!1;hK();a&&(f.paused=!0);b&&(f.paused=!1);iK();Hm();m.ld(pl);XJ=!1;OJ()},function(f){var g="Invalid savegame";f&&1==f.yc&&(g+="\nLoading fail reason: the string is too short to be a savegame");f&&2==f.yc&&(g+="\nLoading fail reason: not base64");f&&3==f.yc&&(g+="\nLoading fail reason: invalid signature");f&&4==f.yc&&(g+="\nLoading fail reason: format structure");
f&&5==f.yc&&(g+="\nLoading fail reason: decompression");f&&6==f.yc&&(g+="\nLoading fail reason: checksum mismatch");f&&7==f.yc&&(g+="\nLoading fail reason: savegame is from later version than current game version");f&&8==f.yc&&(g+="\nLoading fail reason: savegame is from an early preview version of the game and no longer supported");f&&9==f.yc&&(g+="\nLoading fail reason: savegame is from a beta version");e.a.innerText=g;e.a.style.color="";f&&f.yc&&(e.a.style.color="#f00")})}
function jK(){function a(){var f=(new F(b.content,.1,d,.9,d+.06,1)).a;La(f);d+=.066;return f}var b=Da({title:"Main Menu"}),d=.05;var e=a();e.j.innerText="save now";Lb(e,"Save to local storage now. The game also autosaves every few minutes, but this button is useful before shutting down the computer or browser right after doing some game actions to ensure they are saved. Also force-stores the undo state.");E(e,function(){OJ(function(){T("Manually saved state locally");fb()})});e.id="settings_save";
e=a();e.j.innerText="export save";Lb(e,"Export an encoded savegame, for backups.");E(e,function(){G.Sl++;G.Vi=m.getTime();zJ(G,function(f){YJ("Export save","Export a savegame backup: copy or download the encoded savegame below, and store it somewhere safe. Do this regularly: even though the game autosaves locally in the web browser, browsers can easily lose this data. This contains all your progress!",f,"ethereal-farm-"+m.gf(m.getTime(),!0)+".txt",!0)})});e.id="settings_export";e=a();e.j.innerText=
"import save";Lb(e,'Import a save, which you created with "export save". Hold shift while pressing the import button to load the savegame paused (frozen in time like it was back then, season and all, without gaining extra resources)');E(e,function(){var f=Da({size:Za,vb:function(k,l){$J(k,l,h.value,g);return!0},names:"import",po:"import paused",wp:"import unpaused",Wc:"cancel",title:"Import savegame"}),g=new F(f.content,0,0,1,.1);g.a.innerHTML='Import a savegame backup. You can create a backup with "export save". Paste in here and press "import".<br/><font color="red">Warning: this overwrites your current game!</font>';
var h=m.Yf("textarea","1%","30%","98%","68%",f.content.a);va()||(h.select(),h.focus())});e.id="settings_import";e=a();e.j.innerText="hard reset";Lb(e,"Performs a hard reset. This removes all savegame data, deletes your entire game and starts a new game from the beginning.\n\nWARNING: This is not a soft reset: nothing is kept, everything will be deleted, including achievements, settings and recovery saves. This starts over with a new, blank, savegame, and cannot be reverted. Are you sure you want to do this?");
E(e,function(){var f=Da({size:Za,vb:function(){kK();T("Hard reset performed, everything reset",qJ,0,0);m.ld(ol);m.ld(pl);m.ld(ql);m.ld(rl);m.ld(sl);m.ld(tl);m.ld(ul);m.ld(ol+"_manual");m.ld(ol+"_transcend");m.ld(ol+"_prev_version2");m.ld(ol+"_daily3");vJ(jH());bK();cK();dK();eK="";fK=0;lK=gK=!1;xJ();hK();Hm();fb();return!0},names:"reset",title:"Hard reset"});f.content.a.innerText="Performs a hard reset. This removes all savegame data, deletes your entire game and starts a new game from the beginning.\n\nWARNING: This is not a soft reset: nothing is kept, everything will be deleted, including achievements, settings and recovery saves. This starts over with a new, blank, savegame, and cannot be reverted. Are you sure you want to do this?";
f.content.a.style.color="red"});e.id="settings_hardreset";d+=.025;e=a();e.j.innerText="preferences";Lb(e,"Various UI, saving, gameplay and other settings.");E(e,function(){MJ()});e.id="settings_preferences";e=a();e.j.innerText="number format";Lb(e,"Change the precision and display type for large numbers.");E(e,function(){FJ()});e.id="settings_number";d+=.025;e=a();e.j.innerText="player stats";E(e,function(){QJ()});e.id="settings_player_stats";0<G.na&&(e=a(),e.j.innerText="transcension stats",E(e,
function(){RJ()}),e.id="settings_player_stats");G.ef&&(e=a(),e.j.innerText="challenge stats",E(e,function(){mK()}),e.id="settings_challenge_stats");d+=.025;e=a();e.j.innerText="help";E(e,function(){nK()});e.id="settings_help";e=a();e.j.innerText="about & changelog";E(e,function(){TJ()});e.id="settings_about"}function oK(a,b,d){var e=1/11;return new F(pK,[.05+e*a,0,-.4*e,11],[.5,0,-.4,e],[.05+e*(b-1),0,.4*e,11],[.5,0,.4,e],d)}var qK=void 0,rK=void 0,sK=void 0;sK=-1;
function tK(){if(rK){var a=zG();a!=sK&&(window.global_is_beta?qb(oe,rK):a&1?qb(kd[Math.floor(4*Math.random())],rK):a&2?qb(nd,rK):a&4?qb(Ug[0],rK):qb(hd[1],rK),sK=a)}};var uK=void 0,vK=void 0,wK=void 0,xK=void 0,yK=void 0,zK=void 0,AK=void 0,BK=void 0,CK=void 0,DK=void 0,EK=void 0;
function FK(a,b,d,e,f){var g=!1;0==a&&(g=!!G.o[tn].count);1==a&&(g=!!G.o[vn].count);2==a&&(g=!!G.o[xn].count);if(g){var h;0==a&&(h=mn(720));1==a&&(h=mn(1080));2==a&&(h=mn(1440));var k;0==a&&(k=gn(120));1==a&&(k=gn(180));2==a&&(k=gn(240));if(0==a)var l=G.Lb;1==a&&(l=G.xb);2==a&&(l=G.zb);g=fp(a);l=G.time-l;a=l>h?g?1:0:l>k||G.Ob!=a?g?3:2:4}else a=null;a=0==a?"ready":1==a?"ready, perma":2==a?"recharging":3==a?"recharging, perma":4==a?"active":null;f-=e;b=b+": "+d+"<br>Run time: "+m.R(e)+". Cooldown time: "+
m.R(f);a&&(b+="<br><br>Status: "+la(a));return b}var GK=-1,HK=-1,IK=-1,JK=-1,KK=-1;
function LK(){var a=Cu(),b=a!=KK;KK=a;!xK||G.o[tn].count&&!b||(ob(xK,pK),ob(yK,pK),xK=void 0);if(G.challenge!=dp&&!xK&&G.o[tn].count){xK=oK(4,5);Ga(xK.a,!0);yK=oK(3.8,5.2,2.5);sa(yK.a);yK.a.className="efWeatherOff";yK.a.style.userSelect="none";yK.a.style.pointerEvents="none";zK=new F(xK,0,-.1,1,0);zK.a.className="efWeatherPerma";var d=new F(xK,0,0,1,1);d=pb("0%","0%","100%","100%",d.a);qb(Hd,d);xa(xK.a,function(h,k){h?G.Ob=0:W({type:MK,mg:0,Xc:!k});Hm()},"sun ability",{Zc:a?"change perma weather only":
void 0,Le:a?"activate without changing perma":void 0,Ba:function(){return FK(0,"sun ability","berries get a +"+K(ep())+" production bonus and aren't negatively affected by winter",gn(120),mn(720))}});xK.a.id="sun_button"}G.o[tn].count&&xK&&((d=m.getTime()-G.Lb,d>mn(720)?yK.a.j.innerHTML="":d>gn(120)||0!=G.wb?(yK.a.className="efWeatherOff",yK.a.j.innerHTML="<small>ready in:</small><br>"+m.R(mn(720)-d,!0)):(yK.a.className="efWeatherOn",yK.a.j.innerHTML="<small>active:</small><br>"+m.R(gn(120)-d,!0)),
!a||0!=G.Ob||0!=G.wb&&(sn()||un()||wn()))?a&&0==G.Ob?2!=zK.tc&&(zK.tc=2,zK.a.className="efWeatherPermaOff",zK.a.style.visibility="visible"):1!=zK.tc&&(zK.tc=1,zK.a.style.visibility="hidden"):3!=zK.tc&&(zK.tc=3,zK.a.className="efWeatherPerma",zK.a.style.visibility="visible"));!uK||G.o[vn].count&&!b||(ob(uK,pK),ob(vK,pK),uK=void 0);G.challenge!=dp&&!uK&&G.o[vn].count&&(uK=oK(5,6),Ga(uK.a,!0),vK=oK(4.8,6.2,2.5),sa(vK.a),vK.a.style.userSelect="none",vK.a.style.pointerEvents="none",wK=new F(uK,0,-.1,1,
0),wK.a.className="efWeatherPerma",d=new F(uK,0,0,1,1),d=pb("0%","0%","100%","100%",d.a),qb(Gd,d),xa(uK.a,function(h,k){h?G.Ob=1:W({type:MK,mg:1,Xc:!k});Hm()},"mist ability",{Zc:a?"change perma weather only":void 0,Le:a?"activate without changing perma":void 0,Ba:function(){return FK(1,"mist ability","mushrooms produce "+K(hp())+" more spores, consume "+K(Lj(gp()))+" less seeds, and aren't negatively affected by winter",gn(180),mn(1080))}}),uK.a.id="mist_button");G.o[vn].count&&uK&&((d=m.getTime()-
G.xb,d>mn(1080)?vK.a.j.innerHTML="":d>gn(180)||1!=G.wb?(vK.a.className="efWeatherOff",vK.a.j.innerHTML="<small>ready in:</small><br>"+m.R(mn(1080)-d,!0)):(vK.a.className="efWeatherOn",vK.a.j.innerHTML="<small>active:</small><br>"+m.R(gn(180)-d,!0)),!a||1!=G.Ob||1!=G.wb&&(sn()||un()||wn()))?a&&1==G.Ob?2!=wK.tc&&(wK.tc=2,wK.a.className="efWeatherPermaOff",wK.a.style.visibility="visible"):1!=wK.tc&&(wK.tc=1,wK.a.style.visibility="hidden"):3!=wK.tc&&(wK.tc=3,wK.a.className="efWeatherPerma",wK.a.style.visibility=
"visible"));!AK||G.o[xn].count&&!b||(ob(AK,pK),ob(BK,pK),AK=void 0);G.challenge!=dp&&!AK&&G.o[xn].count&&(AK=oK(6,7),Ga(AK.a,!0),BK=oK(5.8,7.2,2.5),sa(BK.a),BK.a.style.userSelect="none",BK.a.style.pointerEvents="none",CK=new F(AK,0,-.1,1,0),CK.a.className="efWeatherPerma",d=new F(AK,0,0,1,1),d=pb("0%","0%","100%","100%",d.a),qb(Id,d),xa(AK.a,function(h,k){h?G.Ob=2:W({type:MK,mg:2,Xc:!k});Hm()},"rainbow ability",{Zc:a?"change perma weather only":void 0,Le:a?"activate without changing perma":void 0,
Ba:function(){return FK(2,"rainbow ability","rainbow ability: flowers get a +"+K(Lp())+" boost and aren't negatively affected by winter",gn(240),mn(1440))}}),AK.a.id="rainbow_button");G.o[xn].count&&AK&&((d=m.getTime()-G.zb,d>mn(1440)?BK.a.j.innerHTML="":d>gn(240)||2!=G.wb?(BK.a.className="efWeatherOff",BK.a.j.innerHTML="<small>ready in:</small><br>"+m.R(mn(1440)-d,!0)):(BK.a.className="efWeatherOn",BK.a.j.innerHTML="<small>active:</small><br>"+m.R(gn(240)-d,!0)),!a||2!=G.Ob||2!=G.wb&&(sn()||un()||
wn()))?a&&2==G.Ob?2!=CK.tc&&(CK.tc=2,CK.a.className="efWeatherPermaOff",CK.a.style.visibility="visible"):1!=CK.tc&&(CK.tc=1,CK.a.style.visibility="hidden"):3!=CK.tc&&(CK.tc=3,CK.a.className="efWeatherPerma",CK.a.style.visibility="visible"));G.challenge!=dp||DK?G.challenge!=dp&&DK&&(ob(DK,pK),DK=void 0):(DK=oK(4,5),Ga(DK.a,!0),d=new F(DK,0,0,1,1),d=pb("0%","0%","100%","100%",d.a),qb(Jd,d),E(DK.a,function(){Da({title:"Lightning info",icon:Jd}).content.a.innerHTML="Stormy weather is active throughout this challenge and lightning will strike a crop every 2 minutes. In addition, berries, mushrooms and flowers are half as effective.<br><br>Struck crops become ghosts. These can't be replanted by the automaton, but you can override multiple at once with a blueprint."},
"lightning info"),DK.a.id="lightning_button",Lb(DK.a,"Stormy weather is active throughout this challenge and lightning will strike a crop every 2 minutes. In addition, berries, mushrooms and flowers are half as effective."));if(Ub(G.ma.f,300)){b=(d=G.ra==NK)?WH():UH();a=G.challenge==Kl;var e=G.za.bc;if(!EK||GK!=b||HK!=d||IK!=a||JK!=e){EK&&(EK.clear(),ob(EK,pK));GK=b;HK=d;IK=a;JK=e;if(d){a=Nz[b].image[4];var f=Nz[b].name;var g="watercress"}else G.challenge==Kl?a=G.za.bc?Xi:Wi:(a=Ff[4],f="watercress",
0<=b&&(a=Pm[b].image[4],f=Pm[b].name),g=G.D[kr].Ke?"brassica":f);EK=oK(9,10);b="refresh "+g;d?(e="Refresh "+g+": replants "+g+" remainders, upgrades to next tier if possible, and else refreshes partially used up ones. Hotkey: w. With ctrl, deletes all "+g+". With shift, plants the highest possible "+g+" everywhere it can. If it did nothing without shift, will act like shift was pressed. Use carefully: while you don't lose any infinity seeds from refreshing because "+(g+" give a refund based on their remaining lifespan, it is more efficient for income to have multiple halfway "+
g+" than a single fully refreshed one, unless you're away for a while."),f="plant "+g+" everywhere",g="delete all "+g):G.challenge==Kl?(e="Go: spawn the next wave for tower defense. With shift key, shows TD help dialog.",b="Go (spawn tower defense wave)",f="Tower defense help",g=void 0):(e="Refresh "+g+": active "+g+" and remainders only. Hotkey: w. With ctrl, deletes all "+g+". With shift, plants "+f+" everywhere it can.",f="plant "+f+" everywhere",g="delete all "+g);Ga(EK.a,!0);d=new F(EK,0,0,1,
1);d=pb("0%","0%","100%","100%",d.a);qb(a,d);xa(EK.a,function(h,k){G.ra==NK?OK(k,h):G.challenge==Kl?h?qu(44,!0):W({type:PK}):QK(k,h)},b,{Zc:f,Le:g,Ba:e});EK.a.id="watercress_button"}}else EK&&(EK.clear(),ob(EK,pK),EK=void 0)}
function QK(a,b,d){if(!a||!b){var e=!1,f=!1,g=!1,h=!1,k=Pm[jr].T.f,l=UH();if(!(0>l)){for(var p=c(G.b.f),q=0;q<G.F;q++)for(var n=0;n<G.C;n++){var u=G.G[q][n],x=S(u);new P;var y=k;if(x&&x.type==Al){var r=x.Wa(u).f;y=y.sub(r)}r=p.Ma(y);u.index==AG?a?(W({type:rH,x:n,y:q,silent:!0,la:d}),g=!0):r&&(p.wa(y),W({type:sH,x:n,y:q,aa:Pm[l],xc:!0,silent:!0,la:d}),e=!0):x&&x.type==Al&&(r||a)?(W({type:rH,x:n,y:q,silent:!0,la:d}),f=zn(x)?x:Pm[l],a||(p.wa(y),W({type:sH,x:n,y:q,aa:f,xc:!0,silent:!0,la:d})),f=!0):u.index!=
Cs+Kr&&u.index!=Cs+js||!r?b&&r&&(0==u.index||u.index==AG||u.index==Cs+Kr||u.index==Cs+js)&&(u.index!=Cs+Kr&&u.index!=Cs+js||W({type:rH,x:n,y:q,silent:!0,la:d}),p.wa(y),W({type:sH,x:n,y:q,aa:Pm[l],xc:!0,silent:!0,la:d}),h=!0):a||(p.wa(y),W({type:RK,x:n,y:q,aa:Pm[l],xc:!0,silent:!0,la:d}),f=!0)}h?T("planting brassica"):e?T("replanting brassica"):f?T(a?"deleting brassica":"refreshing brassica"):g?T("cleared brassica remainders"):p.ka(k)?T("nothing done: only refreshes existing brassica or remainders of brassica, and requires enough resources available to plant the brassica"):
T("nothing done: only refreshes existing brassica or remainders of brassica. A second click can fill up the rest of the field with brassica, when having enough resources.");d||Hm()}}}
function OK(a,b,d,e){if(!a||!b){var f=!1,g=!1,h=!1,k=!1,l=VH();if(!(0>l)){var p=EC;l>EC&&(p=l-1);var q=EC;p>EC&&(q=p-1);for(var n=c(G.b.v),u=Nz[l].T.v,x=Nz[p].T.v,y=Nz[q].T.v,r=0,v=0,w=[],H=0;H<G.Ga;H++){w[H]=[];for(var D=0;D<G.Ha;D++){w[H][D]=!1;var A=n.Ma(u),I=n.Ma(x),X=n.Ma(y),z=G.va[H][D],$a=S(z);if(z.index==AG)if(a)W({type:SK,x:D,y:H,silent:!0,la:d}),h=!0;else{if(A||I||X)X=A?Nz[l]:I?Nz[p]:Nz[q],I=A?u:I?x:y,n.wa(I),W({type:TK,x:D,y:H,aa:X,xc:!0,silent:!0,la:d}),f=!0,r++}else if($a&&$a.type==Al&&
a)W({type:SK,x:D,y:H,silent:!0,la:d}),n.u($a.Wa(z).v),v++;else if(b&&0==z.index)!(A||I||X)||0!=z.index&&z.index!=AG||(X=A?Nz[l]:I?Nz[p]:Nz[q],I=A?u:I?x:y,n.wa(I),W({type:TK,x:D,y:H,aa:X,xc:!0,silent:!0,la:d}),r++,k=!0);else if($a&&$a.type==Al&&$a.g<Nz[l].g){var db=$a.Wa(z);A=n.Ma(u.sub(db.v));I=n.Ma(x.sub(db.v));X=n.Ma(y.sub(db.v));if(A||I||X)X=A?Nz[l]:I?Nz[p]:Nz[q],I=A?u:I?x:y,X.g>$a.g&&(n.u(db.v),W({type:SK,x:D,y:H,silent:!0,la:d}),n.wa(I),W({type:TK,x:D,y:H,aa:X,xc:!0,silent:!0,la:d}),.999>z.H&&
r++,g=!0)}}}if(!a&&!b&&!r)for(H=0;H<G.Ga;H++)for(D=0;D<G.Ha;D++)z=G.va[H][D],($a=S(z))&&$a.type==Al&&zn($a)&&(I=$a.O(),db=$a.Wa(z),A=n.Ma(I.v),f||(A=n.Ma(I.v.sub(db.v))),A&&(n.u(db.v),W({type:SK,x:D,y:H,silent:!0,la:d}),n.wa(I.v),W({type:TK,x:D,y:H,aa:$a,xc:!0,silent:!0,la:d}),.999>z.H&&r++,g=!0));0!=r||b||a||d?(k?T("planting infinity brassica"):f?T("replanting infinity brassica"):v?T("deleting infinity brassica"):g?T("refreshing infinity brassica"):h?T("cleared infinity brassica remainders"):n.ka(u)?
T("nothing done: only refreshes existing infinity brassica or remainders of infinity brassica, and requires enough resources available to plant the infinity brassica"):b&&!e?T("nothing done: with shift, only adds new infinity brassica where possible, doesn't refresh existing ones"):T("nothing done: no brassica or brassica remainders available to refresh"),d||Hm()):OK(!1,!0,!1,!0)}}}
function UK(a){var b=Da({title:"Choose weather",size:Za,pb:"Select which weather to activate for this auto-action.",Wc:"cancel"}),d=new F(b.content,.05,.3,.3,[.3,.25]),e=pb("0%","0%","100%","100%",d.a);qb(Hd,e);Ga(d.a);E(d.a,function(){a(0);Ha()},"Sun");d.a.title="Sun";d=new F(b.content,.35,.3,.6,[.3,.25]);e=pb("0%","0%","100%","100%",d.a);qb(Gd,e);Ga(d.a);E(d.a,function(){a(1);Ha()},"Mist");d.a.title="Mist";b=new F(b.content,.7,.3,.95,[.3,.25]);d=pb("0%","0%","100%","100%",b.a);qb(Id,d);Ga(b.a);
E(b.a,function(){a(2);Ha()},"Rainbow");b.a.title="Rainbow"}function VK(a,b){var d=m.Gh(a),e=m.Si(a),f=a.key;a=a.code;4==a.length&&"Key"==a.substr(0,3)&&"A"<=a[3]&&"Z">=a[3]&&(f=a[3].toLowerCase());6==a.length&&"Digit"==a.substr(0,5)&&(void 0==b||a[5]<b)&&(f=a[5]);return{key:f,code:a,shift:d,Bh:e}}
document.addEventListener("keydown",function(a){if(0<Ua){if(27==a.keyCode||"Escape"==a.code)Eb?jb():Ha(!0)}else{var b=G.ae;m.Gh(a)&&(b=G.Je);var d=VK(a,1==b?"4":0==b?"0":void 0);a=d.key;var e=d.code,f=d.shift;d=d.Bh;if("0"<=a&&"9">=a){if(0==b)return;var g=a-0;1==b?("1"==a&&(W({type:MK,mg:0,Xc:!0}),Hm()),"2"==a&&(W({type:MK,mg:1,Xc:!0}),Hm()),"3"==a&&(W({type:MK,mg:2,Xc:!0}),Hm())):2==b?("0"==g&&(g=10),WK(g-1)):3==b?("0"==g&&(g=10),b=g-1,b<G.Z.length&&b<XK()&&(W({type:YK,slot:g-1,silent:!1,Ln:!0}),
Hm())):4==b&&0<=g&&g<G.ua.length&&ZK(g);f&&($K(),aL())}"t"!=a||f||d||(G.challenge?bL():G.s>=ty&&cL());"w"!=a||d||(G.ra==NK?OK(!1,f):G.challenge==Kl?f?qu(44,!0):W({type:PK}):QK(!1,f));"b"!=a||f||d||G.ra!=NK&&(G.ra==dL||G.ra==eL?fL(void 0,void 0,!0):fL(void 0,void 0,!1));if("u"==a&&!f&&!d&&G.ra==gL){b=void 0;G.G[hL]&&(b=G.G[hL][iL]);g=!1;b&&b.index==AG||(g|=jL(iL,hL));var h=g;!g&&b&&((b=G.G[hL][iL])&&b.index==AG&&(W({type:sH,x:iL,y:hL,aa:Pm[jr],xc:!0}),g=!0),!h&&b&&io(b)&&S(b).type==Al&&1>b.H&&(W({type:RK,
x:iL,y:hL,aa:S(b),xc:!0,silent:!0}),g=!0));g&&Hm()}"u"!=a||f||d||G.ra!=dL||(g=0|kL(lL,mL))&&Hm();if("u"==a&&!f&&!d&&G.ra==NK){b=void 0;G.va[nL]&&(b=G.va[nL][oL]);g=!1;!g&&b&&b.index==AG&&(W({type:TK,x:oL,y:nL,aa:Nz[XH()],xc:!0}),g=!0);if(!g&&b&&io(b)&&S(b).type==Al&&1>b.H){h=XH(S(b).Wa(b));var k=VH();h>=S(b).index&&(W({type:pL,x:oL,y:nL,aa:Nz[h],xc:!0,silent:!0}),k<=h||.9>b.H)&&(g=!0)}!g&&b&&(g|=qL(oL,nL));g&&Hm()}if("p"==a&&!d&&G.ra==gL){g=!1;if(G.G[hL]){if(b=G.G[hL][iL])!f&&Yo(b)?G.qb=S(b).index:
0<=G.qb&&Pm[G.qb]&&(h=Pm[G.qb],G.challenge==Kl&&h.O().ba(G.b)&&(h=rL(h.type,G.b,!0)),h&&(b=Yo(b)?RK:sH,W({type:b,x:iL,y:hL,aa:h,Ka:!0}),g=!0))}else null!=sL&&G.D[sL]&&G.D[sL].c&&(G.qb=sL);g&&Hm()}"p"==a&&!d&&G.ra==dL&&G.xa[mL]&&(b=G.xa[mL][lL])&&(!f&&Yo(b,!0)?G.Wb=S(b,!0).index:0<=G.Wb&&Uu[G.Wb]&&(b=Yo(b)?tL:uL,W({type:b,x:lL,y:mL,aa:Uu[G.Wb],Ka:!0}),Hm()));"p"==a&&!d&&G.ra==NK&&G.va[nL]&&(b=G.va[nL][oL])&&(!f&&Yo(b,!0)?G.Jb=S(b,!0).index:0<=G.Jb&&Nz[G.Jb]&&(b=Yo(b)?pL:TK,W({type:b,x:oL,y:nL,aa:Nz[G.Jb],
Ka:!0}),Hm()));"d"!=a||f||d||G.ra!=gL||(g=!1,G.G[hL]&&(b=G.G[hL][iL])&&(Yo(b,!0)||b.index==AG)&&(G.challenge==Kl&&G.za.uc?vL(iL,hL):W({type:rH,x:iL,y:hL}),g=!0),g&&Hm());"d"==a&&f&&!d&&G.ra==gL&&(g=!1,G.G[hL]&&(b=G.G[hL][iL])&&Yo(b)&&(vL(iL,hL),g=!0),g&&Hm());"d"!=a||f||d||G.ra!=dL||!G.xa[mL]||(b=G.xa[mL][lL])&&Yo(b)&&(W({type:wL,x:lL,y:mL}),Hm());"d"==a&&f&&!d&&G.ra==dL&&G.xa[mL]&&(b=G.xa[mL][lL])&&Yo(b)&&(xL(lL,mL),Hm());"d"!=a||f||d||G.ra!=NK||!G.va[nL]||(b=G.va[nL][oL])&&(Yo(b)||b.index==AG)&&
(W({type:SK,x:oL,y:nL}),Hm());"d"==a&&f&&!d&&G.ra==NK&&G.va[nL]&&(b=G.va[nL][oL])&&Yo(b)&&(yL(oL,nL),Hm());"f"!=a||f||d||eM(gL);"e"!=a||f||d||0<G.na&&eM(dL);"i"!=a||f||d||0<ZD()&&eM(NK);"z"==a&&!f&&d&&(fM(),Hm());"Escape"!=e||f||d||jK();"]"!=a&&"}"!=a&&")"!=a&&">"!=a||d||(2==G.dc&&(e=(void 0==gM[G.ra]?0:gM[G.ra])+1,e>=hM&&(e=0),WK(e)),3==G.dc&&G.ob+1<G.Z.length&&G.ob+1<XK()&&(W({type:YK,slot:G.ob+1}),Hm()));"["!=a&&"{"!=a&&"("!=a&&"<"!=a||d||(2==G.dc&&(e=(void 0==gM[G.ra]?0:gM[G.ra])-1,0>e&&(e=hM-
1),WK(e)),3==G.dc&&0<G.ob&&(W({type:YK,slot:G.ob-1}),Hm()))}});function iM(a){function b(){var ya=new F(e,.01,g,.4,g+.05);g+=.06;return ya}var d;0==a?d="Configure auto upgrade":1==a?d="Configure auto plant":2==a&&(d="Configure auto unlock");var e=Da({title:d,pb:B(qu,0==a?29:1==a?31:33,!0),Ia:!0}).content,f=0;d=.06;var g=0,h=[1,.5,.2,.1,.05,.02,.01,.005,.002,.001,5E-4,2E-4,1E-4,0],k=0==a?"upgrades":1==a?"planting":"unlock";if(LH()){if(0==a){var l="berry mushroom flower stinging beehive brassica".split(" ");var p=[3,4,5,6,7,2];Ix()&&(l.push("nuts"),p.push(9));
l.push("other");p.push(1);var q=G.Td}else if(1==a||2==a)l="berry mushroom flower stinging beehive mistletoe brassica".split(" "),p=[3,4,5,6,7,8,2],q=1==a?G.Zb:G.Rd,Ix()&&(l.push("nuts"),p.push(9)),l.push("other"),p.push(1);f=.12;var n=new F(e,.01,g,1,g+.07);n.a.innerText="Select max resource amount for "+k+" of each crop type:";f=g+=f;if(2==a){if(NH()){var u=b();g+=.2*d;u.a.className="efButton";var x=function(){u.a.j.innerText=G.rg?"auto-prestige enabled":"auto-prestige disabled"};Ga(u.a);sa(u.a);
Lb(u.a,"whether to also apply automation of crop prestige upgrades. This uses the same cost settings as auto-unlock");x();E(u.a,function(){G.rg=G.rg?0:1;x();Ha();iM(a)},"enable or disable auto-prestige")}u=b();g+=.2*d;u.a.className="efButton";x=function(){u.a.j.innerText=G.ke?"shared with auto-plant":"customized below"};Ga(u.a);sa(u.a);x();E(u.a,function(){G.ke=!G.ke;x();Ha();iM(a)},"share auto-unlock resource fraction settings with auto-plant")}if(2!=a||!G.ke){for(var y=0;y<l.length;y++){var r=p[y];
n=new F(e,.01,g,.4,g+d);g+=1.2*d;Ga(n.a);sa(n.a);var v=[];var w=0;for(var H=1,D=0;D<h.length;D++){v[D]=K(c(h[D]),3,qk);var A=Math.abs(h[D]-q[r]);A<H&&(w=D,H=A)}q[r]=h[w];dc(n,l[y],w,v,B(function(ya,Ka){q[ya]=h[Ka]},r));Lb(n.a,"max fraction of current amount of resources that the automaton is allowed to spend on this type of auto "+k)}g+=d/4;n=new F(e,.01,g,.4,g+d);g+=1.2*d;Ga(n.a);sa(n.a);dc(n,"set all to",w,v,function(ya){for(var Ka=0;Ka<l.length;Ka++)q[p[Ka]]=h[ya];Ha();iM(a)})}if(2==a){g=f;d=.06;
var I=new F(e,.5,g,.9,g+d);g+=1.2*d;var X=G.Cf,z=function(){var ya="Cost limit: "+X.toString();ya=Zb(X,0)?ya+" (unlimited)":ya+" seeds";I.a.innerText=ya};z();d=.06;w=new F(e,.5,g,.9,g+d);var $a=m.Yf("textarea","0","0","100%","100%",w.a),db=function(){var ya=Mk($a.value);if(!ya||isNaN(ya.A)||isNaN(ya.e)||ac(ya,0))ya=c(0);X=ya;z()};$a.onchange=function(){db();G.Cf=X};$a.onkeyup=db;g+=1.2*d;g+=.03;d=.06;w=new F(e,.5,g,.9,g+d);w.a.innerHTML="Change cost limit in the text box above. Automaton will not buy unlocks more expensive than this value.<br><br>Use 0 to indicate unlimited (default). For example, set to 1001 to prevent auto-unlocking anything higher than blackberry.";
g+=1.2*d}}else{var t=0==a?G.Td:1==a?G.Zb:G.Rd;n=b();Ga(n.a);sa(n.a);h=[1,.5,.2,.1,.05,.02,.01,.005,.002,.001];v=[];w=0;H=1;for(D=0;D<h.length;D++)v[D]=K(c(h[D]),3,qk),A=Math.abs(h[D]-t[0]),A<H&&(w=D,H=A);t[0]=h[w];dc(n,"max cost",w,v,function(ya){t[0]=h[ya]});Lb(n.a,"max fraction of current amount of resources that the automaton is allowed to spend on auto "+k);g+=.03;d=.06;w=new F(e,0,g,1,g+d);w.a.innerHTML="Start the no-upgrades challenge again and beat its next stage to unlock more finetuning options in this dialog";
g+=1.2*d}}var jM=!1;function kM(a,b){var d="<b>"+a.ue+":</b><br>"+a.Vn;d=d+"<br><br><b>"+(a.ve+":</b><br>"+a.Wn);d+="<br><br><b>Manual:</b><br>Handle this upgrade manually instead of through the automaton.<br><br><b>Current status: </b>";d=0==b.count?d+" Not bought":1==b.count?d+(" Bought: "+a.ue):2==b.count?d+(" Bought: "+a.ve):d+" Unknown?";b=-1;a.index==du&&(b=3);a.index==hn&&(b=8);a.index==En&&(b=14);a.index==so&&(b=22);-1!=b&&(d=d+"<br><br><b>Unlocked at tree level: </b>"+b);return d}
function lM(){function a(u,x){var y=u.a.j,r=Bn[k[x]];x=G.xd[x];var v=la(r.name)+": ";2==x?(u.nb=1,v+=la(r.ue)):3==x?(u.nb=2,v+=la(r.ve)):(v+="Manual",u.nb=0);y.innerText=v;void 0!=u.nb&&(u.a.className=0==u.nb?"efAutomatonManual":1==u.nb?"efAutomatonAuto2":"efAutomatonAuto")}function b(){g-=.096;var u=new F(e,.6,[g+.04-.048],[.6,.096],[g+.04+.048]);g+=.096;return u}function d(){var u=new F(e,.01,g,.55,g+.08);g+=.096;return u}jM=!0;var e=Da({onclose:function(){jM=!1},Ia:!0,title:"Configure auto choices"}).content,
f=0,g=0;f=.15;var h=new F(e,.01,g,1,g+.07);h.a.innerText="Choose the action for each choice upgrade dropped by the tree";g+=f;var k=[du,hn,En,so];f=[3,8,14,22];for(var l=0;l<k.length;l++)if(!(G.Oa<f[l])){var p=Bn[k[l]],q=G.o[k[l]];h=d();Ga(h.a);sa(h.a);a(h,l);E(h.a,B(function(u,x){G.xd[x]||(G.xd[x]=1);G.xd[x]++;3<G.xd[x]&&(G.xd[x]=1);a(u,x)},h,l));var n="Configure automaton for this specific choice upgrade:<br><br>";n+=kM(p,q);Lb(h.a,n);h=b();Ga(h.a,!0);p=pb("0%","0%","100%","100%",h.a);qb(je,p);
E(h.a,B(function(u){var x=Bn[k[u]];u=G.o[k[u]];Da({title:x.name+" info"}).content.a.innerHTML=kM(x,u)},l))}}var TF=!1;
function mM(){TF=!0;var a=Da({pb:nM,title:"Automaton features unlock sources",Ia:!0,icon:jg,onclose:function(){TF=!1}});var b="This is what unlocked the automaton features you got so far:<br/><br/> \u2022 Automaton itself: unlock automaton upgrade (ethereal tree level 1)<br/> \u2022 Blueprints and templates: initial<br/> \u2022 Clear / Plant entire field buttons: initial<br/> \u2022 Neighbor bonus in ethereal field: initial<br/> \u2022 Auto-plant (blueprints, and increase crop tier when unlocked): initial<br/>";wu()&&
(b+=" \u2022 Auto-upgrades: no-upgrades challenge (ethereal tree level 2)<br/>");LH()&&(b+=" \u2022 Finetuning options for auto-plant and auto-upgrades costs: no-upgrades challenge stage 2<br/>");KH()&&(b+=" \u2022 Automation of choice upgrades: no-upgrades challenge (ethereal tree level 2)<br/>");tu()&&(b+=" \u2022 Auto-unlock: blackberry challenge (ethereal tree level 3)<br/>");OH()&&(b+=" \u2022 Auto-action: wither challenge (ethereal tree level 5)<br/>");QH()&&(b+=" \u2022 Auto-action weather, brassica refresh and fern: wither challenge stage 4<br/>");
bH()&&(b+=" \u2022 Auto-transcend and seasonal auto-actions: wither challenge stage 6<br/>");3<vu()&&(b+=" \u2022 Extra auto-action slots: other wither challenge stages<br/>");NH()&&(b+=" \u2022 Auto-prestige: truly basic challenge<br/>");a.content.a.innerHTML=b}
function oM(a){var b="";if(0==a.type)b+="tree level: "+a.level;else if(1==a.type||2==a.type||3==a.type||5==a.type){var d=Pm[a.aa-1],e=a.oa,f=d?d.name:"none";d&&e&&(f+=" (prestiged)");1==a.type&&(b+="unlocked crop: "+f);2==a.type&&(b+="planted crop: ",1<a.we&&(b+=a.we+" "),b+=f);3==a.type&&(b+="fullgrown crop: ",1<a.we&&(b+=a.we+" "),b+=f);5==a.type&&(b+="upgraded crop: "+f,1<a.zf&&(b+=" level "+a.zf))}else 4==a.type&&(b+="run time: "+m.R(a.time,!0));return b}
function pM(a,b){var d="Trigger "+a+": ";var e=b.km();d=0==a?d+"This special limited auto-action can only be used to set up start-of-run.":d+oM(e);e=b.ij();var f="";if(e.ye){var g=G.gd[e.tb],h=!g||0==g.data.length;f+="Override blueprint "+(e.tb+1)+" "+(h?"[empty]":'"'+g.name+'"')}e.zg&&(""!=f&&(f+=". "),g=G.Ud[e.zd],h=!g||0==g.data.length,f+="Ethereal blueprint "+(e.zd+1)+" "+(h?"[empty]":'"'+g.name+'"'));e.ze&&(""!=f&&(f+=". "),g=G.Z[e.Gd],f+="Select fruit slot "+(e.Gd+1),g&&(f+=' "'+g.toString()+
'"'));QH()&&(e.Ag&&(""!=f&&(f+=". "),f+="Refresh brassica"),e.Bg&&(""!=f&&(f+=". "),0==e.Af&&(f+="Activate sun"),1==e.Af&&(f+="Activate mist"),2==e.Af&&(f+="Activate rainbow")),e.If&&(""!=f&&(f+=". "),f+="Pick up fern"),e.Jf&&(""!=f&&(f+=". "),f+="Transcend"),e.Fh&&(""!=f&&(f+=". "),f+="Hold season"));""==f&&(f="None");d=d+"<br>Effect "+(a+": ")+f;if(bH()){a=!1;for(e=0;e<b.Hf.length;e++)a|=b.Hf[e];a&&(d=d+"<br>Seasonal overrides: "+qM(b.Hf))}return d}
function qM(a){for(var b="",d=!0,e=0;e<a.length;e++)a[e]&&(d||(b+=", "),d=!1,b+=Um[e]);""==b&&(b="none");return b}function rM(){for(var a=vu(),b=0;b<a;b++){var d=G.ua[b],e=sM(b,d);d.done=e;d.Yn=e}}
function tM(a,b){function d(p){p=.08*(void 0==p?1:p);var q=new F(f,.01,g,.8,g+p);g+=1.2*p;return q}for(var e=G.ua[a],f=Da({title:"Configure auto-action "+a+" trigger seasonal overrides",pb:'This allows to override the auto-action trigger for seasons of your choice. Enable the "override" checkbox of any season to override, and configure the triggers parameters of that season.',onclose:b}).content,g=0,h=0;4>h;h++){var k=Um[h];b=d(.7);var l="Override "+k;l+=" ("+oM(e.Pd[h])+")";Cc(b,e.ti[h],l,B(function(p,
q){e.ti[p]=q},h));b=d();La(b.a);sa(b.a);b.a.j.innerText="Configure "+k+" trigger";E(b.a,B(function(p){uM(a,void 0,p)},h));g+=.05}}
function uM(a,b,d){function e(){var v="";if(0==l.type)v+="tree level: "+l.level;else if(1==l.type||2==l.type||3==l.type||5==l.type){var w=Pm[l.aa-1],H=l.oa,D=w?w.name:"none";w&&H&&(D+=" (prestiged)");1==l.type&&(v+="unlocked crop: "+D);2==l.type&&(v+="planted crop: "+D);3==l.type&&(v+="fullgrown crop: "+D);5==l.type&&(v+="upgraded crop: "+D)}else 4==l.type&&(v+="run time: "+m.R(l.time,!0));x.a.j.innerText=v;v="";5==l.type?(v+="upgrade level: "+l.zf,y.a.style.visibility="visible"):2==l.type||3==l.type?
(v+="minimum count: "+l.we,y.a.style.visibility="visible"):y.a.style.visibility="hidden";y.a.j.innerText=v;r.a.innerText=bH()&&void 0==d?"Seasonal overrides: "+qM(g.ti):""}function f(){var v=new F(q,.01,n,.6,n+.08);n+=.096;return v}var g=G.ua[a];g.done=g.Yn=!0;var h=[],k=[];bH()&&void 0==d&&(h=[function(){tM(a,function(){e()});return!0}],k=["seasonal"]);void 0!=d&&(h=[function(){g.Pd[d]=m.clone(g.fe);window.setTimeout(function(){uM(a,b,d)})}],k=["copy from main"]);var l=g.fe;void 0!=d&&(l=g.Pd[d]);
var p="Configure auto-action "+a+" trigger";void 0!=d&&(p+=" ("+Um[d]+")");var q=Da({onclose:function(){g.done=g.Yn=sM(a,g);g.Re=0;b&&b()},Ia:!0,title:p,pb:"Here you can configure the conditions at which this automaton action will trigger, e.g. after some tree level is reached, some crops are unlocked or after a certain time",vb:h,names:k,Wc:"back"}).content,n=0;h=f();La(h.a);sa(h.a);var u=[0,1,2,3,5,4];dc(h,"Trigger by",[0,1,2,3,5,4][l.type],"tree level;unlocked crop;planted crop;fullgrown crop;upgraded crop;run time".split(";"),
function(v){l.type=u[v];e()},!0);var x=f(),y=f(),r=f();La(x.a);sa(x.a);E(x.a,function(){if(0==l.type)ic("Tree level","Enter tree level at which to perform action",function(A){A=parseInt(A);0<=A&&1E6>A||(A=0);l.level=A;e()},""+l.level);else if(1==l.type||2==l.type||3==l.type||5==l.type)vM(l.aa,l.oa,function(A,I){l.aa=A+1;l.oa=I;e()});else if(4==l.type){var v=""+Math.floor(l.time/3600),w=""+Math.floor(l.time%3600/60),H=""+l.time%60;if("0"==H){1==w.length&&(w="0"+w);var D=v+":"+w}else D="",0!=v&&(D+=
v+"h "),0!=w&&(D+=w+"m "),0!=H&&(D+=H+"s"),D=D.trim();ic("Run time","Enter time since start of run. Supported formats, e.g. for one and a half hours: 1:30, 1h30m, 1.5h or 1.5",function(A){var I=A.split(":");A=A.split("h");var X=1==I.length?na(I[0].charAt(I[0].length-1)):"";if("d"==X||"h"==X||"m"==X||"s"==X)for(A=I[0].split(/([a-zA-Z])/),I=l.time=0;I+1<A.length;I+=2){X=parseFloat(A[I].trim());var z=A[I+1];"d"==z?l.time+=86400*X:"h"==z?l.time+=3600*X:"m"==z?l.time+=60*X:"s"==z&&(l.time+=X)}else 2==
A.length&&1==I.length?(X=parseFloat(A[0]),A=parseFloat(A[1]),l.time=3600*X+60*A):(X=parseFloat(I[0]),A=1<I.length?parseFloat(I[1]):0,I=2<I.length?parseFloat(I[2]):0,0<=X||(X=0),0<=A||(A=0),0<=I||(I=0),l.time=3600*X+60*A+I);isNaN(l.time)&&(l.time=0);e()},""+D)}});La(y.a);sa(y.a);E(y.a,function(){5==l.type&&ic("Upgrade level","Enter the upgrade level the crop should have at least (1 for first upgrade)",function(v){v=parseInt(v);1<=v&&1E6>v||(v=1);l.zf=v;e()},""+l.zf);2!=l.type&&3!=l.type||ic("Minimum count",
"Enter the minimum amount present of this crop",function(v){v=parseInt(v);1<=v&&1E6>v||(v=1);l.we=v;e()},""+l.zf)});e()}
function wM(a){function b(l){l=.08*(void 0==l?1:l);var p=new F(e,.01,f,.8,f+l);f+=1.2*l;return p}for(var d=G.ua[a],e=Da({title:"Configure auto-action "+a+" effect seasonal overrides",pb:'This allows to override the auto-action effect for seasons of your choice. Enable the "override" checkbox of any season to override, and configure the effect parameters of that season. All effects must be reconfigured (but there\'s a button to copy them from the default effect).'}).content,f=0,g,h=0;4>h;h++){var k=
Um[h];g=b(.7);Cc(g,d.Hf[h],"Override "+k,B(function(l,p){d.Hf[l]=p},h));g=b();La(g.a);sa(g.a);g.a.j.innerText="Configure "+k+" effect";E(g.a,B(function(l){xM(a,void 0,l)},h));f+=.05}}
function xM(a,b,d){function e(r){r=.08*(void 0==r?1:r);var v=new F(p,.01,q,.8,q+r);q+=1.2*r;return v}var f=G.ua[a],g=[],h=[];bH()&&void 0==d&&(g=[function(){wM(a);return!0}],h=["seasonal"]);void 0!=d&&(g=[function(){f.Dd[d]=m.clone(f.effect);window.setTimeout(function(){xM(a,b,d)})}],h=["copy from main"]);var k=f.effect;void 0!=d&&(k=f.Dd[d]);var l="Configure auto-action "+a+" effect";void 0!=d&&(l+=" ("+Um[d]+")");var p=Da({onclose:b,Ia:!0,title:l,pb:"Here you can enable or disable one or more auto-action effects that occur when the condition is triggered, and choose their parameters.<br><br> - Auto-blueprint: override the field with the chosen blueprint.<br> - Ethereal blueprint: override the ethereal field with the chosen blueprint.<br> - Auto-fruit: activate the chosen fruit.<br> - Other actions may unlock later.",
vb:g,names:h,Wc:"back"}).content,q=0;g=e(.7);Cc(g,k.ye,"Enable auto-blueprint",function(r){k.ye=r},"Enable auto-blueprint");g=e();La(g.a);sa(g.a);var n=B(function(r){var v=k.tb,w=G.gd[v];r.a.j.innerText="Chosen blueprint: ["+(v+1)+"] "+(w&&0!=w.data.length?w.name:"[empty]")},g,a);E(g.a,function(){fL(void 0,void 0,!1,function(r){k.tb=r;n()})});n();if(OH()){g=e(.7);Cc(g,k.zg,"Enable ethereal blueprint",function(r){k.zg=r},"Enable ethereal blueprint");g=e();La(g.a);sa(g.a);var u=B(function(r){var v=
k.zd,w=G.Ud[v];r.a.j.innerText="Ethereal blueprint: ["+(v+1)+"] "+(w&&0!=w.data.length?w.name:"[empty]")},g,a);E(g.a,function(){fL(void 0,void 0,!0,function(r){k.zd=r;u()})});u()}g=e(.7);Cc(g,k.ze,"Enable auto-fruit",function(r){k.ze=r},"Enable auto-fruit");g=e();La(g.a);sa(g.a);var x=B(function(r){var v=G.Z[k.Gd],w="Chosen fruit slot: "+(k.Gd+1);v&&(w+='. "'+v.toString()+'"');r.a.j.innerText=w},g,a);E(g.a,function(){yM(function(r){k.Gd=r;x()})});x();if(QH()){g=e(.7);Cc(g,k.Ag,"Refresh brassica",
function(r){k.Ag=r},"Refresh brassica");g=e(.7);Cc(g,k.Bg,"Activate weather",function(r){k.Bg=r},"Activate weather");g=e();La(g.a);sa(g.a);var y=B(function(r){r.a.j.innerText="Chosen weather: "+["sun","mist","rainbow"][k.Af]},g,a);E(g.a,function(){UK(function(r){k.Af=r;y()})});y();g=e(.7);Cc(g,k.If,"Pick up fern",function(r){k.If=r},"Pick up fern")}bH()&&(g=e(.7),Cc(g,k.Fh,"Hold season (amber)",function(r){k.Fh=r},"Hold season (amber)"));bH()&&0!=a&&(g=e(.7),Cc(g,k.Jf,"Transcend",function(r){k.Jf=
r},"Transcend"))}var zM=!1;
function AM(){zM=!0;var a=Da({onclose:function(){zM=!1},Ia:!0,title:"Configure auto actions",pb:'Auto-action lets the automaton perform actions after a certain trigger condition is met, such as overriding the field with another blueprint at a chosen tree level. You must configure both a trigger (when will the action be performed) and an action (what does it perform, it can do multiple things at once)<br><br>\nThe automatic blueprint is useful to get a different layout later in the run than at the start of the run. You choose your starting blueprint as usual at the start of the run, the automaton will override with the chosen one. You can also choose a fruit to match.\n<br><br>\nDuring some challenges you may want this disabled, toggle it off in the automaton tab in this case.\n<br><br>It\'s also possible to activate auto-actions manually with the "Do now" button. You can also configure the number keys to do this in the main settings under Controls.'}).content,b=
0,d=0;b=.05;var e=new F(a,.01,d,1,d+.07);e.a.innerText="Choose at which tree level to override with which blueprint";d+=1.5*b;b=vu();for(var f=[],g=[],h=0;h<b;h++){var k=G.ua[h],l=bH()?.105:.08;e=new F(a,.01,d,1,d+l,void 0,6);d+=l;e.a.innerHTML=pM(h,k);f.push(e);var p=function(y){f[y].a.innerHTML=pM(y,G.ua[y])};d+=.02;k=0;l=.06+.01;var q=0==h,n=1==h||!1,u=h==b-1;q?(e=new F(a,k,d,k+.18,d+.07),La(e.a),sa(e.a),e.a.className="efButtonCantAfford",e.a.j.innerText="(Start of run only)"):(e=new F(a,k,d,k+
.18,d+.07),La(e.a),sa(e.a),e.a.j.innerText="Edit trigger",E(e.a,B(function(y){uM(y,function(){p(y)})},h)));k+=.19;e=new F(a,k,d,k+.18,d+.07);La(e.a);sa(e.a);e.a.j.innerText="Edit effect";E(e.a,B(function(y){xM(y,function(){p(y)})},h));k+=.19;var x=function(y){var r=G.ua[y];y=g[y];var v=r.done,w=y.a.j,H="";r.enabled?(y.nb=2,H=v?H+"Auto done":H+"Auto on"):(y.nb=0,H+="Auto off");w.innerText=H;void 0!=y.nb&&(y.a.className=0==y.nb?"efAutomatonManual":1==y.nb?"efAutomatonAuto2":"efAutomatonAuto")};1<b&&
(e=new F(a,k,d,k+.18,d+.07),g[h]=e,Ga(e.a),sa(e.a),e.a.j.innerText="toggle",E(e.a,B(function(y,r){G.ua[r].enabled=!G.ua[r].enabled;x(r)},e,h)),k+=.19,x(h));e=new F(a,k,d,k+.18,d+.07);La(e.a);sa(e.a);e.a.j.innerText="Do now";E(e.a,B(function(y){ZK(y);fb()},h));Lb(e.a,"Do this action manually now. This ignores the action trigger, and does not affect when or whether the automaton will do this action. You can do it manually any time or multiple times indepdendently from the automaton. You can also configure the number keys to do these in the settings.");
k+=.19;q||(e=new F(a,k,d,k+.06,d+.07),La(e.a),sa(e.a),e.a.j.innerText="\u2191",E(e.a,B(function(y,r){r||(r=G.ua[y],G.ua[y]=G.ua[y-1],G.ua[y-1]=r,p(y),p(y-1),x(y),x(y-1))},h,n)),Lb(e.a,"Move up this auto action in the display order (affects display only)."),n&&(e.a.className="efButtonCantAfford"),k+=l,e=new F(a,k,d,k+.06,d+.07),La(e.a),sa(e.a),e.a.j.innerText="\u2193",E(e.a,B(function(y,r){r||(r=G.ua[y],G.ua[y]=G.ua[y+1],G.ua[y+1]=r,p(y),p(y+1),x(y),x(y+1))},h,u)),Lb(e.a,"Move down this auto action in the display order (affects display only)."),
u&&(e.a.className="efButtonCantAfford"),k+=l);d+=.108}}function BM(){eM(gL);window.setTimeout(function(){for(var a=0;a<G.F;a++)for(var b=0;b<G.C;b++){var d=G.G[a][b];(Yo(d)||d.index==AG)&&W({type:rH,x:b,y:a,silent:!0})}Hm()},333)}
function CM(){var a=0,b=0;eM(dL);window.setTimeout(function(){for(var d=0;d<G.pa;d++)for(var e=0;e<G.qa;e++)Yo(G.xa[d][e])&&(a++,b++,W({type:wL,x:e,y:d,silent:!0}));d=c(G.b.h);Hm();e=G.b.h;a?a!=b?T("Deleted entire ethereal field, where possible"):T("Deleted entire ethereal field. All resin refunded: "+e.sub(d).toString()):T("Nothing to delete in ethereal field")},333)}
function DM(){var a=0;eM(NK);window.setTimeout(function(){for(var b=0;b<G.Ga;b++)for(var d=0;d<G.Ha;d++){var e=G.va[b][d];if(Yo(e)||e.index==AG)a++,W({type:SK,x:d,y:b,silent:!0})}b=c(G.b.v);Hm();d=G.b.v;a?T("Deleted entire ethereal field. All infinity seeds refunded: "+d.sub(b).toString()):T("Nothing to delete in infinity field")},333)}
function EM(){function a(A){var I=A.a.j;G.Xe?(I.innerText="Automation on",A.nb=1):(I.innerText="All automation off",A.nb=0);d()}function b(){h+=.02;var A=new F(FM,.01,h,1,h+.01);A.a.innerHTML="<hr>";h+=.02;return A}function d(){for(var A=0;A<l.length;A++)e(l[A])}function e(A){void 0!=A.nb&&(A.a.className=!G.Xe&&!A.np||A.$n&&!A.$n()?"efAutomatonGlobalOff":A.nb?"efAutomatonAuto":"efAutomatonManual")}function f(A){h-=.096;var I=new F(FM,[.4,0,.2,.08],h,[.4,0,1.2,.08],h+.08,1);h+=.096;A||l.push(I);La(I.a);
A=I.a;sa(A);A.j.style.lineHeight="100%";ta(I.a,"configure");I.a.j.innerText="\u2699";I.a.j.title="Configure";return I}function g(A){var I=new F(FM,k+.01,h,k+.4,h+.08);h+=.096;A||l.push(I);return I}FM.clear();wb(FM);var h=0,k=0,l=[];if(pu()){var p=new F(FM,[1,0,-.25],[0,0,.01],[1,0,-.06],[0,0,.2]);var q=pb("0%","0%","100%","100%",p.a);qb(lg[4],q);Ga(p.a,!0);E(p.a,function(){mM()},"automaton icon");p=.07;q=new F(FM,.01,h,1,h+.07);q.a.innerText="Toggle on or off all automation:";h+=p;q=g();Ga(q.a);sa(q.a);
a(q);E(q.a,B(function(A){G.paused?(G.Xe=!G.Xe,a(A),NJ()):(W({type:GM,cd:0,Mc:!G.Xe,hb:function(){a(A)}}),Hm())},q));q.np=!0;q.nb=!0;b();var n=h;p=.07;q=new F(FM,.01,h,1,h+.07);q.a.innerText="Special actions:";var u=h+=p;q=g();La(q.a);sa(q.a);q.a.j.innerText="Clear entire field";E(q.a,BM);Lb(q.a,"Immediately delete all crops from the entire field");q=g();La(q.a);sa(q.a);q.a.j.innerText="Plant entire field...";E(q.a,B(function(){eM(gL);HM(0,0,!1,!1,!0)}));Lb(q.a,"Plant a chosen crop in all open spots in the field, as resources allow.");
ZD()&&(k=.41,h=u);q=g();La(q.a);sa(q.a);q.a.j.innerText="Clear ethereal field";q.a.style.textShadow="0px 0px 5px #ff8";E(q.a,CM);Lb(q.a,"Delete all crops from the ethereal field. As usual, all resin is refunded. Note that this will also delete the automaton itself, so this will disable the automaton tab until you place it back.");ZD()&&(q=g(),La(q.a),sa(q.a),q.a.j.innerText="Clear infinity field",q.a.style.textShadow="0px 0px 5px #88f",E(q.a,DM),Lb(q.a,"Immediately delete all crops from the infinity field. All infinity seeds will be refunded as usual."),
k=0);u=void 0;wu()?tu()?OH()||(u="Reach ethereal tree level 5 and beat the wither challenge to unlock auto-action"):u="Reach ethereal tree level 3 and beat the blackberry challenge to unlock auto-unlock of next-tier plants":u="Reach ethereal tree level 2 and beat the no upgrades challenge to unlock auto-upgrades and auto-choice";void 0!=u&&(q=new F(FM,.5,n+p,.9,n+3*p),q.a.innerText=u,q.a.className="efGoal");(wu()||KH())&&b();if(KH()){p=.07;q=new F(FM,.01,h,1,h+.07);q.a.innerText="Automate choice upgrades:";
Lb(q.a,"Automate the choice upgrades that the tree drops at certain levels.\nThe choice is automatically made at the moment the corresponding upgrade unlocks, but not after the fact.");h+=p;var x=function(A){var I=A.a.j;G.je?(I.innerText="Auto-choice on",A.nb=1):(I.innerText="Auto-choice off",A.nb=0);e(A)};q=g();Ga(q.a);sa(q.a);x(q);E(q.a,B(function(A){var I=G.je;G.paused?(G.je=G.je?0:1,x(A),NJ()):(W({type:GM,cd:4,Mc:G.je?0:1,hb:function(){x(A)}}),Hm());if(!I){I=!1;for(var X=0;X<G.xd.length;X++)if(1<
G.xd[X]){I=!0;break}I||lM()}},q));q=f();E(q.a,function(){lM()})}if(wu()){p=.1;q=new F(FM,.01,h,1,h+.07);q.a.innerText="Automate crop upgrades:";Lb(q.a,"Automatically upgrade crops. Only performs upgrades that boost crops for crops planted in the field, and up to the max cost that you can choose.");h+=p;var y=function(A){var I=A.a.j;G.Sd?(I.innerText="Auto-upgrades on",A.nb=1):(I.innerText="Auto-upgrades off",A.nb=0);e(A)};q=g();Ga(q.a);sa(q.a);y(q);E(q.a,B(function(A){G.paused?(G.Sd=G.Sd?0:1,y(A),
NJ()):(W({type:GM,cd:1,Mc:G.Sd?0:1,hb:function(){y(A)}}),Hm())},q));q=f();E(q.a,function(){iM(0)});p=.1;q=new F(FM,.01,h,1,h+.07);q.a.innerText="Auto-upgrades done: "+G.pe;h+=p;var r=q,v=G.pe;IM(function(){if(!r||!document.body.contains(r.a))return!1;v!=G.pe&&(r.a.innerText="Auto-upgrades done: "+G.pe,v=G.pe);return!0})}b();if(Zt()){p=.1;q=new F(FM,.01,h,1,h+.07);q.a.innerText="Auto-plant:";Lb(q.a,"Automatically plants crops. Only replaces existing crops to higher tiers of the same type (e.g. berries stay berries), does not plant anything on empty field cells.");
h+=p;var w=function(A){var I=A.a.j;G.fd?(I.innerText="Auto-plant on",A.nb=1):(I.innerText="Auto-plant off",A.nb=0);e(A)};q=g();Ga(q.a);sa(q.a);w(q);E(q.a,B(function(A){G.paused?(G.fd=G.fd?0:1,w(A),d(),NJ()):(W({type:GM,cd:2,Mc:G.fd?0:1,hb:function(){w(A);d()}}),Hm())},q));q=f();E(q.a,function(){iM(1)});p=.1;q=new F(FM,.01,h,1,h+.07);q.a.innerText="Auto-plants done: "+G.oe;h+=p;r=q;v=G.oe;IM(function(){if(!r||!document.body.contains(r.a))return!1;v!=G.oe&&(r.a.innerText="Auto-plants done: "+G.oe,v=
G.oe);return!0});var H=function(A){var I=A.a.j;G.We?(I.innerText="Auto-unlock on",A.nb=1):(I.innerText="Auto-unlock off",A.nb=0);e(A)};tu()&&(q=g(),q.$n=function(){return!!G.fd},Ga(q.a),sa(q.a),H(q),E(q.a,B(function(A){G.paused?(G.We=G.We?0:1,H(A),NJ()):(W({type:GM,cd:3,Mc:G.We?0:1,hb:function(){H(A)}}),Hm())},q)),q=f(),E(q.a,function(){iM(2)}))}b();if(OH()){p=.07;q=new F(FM,.01,h,1,h+.07);q.a.innerText="Automaton auto-action:";Lb(q.a,"Allows to perform an action, such as override blueprint (overplant the field with a different chosen blueprint) at a configurable trigger condition (such as tree level reached).");
h+=p;var D=function(A){var I=A.a.j;0==G.jc?(I.innerText="Auto-action off",A.nb=0):1==G.jc?(I.innerText="Auto-action on",A.nb=1):(I.innerText="Auto-action temp off",A.nb=0);e(A)};q=g();Ga(q.a);sa(q.a);D(q);E(q.a,B(function(A){var I=G.jc;G.paused?(G.jc=1==G.jc?0:1,D(A),NJ()):(W({type:GM,cd:5,Mc:1==G.jc?0:1,hb:function(){D(A)}}),Hm());if(!I){I=!1;for(var X=0;X<G.ua.length;X++){var z=G.ua[X];if(z.ye||0<z.tb||z.ze||0<z.Gd||0<z.time){I=!0;break}}I||AM()}},q));q=f();E(q.a,function(){AM()})}}else p=.1,q=
new F(FM,.01,h,1,h+.07),q.a.innerHTML="<br><br>Place automaton in the ethereal field first to unlock the automation features of this tab. You can plant it there like any other ethereal crop.",h+=.2,q=g(),La(q.a),sa(q.a),q.a.j.innerText="Go to ethereal field now",q.a.style.textShadow="0px 0px 5px #ff8",E(q.a,function(){eM(dL)})}
function yJ(){!G.Za[28]&&Zt()&&(G.Za[28]=28);!G.Za[31]&&Zt()&&(G.Za[31]=31);!G.Za[29]&&wu()&&(G.Za[29]=29);!G.Za[30]&&LH()&&(G.Za[30]=30);!G.Za[33]&&tu()&&(G.Za[33]=33);!G.Za[38]&&NH()&&(G.Za[38]=38);!G.Za[40]&&OH()&&(G.Za[40]=40)};function JM(a){var b=!1,d="",e=FH();if(!a||e.J(0))b=!0,d+="\u2022 "+e.toString()+" resin from tree level "+G.s,d+="<br>",d=Zb(G.b.h,0)?d+("\u2022  Unused resin boost: "+K(Jj(Po(e),1))+"<br/>"):d+("\u2022  Unused resin boost (including existing): "+K(Jj(Po(e.add(G.b.h)),1))+"<br/>");e=GH();if(!a||e.J(0))b=!0,d=0==G.na?d+("\u2022 "+e.toString()+" twigs from mistletoes (not yet available on first transcend)"):d+("\u2022 "+e.toString()+" twigs from mistletoes"),d+="<br>";if(G.s>=ty){b=!0;d+="\u2022 "+
CH().ca.toString()+" fruit essence from "+G.ea.length+" fruits in the sacrificial pool (see fruit tab)<br/>";for(var f=e=a=0;f<G.Z.length;f++)a=Math.max(a,G.Z[f].g);for(f=0;f<G.ea.length;f++)e=Math.max(e,G.ea[f].g);e>a&&(d+='<span class="efWarningOnDialogText">\u2192 Warning: you have a fruit in sacrificial pool of higher tier than any stored fruit, check the fruit tab if you want to keep it</span><br/>')}b||(d+="\u2022 Nothing. But, see current challenge rules for challenge specific rewards.<br/>");
return d}function KM(){W({type:LM,challenge:0});fb();Hm();return!0}
function cL(a){MM=NM=!1;var b=void 0,d=void 0,e=!1;G.ef&&(b="challenges",G.Vj&&(b="challenges\n(new!)"),d=function(){OM();return!0},e=!0);var f=void 0,g=void 0,h=void 0,k=!1;Zt()&&G.Dj&&(f="with blueprint",g=function(){fL(!0);return!0},k=!0);h=function(l){var p=VK(l);l=p.key;var q=p.shift;p=p.Bh;!k||"b"!=l||q||p||NM||fL(!0);!e||"c"!=l||q||p||MM||OM();"Enter"!=l&&"r"!=l||q||p||KM()};g&&!d&&(d=g,b=f,f=g=void 0);b=Da({size:2,vb:[KM,d,g],names:[e?"regular run":"transcend",b,f],Wc:"cancel",Qe:h,title:"Transcension",
sb:"efDialogEthereal"}).content;d="";a||(d+="Transcension starts a new basic field. Your first transcension also unlocks an ethereal field. On this field you can plant ethereal crops with resin. These crops give bonuses to the basic field in various ways. Resin can also be used for other ethereal upgrades. Unused resin also gives a slight boost. <br/>");d=d+"<br/>You will get:<br/>"+JM(a);d+="<br/>What will be reset:<br/>\u2022 Basic field with all crops<br/>\u2022 Basic upgrades<br/>\u2022 Basic resources: seeds, spores<br/>\u2022 Tree level<br/>\u2022 Fruits in the sacrificial pool";
G.ea.length&&(d+=" (you have: "+G.ea.length+" fruits in there)");d+="<br/>";G.ma.ta.J(0)&&(d+="\u2022 Some types of activated amber effects<br/>");d=d+"<br/>What will be kept:<br/>\u2022 Achievements<br/>\u2022 Resin, twigs and fruit essence<br/>\u2022 Ethereal field and ethereal crops<br/>\u2022 Ethereal upgrades<br/>\u2022 Fruits in the storage slots (have: "+(G.Z.length+")<br/>");d+="\u2022 Current season<br/>";G.ma.ta.J(0)&&(d+="\u2022 Amber resource<br/>");Ix()&&(d+="\u2022 Nuts and squirrel upgrades<br/>");
b.a.innerHTML=d+"<br/><br/>"};function PM(a,b,d){var e=V[a],f=G.P[a],g=!1,h=void 0,k=void 0,l=void 0,p=void 0,q=void 0;b||(h=function(){W({type:LM,challenge:e.index});fb();Hm();return!0},k="start",pu()&&G.Dj&&tB(a)&&(p="with blueprint",l=function(){fL(!0,a);return!0},g=!0,q=function(n){var u=m.Gh(n),x=m.Si(n);!g||"b"!=n.key&&"B"!=n.key||x||NM||fL(!0,a);"Enter"!=n.key||u||x||h()}));b=Da({vb:[h,l],names:[k,p],Qe:q,title:la(e.name),Ia:!0});k=""+e.description;k=k+"<br><br><b>Challenge rules:</b><br>"+e.fo();e.ed&&e.ng&&e.Ec&&e.og&&
e.dd?(k=Ix()?k+"\u2022 You can gain resin, twigs, nuts and fruits as usual (but they only become available at at least tree level 10)":k+"\u2022 You can gain resin, twigs and fruits as usual (but they only become available at tree level 10)",k+="<br>"):e.ed&&e.ng&&e.Ec&&!e.og&&e.dd?(k+="\u2022 You can gain resin, twigs and fruits as usual (but they only become available at tree level 10)",Ix()&&(k+="<br>\u2022 No nuts can be grown during this challenge"),k+="<br>"):e.ed||e.ng||e.Ec||e.og?(k=e.ed?
e.dd?k+"\u2022 Tree gains resin as usual, but it's only available when reaching at least level 10":k+"\u2022 Tree gains resin as usual, but it's only available when reaching at least level 10 and not when reaching higher level than highest regular run":k+"\u2022 Tree does not gain any resin",k+="<br>",k=e.ng?e.dd?k+"\u2022 Tree drops fruits as usual, but the level 5 fruit is dropped at level 10 instead":k+"\u2022 Tree drops fruits as usual, but the level 5 fruit is dropped at level 10 instead, and no fruits are dropped above highest level ever reached with a regular run":
k+"\u2022 Tree does not drop any fruits",k+="<br>",k=e.Ec?e.dd?k+"\u2022 Twigs can be gained from mistletoes as usual, but they're only available when reaching at least level 10":k+"\u2022 Twigs can be gained from mistletoes as usual, but they're only available when reaching at least level 10 and not when reaching higher level than highest regular run":k+"\u2022 No twigs can be gained from mistletoes",k+="<br>",Ix()&&(k=e.og?k+"\u2022 Nuts crops can be grown as usual (once high enough tree level reached to unlock them)":
k+"\u2022 No nuts can be grown during this challenge",k+="<br>")):(k=Ix()?k+"\u2022 You cannot gain any resin, twigs, nuts or fruits during this challenge":k+"\u2022 You cannot gain any resin, twigs or fruits during this challenge",k+="<br>");void 0!=e.Fk&&(k+='<br>Click <a style="color:#11f;" id="challengehelp">here</a> for full help of this challenge.<br>');l=e.ei(d);k+="<br><b>Goal:</b><br>";k=void 0==e.ia?k+("\u2022  "+e.rl+"</b> to successfully complete the challenge, or reach high tree levels to increase challenge production bonus."):
0==e.ia.length?k+"\u2022  Reach as high level as you can, the higher level ever reached in this challenge, the higher the production bonus.":1<e.ia.length?k+("\u2022 Reach <b>tree level "+l+"</b> to successfully complete the next stage of the challenge, or reach any other max level to increase challenge production bonus.<br>\u2022 This challenge has ")+(e.ia.length+" stages in total, each gives 1 reward, you can complete only 1 stage at the time"):k+("\u2022 Reach <b>tree level "+e.ia[0]+"</b> to successfully complete the challenge, or reach any other max level to increase challenge production bonus.");
k+="<br>";p=jn();q=1==p?30:25;p&&(17<=f.Pa||17<=G.s)&&(k+="<br>",k+="<b>Note:</b><br>This challenge is capped at level "+q+" and will not give any further bonus or achievements beyond that level",k+="<br>");k+="<br>";k+="<b>Rewards:</b>";k+="<br>";e.Hc(d)||(void 0==e.ia?(k+="\u2022 Reward for completing objective: "+e.Pc[0],k+="<br>"):0!=e.ia.length&&(k=1<e.ia.length&&0<f.X?k+("\u2022 Next completion reward (at level "+l+"): "+e.Pc[e.$g(d)]):k+("\u2022 Reward (at level "+l+"): "+e.Pc[0]),k+="<br>"));
k+="\u2022 Your max challenge level reached gives a seeds and spores production bonus given by the following formula, whether successfully completed or not: <b>"+QM(0,e,f)+"</b>";k+="<br>";k+="\u2022 Your max challenge level reached gives a resin and twigs bonus given by the following formula, whether successfully completed or not: <b>"+QM(1,e,f)+"</b>";if(e.ja)for(k+="<br>",k+="\u2022 <b>bonus</b> value itself depends on cycle, respectively: ",l=0;l<e.ja;l++)k+=(l?", ":"")+K(e.hk[l]);k+="<br>";e.ne&&
(k+="\u2022 This challenge is capped to level "+e.ne+" and gives no further bonus after that.",k+="<br>");if(void 0!=e.ia&&1<e.ia.length){k+="\u2022 All reward target level stages (can only complete one per run): ";for(l=0;l<e.ia.length;l++)k+=(l?", ":"")+e.ia[l];k+="<br>"}for(l=0;l<f.X&&!(l>=e.Pc.length);l++)k+="\u2022 Reward gotten",e.ia&&e.ia.length&&l<e.ia.length&&(k+=" (at level "+e.ia[l]+")"),k+=": "+e.Pc[l],k+="<br>";k+="<br>";k+="<b>Current stats:</b><br>";k+=RM(a,d);k+="<br>";k+="<b>This challenge was unlocked by:</b> "+
e.qn;b.content.a.innerHTML=k;void 0!=e.Fk&&E(document.getElementById("challengehelp"),function(){qu(e.Fk,!0)})}
function RM(a,b){var d=V[a];a=G.P[a];var e=G.challenge==d.index,f="";if(1<d.ja){var g=a.Ab%d.ja,h=Math.max(a.kb[g],e?G.s:0);e?(f+="\u2022 Current cycle: "+(g+1)+" of "+d.ja,f=f+"<br>\u2022 Next cycle: "+((a.Ab+1)%d.ja+1+" of "+d.ja)):f+="\u2022 Next cycle: "+(g+1)+" of "+d.ja;f+="<br>";if(e){f+="\u2022 Max levels reached: ";for(var k=0;k<d.ja;k++)f+=(k?", ":"")+a.kb[k],k==g&&(f+=" <b>(after: "+h+")</b>");f+="<br>\u2022 Production bonuses: ";for(k=0;k<d.ja;k++)f+=(k?", ":"")+K(gA(0,d.index,a.kb[k],
d.ac(k,!1),k)),k==g&&(f+=" <b>(after: "+K(gA(0,d.index,h,d.ac(k,!0),g))+")</b>")}else{f+="\u2022 Max levels reached: ";for(k=0;k<d.ja;k++)f+=(k?", ":"")+a.kb[k];f+="<br>\u2022 Production bonuses: ";for(k=0;k<d.ja;k++)f+=(k?", ":"")+K(gA(0,d.index,a.kb[k],d.ac(k,!1),k))}f+="<br>"}else if(h=Math.max(a.Pa,e?G.s:0),e){f+="\u2022 Max level reached before: "+a.Pa+", <b>after: "+h+"</b><br>";kA();g=hA(d.index);h=iA(d.index);k=jA(0);var l=kA();f+="\u2022 Production bonus before: "+K(g)+", <b>after: "+K(h)+
"</b>. Total (all challenges) before: "+K(k)+", <b>after: "+K(l)+"</b><br>"}else f+="\u2022 Max level reached: "+a.Pa+"<br>",f+="\u2022 Production bonus: "+K(gA(0,d.index,a.Pa,a.X))+"<br>";f=e?f+("\u2022 Times run (excluding the current run): "+a.$):f+("\u2022 Times run: "+a.$);0<d.Rb()&&(f+=", times successful: "+a.Ab);f+="<br>";void 0!=d.ia&&(1<d.ia.length&&d.Hc(b)?(f+="\u2022 Fastest first stage target level time: "+(a.Nb?m.R(a.Nb):"--")+"<br>",f+="\u2022 Fastest final stage target level time: "+
(a.yd?m.R(a.yd):"--")+"<br>"):0!=d.ia.length&&(f+="\u2022 Fastest target level time: "+(a.Nb?m.R(a.Nb):"--")+"<br>"));b=1!=d.Rb()&&d.$g(b)?0==d.Rb()?d.Hc(b)?"yes":"no":""+d.$g(b)+" of "+d.Rb():d.$g(b)?"yes":"no";f+="\u2022 Completed: "+b+"<br>";a.$&&(f=d.index==G.challenge?f+"\u2022 last time ran: now<br>":a.Xg?f+("\u2022 Last time ran: "+m.R(m.getTime()-a.Xg,void 0,1)+" ago<br>"):f+"\u2022 Last time ran: unknown<br>");return f}
function SM(a,b){return a&&b?"Finish challenge":a&&!b?"End challenge":b?"Complete challenge":"Abort challenge"}var MM=!1;
function OM(a){MM=!0;var b=Da({onclose:function(){MM=!1},title:"Challenge",sb:"efDialogEthereal",Ia:!0}).content,d=new F(b,[0,0,.01],[0,0,.001],[1,0,-.01],.28),e="";e=(a?e+"You end a challenge as usual, but start another new challenge rather than a regular run. Choose a challenge below to view its description.<br/><br/>Regular transcension resources gotten...:<br/>":e+"You transcend as usual, but start a challenge rather than a regular run. Choose a challenge below to view its description.<br/><br/>You get the usual transcension resources:<br/>")+JM(a);
d.a.innerHTML=e;a=new F(b,0,.28,1,1);for(d=b=0;d<Du.length;d++){var f=Du.length-d-1,g=V[Du[f]],h=G.P[Du[f]];if(h.c){var k=!g.$g(!0),l=!g.Hc(!0),p=new F(a,.2,b,.8,b+.072);b+=.0756;La(p.a);var q=G.challenge==g.index;e=la(g.name);if(k)e=h.$?e+" (Open)":e+" (New!)";else if(l&&void 0!=g.ia&&0<g.ia.length)e+=" ("+Math.max(h.Pa,q?G.s:0)+" / "+g.ei(!0)+")";else if(1<g.ja)if(g.vl(!0)){k=g.hj();e+=" (";for(l=0;l<g.ja;l++){var n=h.kb[l];q&&l==k&&(n=Math.max(n,G.s));e+=(0<l?", ":"")+n}e+=")"}else e+=" (New cycle!)";
else e+=" ("+Math.max(h.Pa,q?G.s:0)+")";p.a.j.innerText=e;p.a.onclick=B(function(u){PM(u.index,!1,!0)},g);e=RM(Du[f],!0);Lb(p.a,e)}}}
function bL(){MM=NM=!1;var a=void 0,b=void 0,d=void 0,e=!1;pu()&&G.Dj&&(a="with blueprint",b=function(){fL(!0);return!0},e=!0);d=function(l){var p=VK(l);l=p.key;var q=p.shift;p=p.Bh;!e||"b"!=l||q||p||NM||fL(!0);"c"!=l||q||p||MM||OM();"r"!=l||q||p||KM()};var f=V[G.challenge],g=G.P[G.challenge],h=f.Hc(!1),k=f.ro();a=Da({vb:b,names:a,Qe:d,title:SM(h,k),sb:"efDialogEthereal"});b="";b=la(f.name)+"<br>";h||(b=1<f.Rb()&&0<g.X?k?b+"You successfully completed the next stage of the challenge for the first time!<br><br>Reward: "+
f.Pc[g.X]:b+"You didn't successfully complete the next stage of the challenge, but can still get the challenge bonus for highest tree level reached.":k?b+"You successfully completed the challenge for the first time!<br><br>Reward: "+f.Pc[0]:b+"You didn't successfully complete the challenge, but can still get the challenge bonus for highest tree level reached.");k=g.Pa;h=void 0;1<f.ja&&(h=f.hj(),k=g.kb[h]);0<g.$&&(b=b+"<br><br>Previous highest level: "+g.Pa,f.ja&&(b+=" (previous matching cycle: "+
k+")"),b=b+"<br>Current level: "+G.s);g=Math.max(G.s,k);b=b+"<br><br>Production bonus from challenge max reached level"+((1<f.ja?" for this cycle":"")+":<br>");b+="\u2022 Before (level "+k+"): "+K(gA(0,G.challenge,k,f.ac(h,!1),h))+" ("+K(jA(0))+" total for all challenges)<br>";G.s>k?(k=kA(),b+="\u2022 After (level "+g+"): "+K(gA(0,G.challenge,g,f.ac(h,!0),h))+" ("+K(k)+" total for all challenges)<br>"):b+="\u2022 After stays the same, max level not beaten";a.content.a.innerHTML=b+"<br><br>You can now choose to start a new regular run, or any challenge of your choice, from the beginning.";
f=new F(a.content,.25,.6,.75,.8);g=(new F(f,0,0,1,.3,1)).a;La(g);g.j.innerText="Start regular run";g.j.style.textShadow="0px 0px 5px #ff0";Lb(g,"Show the transcension dialog");E(g,function(){cL(!0)});g=(new F(f,0,.32,1,.6,1)).a;La(g);g.j.innerText="Start a new challenge";g.j.style.textShadow="0px 0px 5px #f60";Lb(g,"Transcend and start a challenge");E(g,function(){OM(!0)})}
function QM(a,b,d){var e=b.ja?"base bonus":K(b.La),f="";if(0==b.wc||2==b.wc&&1==a)f=1==b.Vd?b.Pb?e+" * max(0, level - "+(b.Pb-1)+")":e+" * level":b.Pb?e+" * max(0, level - "+(b.Pb-1)+") ^ "+b.Vd:e+" * level ^ "+b.Vd,b.Cd.J(0)&&(f+=" + "+K(b.Cd)+" successful completion bonus"),1==a&&(f+=", divided by 100 across all challenges");else if(1==b.wc||2==b.wc&&0==a)b.$b==b.kc&&b.hd.Ub(b.Vc)?f="+"+K(Jj(b.Vc,1))+" every "+b.kc+" levels":(f="+"+K(Jj(b.hd,1))+" at level "+b.$b,f+=", then +"+K(Jj(b.Vc,1))+" every "+
b.kc+" levels"),0==a&&(f+=", multiplicative with partial ("+K(c(b.$e))+" of that) gradual increase between those level intervals",.8>=b.$e&&(d=d.Pa,e=b.$b,d>=b.$b&&(e=Math.ceil((d-b.$b+1)/b.kc)*b.kc+b.$b),f+=". The next large bonus increase will be at level "+e)),1==a&&(b.$b==b.kc&&b.hd.Ub(b.Vc)?f="+"+Jj(b.Vc,1).toString()+" every "+b.kc+" levels":(f=Jj(b.hd,1).toString()+" at level "+b.$b,f+=", then + "+Jj(b.Vc,1).toString()+" every "+b.kc+" levels"),f="25% * ln(1 + "+f+") ^ 2");return f}
var RF=!1;
function mK(){RF=!0;var a=Da({size:ab,icon:ke,title:"Challenge stats",Ia:!0,onclose:function(){RF=!1}});var b="Total challenge production bonus: +"+K(jA(0))+"<br>";b+="Total challenge resin & twigs bonus: +"+K(jA(1))+"<br>";b+="<br>";1<G.zh&&(b+="Challenge bonuses are multiplicative with each other, so every challenge bonus is its own multiplier. E.g. if you have a challenge with +50% production bonus and one with +60% production bonus, you get 1.5 * 1.6 = 2.4x or +140% production bonus total.<br><br>");for(var d=
0;d<Du.length;d++){var e=V[Du[d]],f=G.P[Du[d]];if(f.c){b+="<b>"+la(e.name)+"</b>";b+="<br>";b=1>=e.Rb()||!f.X?b+("completed: "+(f.X?"yes":"no")):b+("completed: stage "+f.X+" of "+e.Rb());b+="<br>";if(void 0==e.ia)b+="goal: "+e.rl;else if(0==e.ia.length)b+="no target level, just reach as high as possible";else if(1<e.ia.length){b+="multiple target level stages: ";for(var g=0;g<e.ia.length;g++)b+=(g?", ":"")+e.ia[g]}else b+="target level: "+e.ia[0];e.ne&&(b+="<br>",b+="level cap: "+e.ne);b+="<br>";
b+="runs: "+f.$;G.challenge==e.index&&(b+=" (excluding current run)");b+="<br>";if(1<e.ja)for(b+="highest levels: ",g=0;g<e.ja;g++)b+=(g?", ":"")+f.kb[g];else b+="highest level: "+f.Pa,e.ne&&f.Pa>=e.ne&&(b+=" (capped)");b+="<br>";1<e.Rb()&&e.Hc()?(b+="fastest first stage target level time: "+(f.Nb?m.R(f.Nb):"--")+"<br>",b+="fastest final stage target level time: "+(f.yd?m.R(f.yd):"--")+"<br>"):b+="fastest target level time: "+(f.Nb?m.R(f.Nb):"--")+"<br>";if(1<e.ja){b+="base bonuses: ";for(g=0;g<e.ja;g++)b+=
(g?", ":"")+K(e.hk[g]);b+="<br>";b+="formula: "+QM(0,e,f);b+="<br>";b+="production bonuses: ";var h=c(0),k=c(0);for(g=0;g<e.ja;g++){var l=gA(0,e.index,f.kb[g],e.ac(g,!1),g);b+=(g?", ":"")+K(l);h.u(l);l=gA(1,e.index,f.kb[g],e.ac(g,!1),g);k.u(l)}b+=" (total: "+K(h)+")";0!=e.wc&&(b+="<br>",b+="resin & twigs bonus: "+K(k));b+="<br>";b+=(G.challenge==e.index?"current":"next")+" cycle: "+(f.Ab%e.ja+1)+" of "+e.ja}else b+="bonus formula: "+QM(0,e,f),b+="<br>",b+="production bonus: "+K(gA(0,e.index,f.Pa,
f.X)),0!=e.wc&&(b+="<br>",b+="resin & twigs bonus: "+K(gA(1,e.index,f.Pa,f.X)));b+="<br>";if(void 0!=e.ia&&1<e.ia.length){for(g=0;g<f.X;g++)b+="reward gotten (at level "+e.ia[g]+"): "+e.Pc[g],b+="<br>";e.Hc||(b+="(next unclaimed reward: "+e.Pc[f.X]+")",b+="<br>")}else b=f.X?b+("reward gotten: "+e.Pc[0]):b+("(unclaimed reward: "+e.Pc[0]+")"),b+="<br>";f.$&&(e.index==G.challenge?b+="last time ran: now":f.Xg?(b+="last time ran: "+m.gf(f.Xg),b+="<br>",b+="last runtime: "+m.R(f.Tk)+", to level "+f.Sk):
b+="last time ran: unknown",b+="<br>");b+="this challenge was unlocked by: "+e.qn;b+="<br><br>"}}a.content.a.innerHTML=b}var TM=void 0;function bK(){TM&&(ob(TM,hc),TM=void 0)}
function UM(){var a=G.challenge;bK();var b=V[a];a=G.P[a];var d=b.Pc[a.X];TM=new F(hc,.2,.85,.8,d?.98:.95);TM.a.style.backgroundColor="#fcce";TM.a.style.zIndex=15;var e=new F(TM,.01,[.5,0,-.35],.99,[.5,0,.35]);e.a.style.color="#000";sa(e.a);var f='Challenge "'+la(b.name)+'" Completed!';1<b.Rb()&&(0<a.X&&a.X+1<b.Rb()?f="Next challenge stage completed!":a.X+1>=b.Rb()&&(f="Final challenge stage completed!"));d&&(f+="<br><br>Reward: "+la(d));e.a.j.innerHTML=f;E(TM.a,bK)}var VM=void 0;
function WM(){VM&&(ob(VM,hc),VM=void 0)}function XM(a){WM();a=V[a];VM=new F(hc,.2,.85,.8,.95);VM.a.style.backgroundColor="#fcce";VM.a.style.zIndex=15;var b=new F(VM,.01,[.5,0,-.35],.99,[.5,0,.35]);b.a.style.color="#000";sa(b.a);b.a.j.innerHTML='Challenge Unlocked!<br><br>"'+la(a.name)+'"';E(VM.a,WM)};var jm;function YM(a,b,d){d="<br/>"+d+":<br/>";for(var e=0;e<a.length;e++){d+="\u2022 "+a[e][0];var f=a[e][2];if(a[e][1])if(Ub(f,0)&&ac(f,.05))d+=": \u00f7 "+Mj(f).toString();else{var g=K(Jj(f,1));g&&"-"!=g[0]&&"+"!=g[0]&&(g="+"+g);void 0!=f&&0<e&&(d+=": "+g)}else void 0!=f&&0<e&&(d+=": "+f.toString());f=a[e][3];void 0!=f&&(d+=0==e?": ":" \u21d2 ",d=b?d+K(f):d+f.toString());d+="<br/>"}return d}
function ZM(a,b,d){var e=G.challenge==Kl?G.za:void 0,f=G.D[b.index],g=la(b.name);null!=b.Ta&&(g+=" level "+G.o[b.Ta].count);var h=Rm[a.y][a.x];if(b.mc)return g=b.type==Dl?g+"<br><br>This template represents a crop but is non-functional":g+("<br><br>This template represents all crops of type "+an(b.type)),g+'<br><br>It is a placeholder for planning the field layout and does nothing.<br><br>Templates are a feature provided by the automaton.<br><br>Tip: ctrl+shift+click, or press "u", on a template to turn it into a crop of highest available tier of this type';
if(b.Vb)return g+="<br/><br/>ghostly remainder of a "+an(b.type)+", does nothing. Automaton won't touch this either.";g+="<br/>";g=f.oa?g+("Crop type: "+an(b.type)+(b.g?" (tier "+(b.g+1)+", prestige: "+f.oa+"x)":"")):g+("Crop type: "+an(b.type)+(b.g?" (tier "+(b.g+1)+")":""));(e=e?vl(b.type):bn(b.type))&&(g+="<br/>"+e);b.ad&&(g+="<br/><br/>"+la(b.ad));g+="<br/><br/>";b.type!=Bl||h.bd||(g+='<font color="#f88">This mistletoe is not planted next to the tree and therefore does nothing at all. Plant next to tree to be able to get twigs.</font><br/><br/>');
b.index!=Pp||h.pk||(g+='<font color="#f88">This worker bee is not next to a flower and therefore does nothing at all. Plant next to a flower to get worker bee boost.</font><br/><br/>');if(e=1>a.H&&b.type!=Al&&G.challenge!=Rn)G.challenge==Rn?g+="Withering. Time left: "+m.R(120*a.H):d?(g+="Growing. Total growing time: "+m.R(b.Ja()),b.Ja()!=b.fb&&G.challenge!=Kl&&(g+=" (base: "+m.R(b.fb)+")")):g+="Growing. Time to grow left: "+m.R((1-a.H)*b.Ja(),!0,4,!0)+" (of: "+m.R(b.Ja(),!0,4,!0)+")",g+="<br/><br/>";
else if(b.type==Al){if(d)g+="Short-lived plant. Total lifetime: "+b.Ja()+"s<br/><br/>",g+="Copy ability: if this plant has orthogonal (non-diagonal) berry or mushroom neighbors, the watercress will duplicate all their production (but also consumption), no matter what tier. This has diminishing returns if there are multiple watercress in the field, max 2 watercress makes sense. A badly placed watercress can negatively affect the copying of others. At early game, having many watercress is useful though due to their regular (non-copy) production.<br/>";
else{f="Short-lived plant";var k=a.H;if(!a||.001<a.H?0:Zp(b))f="Short-lived, end of life but weakly active",k=0;g+=f+". Time left: "+m.R(k*b.Ja(),!0,4,!0)+" of "+m.R(b.Ja(),!0,4,!0)+"<br/>";if(G.o[Ms].count||0<G.na){g+='<br/><span class="efWatercressHighlight">Copies neighbors: Duplicates full production of long-lived berry and mushroom neighbors for free, but copies less if there are more brassica on the whole field, so try to get a few well-placed brassica instead.';if(jn()||!G.fa[rp].count)g+=
" (note: mushroom copy also consumes more seeds)";g+="</span><br/>"}}g+="<br/><br/>"}else G.challenge==Rn?g+="Withering. Time left: "+m.R(120*a.H,!0,4,!0)+"<br/><br/>":(g+="Grow time: "+m.R(b.Ja()),b.Ja()!=b.fb&&G.challenge!=Kl&&(g+=" (base: "+m.R(b.fb)+")"),g+="<br/><br/>");k=h.Nd;f=h.Oe;G.challenge==bq&&b.type!=Al&&h.dn&&(k=h.dn,f=h.xo);if(G.challenge==Kl&&(b.type==xl||b.type==Al)){var l=Gm(b,a);if(b.type==xl){var p=um(a.x,a.y);l.Na(p[0]);g+="Damage: "+l.toString();p[6]&&(l=qm(G.za),1!=l&&(g+=" x"+
l+": focused"));1<p[0]&&(g+=" (statues bonus: +"+K(c(p[0]-1))+")");1>p[0]&&(g+=" (statues malus: -"+K(c(1-p[0]))+")");p[2]&&(g+="<br>Statue effect: splash damage");p[3]&&(g+="<br>Statue effect: sniper (strong & far but slow)");p[4]&&(g+="<br>Statue effect: slow");p[5]&&(g+="<br>Statue effect: rich (gives more seeds)");p[6]&&(g+="<br>Statue effect: focused (+"+K(c(qm(G.za)-1))+")");g=p[3]?g+"<br>Range: infinite":g+("<br>Range: "+p[1])}else g+="Damage: "+l.toString(),g+="<br>Range: 1.";g+="<br/>";p=
G.za.vc;p[a.y]&&p[a.y][a.x]&&(g+="Hits: "+p[a.y][a.x].Lk+"<br>",g+="Exterminated: "+p[a.y][a.x].Pk+"<br>");g+="<br/>"}k.empty()&&b.type!=xl&&b.type!=wl&&b.type!=Gl&&b.type!=Fl||(e?(p=b.Cb(a,0),l=b.Cb(a,2),p.empty()||(g+="Current production/sec: "+b.Cb(a,0).toString()+"<br>"),l.empty()||(g+="Expected production/sec: "+l.toString()+"<br>")):g+="Production per second: "+k.toString()+"<br/>",G.challenge==bq&&b.type!=Al&&(g+="NOTE: this production is only accessible through copying with watercress etc... during the wasabi challenge!<br>"),
b.type==Al&&(p=h.eo())&&p.length&&(p=p[p.length-1][3])&&p.J&&p.J(0)&&(g+="Copying: "+K(p)+"<br/>"),p=k,ac(p.f,0)||ac(p.B,0)||ac(p.h,0)||ac(p.K,0)||ac(p.Y,0)||ac(p.v,0)||ac(p.ta,0)||ac(p.ca,0)||ac(p.W,0)||b.type==xl?f.Eb(k)?b.type==xl?(g+="Needs more seeds, requires berries as neighbors.<br>Potential max production: "+f.toString()+"<br/>",g+="Satisfied: no ("+K(k.f.a(f.f),void 0,void 0,!0)+")<br/>"):b.type!=Al&&(g+="Needs more input resources, potential max production: "+f.toString()+"<br/>"):g+="Satisfied: fully ("+
K(h.Dk.f.a(h.kg.f))+")<br/>":!h.Nd.Eb(h.Yb)||ac(h.Yb.f,0)&&Ub(h.Yb.f,-1E-6)||(g+="After consumption: ",g=h.Yb.empty()&&$M()?g+"none: a mushroom is consuming all seeds. Plant high tier berries away from a mushroom to get some income for upgrades.":g+h.Yb.toString(),g+="<br/>"),g+="<br/>");if(d&&(b.type==wl||b.type==xl||b.type==Gl||b.type==Fl)){p=b.Cb(void 0,0);k=b.Cb(a,1);k=el(k);p=el(p);l=c(NaN);for(var q=0;q<k.length;q++){var n=k[q],u=p[q];Zb(n,0)&&Zb(u,0)||ac(n,0)||ac(u,0)||(n=n.a(u),!l.isNaN()&&
!n.ba(l))||(l=n)}k=Jj(l,1);g+="Field neighbor boost to here: "+K(k);g+="<br/><br/>"}d&&b.type==yl&&(k=jo(b,void 0,0),k=Jj(jo(b,a,1).a(k),1),g+="Field neighbor boost to here: "+K(k),g+="<br/><br/>");b.type==xl&&(g+="Efficiency: "+f.B.a(f.f.Lc()).toString()+" spores/seed, "+f.f.a(f.B.Lc()).toString()+" seeds/spore<br/>");b.index==Pp&&(g+="Global field-wide boost to berries, flowers and mushrooms: "+K(h.Ea)+" (base: "+K(b.Ea)+")<br/>",g+="All worker bees together: "+K(G.Yj)+"<br/>",g+="<br/>");b.index==
Qp&&(g+="Boost to neighbor worker bees: "+K(h.Ea)+" (base: "+K(b.Ea)+")<br/>",g+="<br/>");b.index==Rp&&(g+="Boost to neighbor drones: "+K(Op(b,a))+" (base: "+K(b.Ea)+")<br/>",g+="<br/>");!b.Ea.J(0)||b.type!=yl&&b.type!=zl||(b.type==zl?g+="Boosting spores: "+K(jo(b,a))+". Nerfing orthogonally neighboring berries and flowers<br/>":e?(h=jo(b,a,0),f=jo(b,a,2),h.J(0)&&(g+="Current boost to neighbors: "+K(h)+"<br>"),f.J(0)&&(g+="Expected boost: "+K(f)+"<br>")):g+="Boosting neighbors: "+K(jo(b,a))+"<br>",
g+="<br/>");b.Ea.J(0)&&b.type==Cl&&(e?(h=Op(b,a,0),e=Op(b,a,2),h.J(0)&&(g+="Current boost to flowers: "+K(h)+"<br>"),e.J(0)&&(g+="Expected boost: "+K(e)+"<br>")):g+="Boosting flowers: "+K(Op(b,a))+"<br>",g+="<br/>");e=b.Wa(a);h=[void 0];a=aN(a.x,a.y,h,!0);d?(g+="Have of this crop: "+G.ab[b.index]+"<br>",g=g+"<br/>Cost: <br> \u2022 Base planting cost: "+(b.T.toString()+"<br>"),g+=" \u2022 Last planting cost: "+b.O(-1).toString()+"<br>",b.type!=Fl&&(g+=" \u2022 Next planting cost: "+b.O().toString()+
"<br>"),g+=" \u2022 Recoup on delete: "+e.toString(),a&&h[0]&&(b=a.g-b.g,g+="<br/> \u2022 Upgrade tier"+(1<b?" (+"+b+")":"")+" cost: "+h[0].toString()+" ("+Tb(h[0])+")")):(b.type!=Fl&&(g+=" \u2022 Next planting cost (p): "+b.O().toString()+" ("+Tb(b.O())+")<br>"),g+=" \u2022 Recoup on delete (d): "+e.toString(),a&&h[0]&&(b=a.g-b.g,g+="<br/> \u2022 Upgrade tier"+(1<b?" (+"+b+")":"")+" cost (u): "+h[0].toString()+" ("+Tb(h[0])+")"));return g}
function aN(a,b,d,e){if(!G.G[b])return null;if(a=G.G[b][a])if(a=S(a,!0)){if(a.type==Dl)return void 0!=fs[a.index]?Pm[fs[a.index]]:null;b=e?G.Vh[a.type]:G.Ib[a.type];for(var f=null;!(b<=a.g||0>b);){var g=hq[a.type][b];if(!g||!G.D[g.index].c&&!e)break;void 0!=d&&(d[0]=g.O(),f=g);if(g.O().Sa(G.b)){void 0!=d&&(d[1]=!1);break}else void 0!=d&&(d[1]=!0);b--}return f}}
function bN(a,b){if(a.type==Dl)return void 0!=es[a.index]?Pm[es[a.index]]:null;var d=a.g-1,e=a.Wa(),f=null;if(-1>d)return null;var g=hq[a.type][d];!g&&0<=d&&(g=hq[a.type][-1]);if(!g||!G.D[g.index].c)return null;a=g.O().sub(e);void 0!=b&&(b[0]=a,f=g);a.Sa(G.b)?void 0!=b&&(b[1]=!1):void 0!=b&&(b[1]=!0);return f}
function jL(a,b){var d=[void 0],e=aN(a,b,d);if(e&&!d[1])return W({type:RK,x:a,y:b,aa:e,Ka:!0}),!0;d[1]?T("not enough resources for crop upgrade: have "+ll(d[0]).toString()+", need "+d[0].toString()+" ("+Tb(d[0])+")",uB,0,0):0<=a&&a<G.C&&0<=b&&b<G.F&&Yo(G.G[b][a],!0)?0!=G.G[b][a].index&&(Yo(G.G[b][a])&&S(G.G[b][a]).mc&&!G.o[Ms].count?T("Crop not replaced, no higher tier unlocked or available. Must plant watercress first to unlock blackberry.",uB):T("Crop not replaced, no higher tier unlocked or available",
uB)):T("No crop to upgrade tier here. Move mouse cursor over a crop and press u to upgrade it to the next tier",uB);return!1}
function vL(a,b){var d=[void 0],e;e=G.G[b]?(e=G.G[b][a])?(e=S(e))?bN(e,d):null:null:null;e&&!d[1]?W({type:RK,x:a,y:b,aa:e,Ka:!0}):e&&d[1]?T("not enough resources for lower crop tier: have "+ll(d[0]).toString()+", need "+d[0].toString()+". This can happen if you have a lot of the lower tier crop planted.",uB,0,0):e||T("Crop not replaced, no lower tier available",uB);return!0}
function cN(a,b){var d=tp(G.G[b][a]);if(Yo(d,!0)){var e=S(d,!0),f=B(function(x,y){x=ZM(x,y);x!=u&&(u=k.a.innerHTML=x)},d,e),g=Da({icon:e.image[4],title:"Crop info",sb:"efDialogTranslucent",yf:f}),h=0;e.type==Al&&(h+=.17);e.type==Gl&&(h+=.15);var k=new F(g.content,0,[0,0,.01],1,.5+h),l=(new F(g.content,[0,0,.2],[.5+h,0,.01],[1,0,-.2],.565+h)).a,p=(new F(g.content,[0,0,.2],[.57+h,0,.01],[1,0,-.2],.635+h)).a,q=(new F(g.content,[0,0,.2],[.64+h,0,.01],[1,0,-.2],.705+h)).a,n=(new F(g.content,[0,0,.2],[.71+
h,0,.01],[1,0,-.2],.775+h)).a;g=(new F(g.content,[0,0,.2],[.78+h,0,.01],[1,0,-.2],.855+h)).a;var u=void 0;wb(k);La(l);l.j.innerText="Upgrade tier";Lb(l,"Replace crop with the highest tier of this type you can afford, or turn template into real crop. This deletes the original crop, (with cost recoup if applicable), and then plants the new higher tier crop.");E(l,function(){jL(a,b)&&Hm();fb()});La(p);p.j.innerText="Downgrade tier";Lb(p,"Downgrade crop to 1 tier lower, if it already is at the lowest tier it will be turned into a blueprint template.");
E(p,function(){vL(a,b)&&Hm();fb()});La(q);q.j.innerText="Replace crop";Lb(q,"Replace the crop with a new one you choose, same as delete then plant. Shows the list of unlocked crops.");E(q,function(){HM(a,b,!0,e.Wa(d))});La(n);n.j.innerText="Delete crop";n.j.style.color="#c00";Lb(n,"Delete crop and get some of its cost back.");E(n,function(){W({type:rH,x:a,y:b});fb();Hm()});La(g);g.j.innerText="Detailed stats / bonuses";Lb(g,"Show breakdown of multipliers and bonuses and other detailed stats.");E(g,
function(){var x=Da({size:ab,title:"Detailed crop stats",Ia:!0,icon:e.image[4],sb:"efDialogTranslucent"});var y=""+ZM(d,e,!0);y+="<br/>";var r=d,v="";r.index==sp&&(r=tp(r));var w=oo(r)?!0:(w=S(r))&&Zp(w)?!0:!1;w=w?"Breakdown":"Preliminary breakdown";var H=Rm[r.y][r.x],D=H.eo();D&&0<D.length&&(v=H.gm()==Fl?v+YM(D,!0,w+" (copy nuts)"):v+YM(D,!0,w+" (copy)"));e.Cb(r).empty()&&e.type!=wl&&e.type!=Gl&&e.type!=xl&&e.type!=Fl||(r=H.hm(),v+=YM(r,!1,w+" (production/s)"));!e.Ea.J(0)||e.type!=yl&&e.type!=zl||
(r=H.hm(),v+=YM(r,!0,w+" (neighbor boost +%)"));e.Ea.J(0)&&e.type==Cl&&(r=H.hm(),v+=YM(r,!0,w+" (flower boost +%)"));x.content.a.innerHTML=y+v});f()}else d.index==em||d.index==fm?dN():HM(a,b,!1)}
function eN(a,b){var d=tp(G.G[b][a]),e="";G.Va&&a==G.Gb&&b==G.Hb?1<G.na&&fN()?(e="Fern: provides some resources when activated.<br><br> The amount is based on production at the time the fern is activated,<br>or starter resources when there is no production yet.",2==G.Va&&(e+='<br><br>Extra bushy: gives more resources, and gives a small amount of resin, based on highest-earning resin run ever, once far enough in the game. Resin given by ferns is itself not included in the "highest-earning resin run" metric, and is also not included in resin/hr stats, but will be given on transcend as usual'),e=
e+'<br><br>This fern charged up thanks to long idle time with the "slower ferns" choice upgrade. It gives more resources from the past production, as well as more resources at the current production rate, for some amount of time up to some limit. This time charges up slower than real time. This is in addition to what the fern already gives by default.<br><br>Idle for: '+m.R(G.time-G.nc),e=e+"<br>Past resource time charged up: "+m.R(oA()),e=e+"<br>Upcoming resource time charged up: "+(m.R(pA())+" (plus the randomized regular fern default)")):
e=1<G.na&&2==G.Va?'Fern: provides some resources when activated.<br><br> The amount is based on production at the time the fern is activated,<br>or starter resources when there is no production yet.<br><br>Extra bushy ferns give more resources, and give a small amount of resin, based on highest-earning resin run ever, once far enough in the game. Resin given by ferns is itself not included in the "highest-earning resin run" metric, and is also not included in resin/hr stats, but will be given on transcend as usual':
"Fern: provides some resources when activated.<br><br> The amount is based on production at the time the fern is activated,<br>or starter resources when there is no production yet.":G.fc&&a==G.Ac&&b==G.Bc?(e=G.$a&1?"Present: provides a random bonus when activated. Presents are a temporary festive event!":"Egg: provides a random bonus when activated. Eggs are a temporary festive event!",a=gN(),e+="<br>("+(1==a?"it's full of life":2==a?"microscopic contents":3==a?"it's plentiful":4==a?"crunchy":5==
a?"it appeared swiftly":6==a?"it smells sweet":7==a?"it smells spicy":"????")+")"):0!=d.index&&(d.index==AG?e='Remains of a watercress that was copying from multiple plants. Visual reminder of good copying-spot only, this is an empty field spot and does nothing. Allows replanting this watercress with "w" key or the watercress button in the top bar.':Yo(d)?e=ZM(d,S(d)):d.index==em||d.index==fm?(a=wy().B.sub(G.b.B).a(Vb.B),ac(a,0)&&(a=c(0)),0>=G.s&&Zb(G.b.B,0)?(e="a weathered tree",Ub(G.b.B,0)&&(e+=
"<br>("+m.R(a.valueOf(),!0)+")")):(e=G.b.B.a(wy().B),e=la(Li[xy(G.s)][0])+" level "+G.s+".<br>Next level requires: "+wy().toString()+"<br>("+m.R(a.valueOf(),!0)+", "+K(e)+")",e+="<br>Time at this level: "+m.R(wB(),!0)+"<br/>")):d.index==gm&&(e="Burrow: pests emerge from here and try to make their way to the tree.<br>The burrow partially reduces tower damage for pests that are on the burrow only.<br>",G.za&&(e=e+"<br>"+Im())));G.challenge==Kl&&Ll&&Ll[d.y]&&(d=Jl(d))&&(e+="<br>"+d);if(""!=e)return e}
function hN(a,b,d,e,f,g){var h=G.G[b][a],k=G.Va&&a==G.Gb&&b==G.Hb,l=G.fc&&a==G.Ac&&b==G.Bc;G.Va&&a==G.Gb&&b==G.Hb&&!g&&(W({type:iN,x:a,y:b}),Hm());G.fc&&a==G.Ac&&b==G.Bc&&!g&&(W({type:jN,x:a,y:b}),Hm());d=void 0;G.challenge==Kl&&Ll&&Ll[h.y]&&(d=Ll[h.y][h.x]);if(g)cN(a,b);else if(d&&d.Ba)a=Da({icon:d.images[0],title:"Pest",pb:B(qu,44,!0)}),b=Jl(h),b=b+"<br><hr><br>"+Im(),a.content.a.innerHTML=b;else if(!(k||l||h.index!=em&&h.index!=fm))cN(a,b);else if(h.index==gm)a=Da({icon:Vi,title:"Burrow",pb:B(qu,
44,!0)}),b="Burrow: this is where pests spawn during tower defense<br><br>"+Im(),a.content.a.innerHTML=b;else if(0==h.index||h.index==AG)e&&f?0<=G.qb&&Pm[G.qb]&&(e=Pm[G.qb],g=G.Ib[e.type],h=hq[e.type][g],e.type==Dl&&(h=e),h&&G.D[h.index].c||(h=e),h.O().ba(G.b)&&0<g&&(g--,(d=hq[e.type][g])&&G.D[d.index].c&&(h=d)),h.O().ba(G.b)&&0<g&&(g--,(d=hq[e.type][g])&&G.D[d.index].c&&(h=d)),h.O().ba(G.b)&&(d=hq[e.type][-1])&&G.D[d.index].c&&(h=d),W({type:sH,x:a,y:b,aa:h,Ka:!0}),Hm()):e&&!f?0<=G.qb&&Pm[G.qb]?(e=
Pm[G.qb],W({type:sH,x:a,y:b,aa:e,Ka:!0}),Hm()):T("shift+click, or p, repeats last planted plant, but no last plant is set, plant the regular way first",uB,0,0):f&&!e?(h=UH(),0<=h&&(W({type:sH,x:a,y:b,aa:Pm[h],xc:!0}),Hm())):k||l||cN(a,b);else if(Yo(h,!0)){g=a;d=b;var p=h;h.index==sp&&(p=tp(h),g=p.x,d=p.y);e&&f?G.challenge==Kl&&S(h).type==Dl?(e=S(p),a=vm,b=Am,e.index>=a&&e.index<=b&&(h=e.index-1,h<a&&(h=b),W({type:RK,x:g,y:d,aa:Pm[h],xc:!0}),Hm())):(a=S(p),(h=hq[a.type][G.Ib[a.type]])&&G.D[h.index].c||
(h=a),a.type==Dl&&(h=a),G.qb=h.index,h.O().ba(G.b)&&(G.qb=a.index),h.g>a.g&&(W({type:RK,x:g,y:d,aa:h,Ka:!0}),Hm())):e&&!f?0<=G.qb&&Pm[G.qb]&&(e=Pm[G.qb],a=S(h),a.index==G.qb&&(a.type!=Al&&!oo(p)||JG(p)||Yo(p)&&S(p).Vb)?W({type:rH,x:g,y:d}):W({type:RK,x:g,y:d,aa:e,Ka:!0}),Hm()):f&&!e?G.challenge==Kl?(e=S(p),a=vm,b=Am,e.index>=a&&e.index<=b&&(h=e.index+1,h>b&&(h=a),W({type:RK,x:g,y:d,aa:Pm[h],xc:!0}),Hm())):(h=UH(),S(p).index==Kr&&G.b.f.ib(100)&&0<=h?W({type:RK,x:g,y:d,aa:Pm[h],xc:!0}):(W({type:rH,
x:g,y:d}),Hm())):k||l||cN(a,b)}}
function kN(){lN.clear();jm=[];for(var a=0;a<G.F;a++){jm[a]=[];for(var b=0;b<G.C;b++)jm[a][b]=new mN}var d=G.C/G.F;d=new F(lN,[.5,0,-.5,d],[.5,0,-.5,1/d],[.5,0,.5,d],[.5,0,.5,1/d]);a=lN.a;var e=a.clientWidth;a=a.clientHeight;ua(d.a,"grid");ta(d.a,"basic field");b=Math.floor(e/G.C)-1;e=Math.floor(a/G.F)-1;b=e=Math.min(b,e);for(a=0;a<G.F;a++){var f=ja("0",a/G.F*100+"%","100%",101/G.F+"%",d.a);ua(f,"row");for(b=0;b<G.C;b++){var g=ja(b/G.C*100+"%","0",101/G.C+"%","100%",f),h=pb("0%","0%","100%","100%",
g),k=ja("0","0","100%","100%",g);ua(g,"cell");k.style.boxSizing="border-box";ra(k);jm[a][b].a=k;jm[a][b].canvas=h;m.jb(k,"mouseover",B(function(l,p){iL=l;hL=p;nN&&oN(pN)},b,a),"fieldover");m.jb(k,"mouseout",B(function(l,p){l==iL&&p==hL&&(hL=iL=-1,nN&&oN(pN))},b,a),"fieldout");m.jb(k,"mouseup",B(function(l,p){window.setTimeout(function(){iL=l;hL=p;nN&&oN(pN)})},b,a),"fieldclick");k.style.cursor="pointer";xa(k,B(hN,b,a,k),"click field cell",{Zc:"(over)plant selected crop",Le:"delete crop or plant brassica",
pj:"select crop or plant highest tier",no:"open crop dialog",Ba:B(eN,b,a,k),Tj:!0});g=Math.round(e/16);4>g&&(g=4);g=ja((b+.2)/G.C*100+"%",(a+.85)/G.F*100+"%",100/G.C*.6+"%",100/G.F*.05+"%",d.a);g.style.minHeight="5px";Oa(g);jm[a][b].progress=g}}}
var qN=[0,1,0,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,0,1,1,1,1,1,0,1,0,0,1,0,1,0,1,1,1,0,0,0,1,0,0,1,1,0,1,1,0,0,1,0,0,0,0,1,1,0,1,1,0,1,1,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,0,1,0,0,1,0,0,1,9,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,0,0,1,0,0,1,0,1,1,0];function rN(a,b,d,e,f,g){f=f||"#840";b*=3;for(var h=0;5>h;h++){h>=5-e&&(f=g||"#f80");for(var k=30*h+b,l=0;3>l;l++)qN[k+l]&&fd.Mj(d+l,11+h,f,a)}}
function sN(a,b,d,e,f){10>b?rN(a,b,6,d,e,f):100>b?(rN(a,Math.floor(b/10),4,d,e,f),rN(a,b%10,8,d,e,f)):1E3>b?(rN(a,Math.floor(b/100),2,d,e,f),rN(a,Math.floor(b/10)%10,6,d,e,f),rN(a,b%10,10,d,e,f)):1E4>b&&(rN(a,Math.floor(b/1E3),0,d,e,f),rN(a,Math.floor(b/100)%10,4,d,e,f),rN(a,Math.floor(b/10)%10,8,d,e,f),rN(a,b%10,12,d,e,f))}function fN(){return 1==G.o[du].count&&G.Va&&1800<G.time-G.nc}var Ll=void 0,tN=0,uN=0;var vN;
function wN(a,b,d){var e="Ethereal "+b.name;e=e+"<br/>Crop type: "+(an(b.type)+(b.g&&zn(b)?" (tier "+(b.g+1)+")":""));e+="<br/>";if(b.mc)return e+="<br/><br/>This template represents all crops of type "+an(b.type),e+'<br/><br/>It is a placeholder for planning the field layout and does nothing.<br><br>Templates are a feature provided by the automaton.<br><br>Tip: ctrl+shift+click, or press "u", on a template to turn it into a crop of highest available tier of this type';1>a.H&&(e+="Growing. Time to grow left: "+m.R((1-
a.H)*b.Ja(),!0,4,!0),e+="<br/><br/>");if(b.Dh){var f=b.Dh;"function"==typeof f&&(f=b.Dh());e+="Effect: "+f}else b.Eh&&(f=b.Eh,"function"==typeof f&&(f=b.Eh()),e+="Effect: "+f);if(b.index==Gu){e=Ro(gC)?e+" Can have only max two. Their neighbor bonus does not stack to the same neighbor.":e+" Can have only max one.";e+="<br/>";f=aC[G.lb];var g=G.Kb[G.lb];e=f?e+("<br/>Upgrade time left: "+m.R(f.getTime()-g.time,!0,4)+"<br/>"):e+"<br/>Not upgrading<br/>"}e+="<br/>";var h=void 0;if(b.type==wl||b.type==
xl||b.type==yl||b.type==zl||b.type==Cl||b.type==Al)f=b.Kc(a),e=e+"<br/>Boost to basic field: "+K(f),e+="<br/>",h=b.Kc(),h=Jj(f.a(h),1);g=b.index==Vu;var k=b.index==Wu,l=b.index==Gu;f=d?[]:void 0;if(1<=a.H){if(b.Ea.J(0)){var p=Fu(b,a);e+="<br/>Boosting neighbors: "+K(p)+"<br/>";h=Fu(b);h=Jj(p.a(h),1)}g&&(e+="<br/>Boosting non-lotus neighbors orthogonally and diagonally: "+K(Zu(f))+"<br/>");k&&(e+="<br/>Boosting non-lotus neighbors orthogonally and diagonally: "+K($u(f))+"<br/>");l&&Ro(Yu)&&(e+="<br/>Boosting non-lotus neighbors orthogonally and diagonally: "+
K(To(Yu))+"<br/>");l&&Ro(Hu)&&(e+="Boosting lotus neighbors orthogonally and diagonally: "+K(To(Hu))+"<br/>")}h&&Ub(h,0)&&(e+="Neighbor boost to here: "+K(h),e+="<br/>");d&&(e=e+"<br/>Have of this crop: "+G.Tb[b.index],e+="<br/>");p=[void 0];a=xN(a.x,a.y,p);g||k||l?(e+="<br/>\u2022 Cost: "+b.T.toString(),e+="<br/>\u2022 Recoup on delete (d): "+b.O(-1).i(1).toString()+" (full refund)"):d?(e+="<br/>Cost: ",d&&(e+="<br/>\u2022 Base planting cost: "+b.T.toString()),e+="<br/>\u2022 Next planting cost: "+
b.O().toString()+" ("+Tb(b.O())+")",e+="<br/>\u2022 Last planting cost: "+b.O(-1).toString(),e+="<br/>\u2022 Recoup on delete: "+b.O(-1).i(1).toString()+" (full refund)",a&&p[0]?(d=a.g-b.g,e+="<br/>\u2022 Upgrade tier"+(1<d?" (+"+d+")":"")+" cost:"+p[0].toString()+" ("+Tb(p[0])+")"):e+="<br/>\u2022 Upgrade tier cost: ?"):(e+="<br/>\u2022 Next planting cost (p): "+b.O().toString()+" ("+Tb(b.O())+")",e+="<br/>\u2022 Recoup on delete (d): "+b.O(-1).i(1).toString()+" (full refund)",a&&p[0]?(d=a.g-b.g,
h="<br/>\u2022 Upgrade tier"+(1<d?" (+"+d+")":"")+" cost (u): "+p[0].toString()+" ("+Tb(p[0])+")",p[1]||(h="<b>"+h+"</b>"),e+=h):e+="<br/>\u2022 Upgrade tier cost (u): ?");e+="<br><br>Ethereal tree level that unlocked this crop: "+b.U;f&&f.length&&(e+="<br>"+YM(f,!0,"Breakdown of neighbor boost"));return e}
function xN(a,b,d){if(!G.xa[b])return null;a=G.xa[b][a];if(!a)return null;a=S(a);if(!a||a.type==Dl)return null;b=G.Zd[a.type];for(var e=a.Wa(),f=null;!(b<=a.g||0>b);){var g=lv[a.type][b];if(!g||!G.ha[g.index].c)break;var h=g.O().sub(e);void 0!=d&&(d[0]=h,f=g);if(h.Sa(G.b)){void 0!=d&&(d[1]=!1);break}else void 0!=d&&(d[1]=!0);b--}return f}
function yN(a,b,d){if(!G.xa[b])return null;a=G.xa[b][a];if(!a)return null;var e=S(a);if(!e||e.type==Dl)return null;var f=e.g-1;b=e.Wa();a=null;if(-1>f)return null;e=lv[e.type][f];if(!e||!G.ha[e.index].c)return null;b=e.O().sub(b);void 0!=d&&(d[0]=b,a=e);b.Sa(G.b)?void 0!=d&&(d[1]=!1):void 0!=d&&(d[1]=!0);return a}
function kL(a,b){var d=[void 0],e=xN(a,b,d);e&&!d[1]?W({type:tL,x:a,y:b,aa:e,Ka:!0}):d[1]?T("not enough resources for next crop tier: have "+ll(d[0]).toString()+", need "+d[0].toString(),uB,0,0):!(0<=a&&a<G.qa&&0<=b&&b<G.pa)||G.xa[b][a].index<Cs?T("No crop to upgrade tier here. Move mouse cursor over a crop and press u to upgrade it to the next tier",uB):T("Crop not replaced, no higher tier unlocked or available",uB);return!0}
function xL(a,b){var d=[void 0],e=yN(a,b,d);e&&!d[1]?W({type:tL,x:a,y:b,aa:e,Ka:!0}):e&&d[1]?T("not enough resources for lower crop tier: have "+ll(d[0]).toString()+", need "+d[0].toString()+". This can happen if you have a lot of the lower tier crop planted.",uB,0,0):e||T("Crop not replaced, no lower tier available",uB);return!0}
function zN(a,b,d){var e=G.xa[b][a];if(Yo(e)&&S(e).index==Gu&&!d)AN(a,b);else if(Yo(e)){var f=Uu[Bs(e)];d=B(function(u,x){u=wN(u,x,!1);u!=n&&(n=h.a.innerHTML=u)},e,f);var g=Da({icon:f.image[4],title:"Ethereal crop info",sb:"efDialogTranslucent",yf:d}),h=new F(g.content,0,[0,0,.01],1,.17),k=(new F(g.content,[0,0,.2],[.63,0,.01],[1,0,-.2],.695)).a,l=(new F(g.content,[0,0,.2],[.7,0,.01],[1,0,-.2],.765)).a,p=(new F(g.content,[0,0,.2],[.77,0,.01],[1,0,-.2],.835)).a,q=(new F(g.content,[0,0,.2],[.84,0,.01],
[1,0,-.2],.905)).a;g=(new F(g.content,[0,0,.2],[.91,0,.01],[1,0,-.2],.975)).a;var n=void 0;La(k);k.j.innerText="Upgrade tier";Lb(k,"Replace crop with the highest tier of this type you can afford, or turn template into real crop. This deletes the original crop, (with cost recoup if applicable), and then plants the new higher tier crop.");E(k,function(){kL(a,b)&&(fb(),Hm())});La(l);l.j.innerText="Downgrade tier";Lb(l,"Downgrade crop to 1 tier lower (refunding the resin cost difference), if it already is at the lowest tier it will be turned into a blueprint template.");
E(l,function(){xL(a,b)&&(fb(),Hm())});La(p);p.j.innerText="Replace crop";Lb(p,"Replace the crop with a new one you choose, same as delete then plant. Shows the list of unlocked ethereal crops.");E(p,function(){BN(a,b,!0,f.Wa())});La(q);q.j.innerText="Delete crop";q.j.style.color="#c00";Lb(q,"Delete crop, get 100% of the original resin cost back.");E(q,function(){W({type:wL,x:a,y:b});fb();Hm()});La(g);g.j.innerText="Detailed stats / bonuses";Lb(g,"Show breakdown of multipliers and bonuses and other detailed stats.");
E(g,function(){var u=Da({size:ab,title:"Detailed crop stats",Ia:!0,icon:f.image[4],sb:"efDialogTranslucent"});var x=""+wN(e,f,!0);x+="<br/>";var y="";if(f.type==wl||f.type==xl||f.type==yl||f.type==zl||f.type==Cl||f.type==Al){var r=[];f.Kc(e,r);y+=YM(r,!0,"Breakdown (boost to basic field)")}f.type==Xm&&(r=[],Fu(f,e,r),y+=YM(r,!0,"Breakdown (boost to ethereal neighbors)"));u.content.a.innerHTML=x+y});d()}else e.index==em||e.index==fm?CN():BN(a,b)}
function DN(a,b){b=G.xa[b][a];a=void 0;if(0!=b.index){if(Yo(b))a=wN(b,Uu[Bs(b)],!1);else if(b.index==em||b.index==fm){a=0<G.U?"Ethereal tree level "+G.U:"Ethereal tree";b=Uz(G.U+1);var d=G.b.K.a(b.K);a+="<br><br>Twigs required for next level: </b>"+b.K.sub(G.b.K).toString()+" of "+b.toString()+" (have "+G.b.K.toString()+", "+K(d)+")";b=Nu();b.J(0)&&(a=G.fa[Xu].count?a+("<br><br>Boosting non-lotus neighbors orthogonally and diagonally: "+K(b)):a+("<br><br>Boosting non-lotus neighbors orthogonally but not diagonally: "+
K(b)))}return a}}
function EN(a,b,d,e,f){d=G.xa[b][a];if(d.index==em||d.index==fm)zN(a,b);else if(0==d.index)if(e&&f){if(0<=G.Wb&&Uu[G.Wb]){e=Uu[G.Wb];f=G.Zd[e.type];d=lv[e.type][f];e.type==Dl&&(d=e);d&&G.ha[d.index].c||(d=e);if(d.O().ba(G.b)&&0<f){f--;var g=lv[e.type][f];g&&G.ha[g.index].c&&(d=g)}d.O().ba(G.b)&&0<f&&(f--,(g=lv[e.type][f])&&G.ha[g.index].c&&(d=g));d.O().ba(G.b)&&(g=lv[e.type][-1])&&G.ha[g.index].c&&(d=g);W({type:uL,x:a,y:b,aa:d,Ka:!0});Hm()}}else e&&!f?0<=G.Wb&&Uu[G.Wb]?(e=Uu[G.Wb],W({type:uL,x:a,
y:b,aa:e,Ka:!0}),Hm()):T("shift+click, or p, repeats last planted plant, but no last plant is set, plant the regular way first",uB,0,0):zN(a,b);else Yo(d)&&(e&&f?(f=S(d),(d=lv[f.type][G.Zd[f.type]])&&G.ha[d.index].c||(d=f),f.type==Dl&&(d=f),G.Wb=d.index,d.O().ba(G.b)&&(G.Wb=f.index),d.g>f.g&&(W({type:tL,x:a,y:b,aa:d,Ka:!0}),Hm())):e&&!f?(e=Uu[G.Wb],f=S(d),f.index!=G.Wb||oo(d)?W({type:tL,x:a,y:b,aa:e,Ka:!0}):W({type:wL,x:a,y:b}),Hm()):f&&!e?(W({type:wL,x:a,y:b}),Hm()):zN(a,b))}
function rx(){FN.clear();vN=[];for(var a=0;a<G.pa;a++){vN[a]=[];for(var b=0;b<G.qa;b++)vN[a][b]=new mN}var d=G.qa/G.pa;d=new F(FN,[.5,0,-.5,d],[.5,0,-.5,1/d],[.5,0,.5,d],[.5,0,.5,1/d]);a=FN.a;var e=a.clientWidth;a=a.clientHeight;ua(d.a,"grid");ta(d.a,"ethereal field");b=Math.floor(e/G.qa)-1;e=Math.floor(a/G.pa)-1;b=e=Math.min(b,e);for(a=0;a<G.pa;a++){var f=ja("0",a/G.pa*100+"%","100%",101/G.pa+"%",d.a);ua(f,"row");for(b=0;b<G.qa;b++){var g=ja(b/G.qa*100+"%","0",101/G.qa+"%","100%",f),h=pb("0%","0%",
"100%","100%",g),k=ja("0","0","100%","100%",g);ua(g,"cell");k.className="efNoOutline";k.style.boxSizing="border-box";ra(k);vN[a][b].a=k;vN[a][b].canvas=h;m.jb(k,"mouseover",B(function(l,p){lL=l;mL=p;GN&&HN(IN)},b,a),"fieldover");m.jb(k,"mouseout",B(function(l,p){l==lL&&p==mL&&(mL=lL=-1,GN&&HN(IN))},b,a),"fieldout");m.jb(k,"mouseup",B(function(l,p){window.setTimeout(function(){lL=l;mL=p;GN&&HN(IN)})},b,a),"fieldclick");k.style.cursor="pointer";xa(k,B(EN,b,a,k),"click field cell",{Zc:"(over)plant selected crop",
Le:"delete crop",pj:"select crop or plant highest tier",Ba:B(DN,b,a,k),Tj:!0});g=Math.round(e/16);4>g&&(g=4);g=ja((b+.2)/G.qa*100+"%",(a+.85)/G.pa*100+"%",100/G.qa*.6+"%",100/G.pa*.05+"%",d.a);g.style.minHeight="5px";Oa(g);vN[a][b].progress=g}}}function JN(){for(var a=P(),b=G.qa,d=G.pa,e={},f=0;f<d;f++)for(var g=0;g<b;g++){var h=S(G.xa[f][g]);if(h){var k=e[h.index]||0;e[h.index]=k+1;a.u(h.O(void 0,k))}}return a};var KN;
function LN(a,b,d){var e=la(b.name);e=e+"<br/>Crop type: Infinity "+(an(b.type)+(b.g&&zn(b)?" (tier "+(b.g+1)+")":""));var f=en(b.type);f&&(e+="<br/>"+f);e+="<br/><br/>";MN(a)&&(e+="WARNING! This brassica isn't producing producing enough seeds due to insufficient brassica-boosting fishes (shrimp and goldfish) in the pond<br/><br/>");1>a.H&&(b.type==Al?(e=d?e+("Finite lifetime: "+m.R(b.Ja())+"<br/><br/>"):e+("Finite lifetime. Time left: "+m.R(a.H*b.Ja(),!0,4,!0)+" of "+m.R(b.Ja(),!0,4,!0)+"<br/>"),e+=
"<br/>"):(e+="Grow time: "+m.R(b.Ja()),b.Ja()!=b.fb&&(e+=" (base: "+m.R(b.fb)+")"),e+="<br/><br/>"));f=b.Cb(a);if(!f.empty()){if(b.type==Al){var g=f.i(b.Ja());e+="Total production over full lifetime: "+g.toString()+"<br>"}e+="Production per second: "+f.toString();g=Zb(f.W,0)?f.v.i(3600):f.W.i(3600);e+=" ("+g.toString()+"/h)";g=b.Cb(void 0);g.v.Eb(f.v)&&(e=e+"<br/>Base production/s: "+g.toString(),e+=" ("+g.v.i(3600).toString()+"/h)");e+="<br/><br/>";b.type==Al&&(g=rC(b),f.v.Sa(g)&&(e+='<span class="efWarningOnDialogText">Warning: this brassica is not producing enough infinity seeds, place fishes such as shrimp and goldfish in the pond to increase production!</span><br/><br/>'))}f=
oC(b,a);f.J(0)&&(e=b.type==Hl?e+("Boost to neighboring crops basic field boost: "+K(f)):b.type==Cl?e+("Boost to neighboring flowers: "+K(f)):b.type==yl?e+("Boost to neighboring berries: "+K(f)):b.type==zl?e+("Boost to neighboring mushrooms: "+K(f)):b.type==El?e+("Copy: "+K(f)):e+("Boost: "+K(f)),e+="<br><br>");f=b.Kc(a);f.J(0)&&(g=b.yl,e+="Production boost to basic field: "+K(f),g.Eb(f)&&(e+=" (base: "+K(g)+")"),e+="<br/><br/>");g=b.Wa(a);f=[void 0];a=NN(a.x,a.y,f);d&&(e+="Have of this crop: "+G.Fc[b.index],
e+="<br/><br/>");d=b.O();e+=" \u2022 Base cost: "+b.T.toString()+"<br>";e+=" \u2022 Next planting cost: "+d.toString()+" ("+Tb(d)+")<br>";e+=" \u2022 Recoup on delete: "+g.toString()+" (100% full refund)";a&&f[0]&&(b=a.g-b.g,e+="<br/> \u2022 Upgrade tier"+(1<b?" (+"+b+")":"")+" cost: "+f[0].toString()+" ("+Tb(f[0])+")");return e}
function NN(a,b,d){if(!G.va[b])return null;var e=G.va[b][a];if(!e)return null;a=S(e);if(!a||a.type==Dl)return null;b=G.Ge[a.type];e=a.Wa(e);for(var f=null;!(b<=a.g||0>b);){var g=tC[a.type][b];if(!g||!G.da[g.index].c)break;var h=g.O().sub(e);void 0!=d&&(d[0]=h,f=g);if(h.Sa(G.b)){void 0!=d&&(d[1]=!1);break}else void 0!=d&&(d[1]=!0);b--}return f}
function ON(a,b,d){if(!G.va[b])return null;a=G.va[b][a];if(!a)return null;var e=S(a);if(!e||e.type==Dl)return null;var f=e.g-1;b=e.Wa();a=null;if(-1>f)return null;e=tC[e.type][f];if(!e||!G.da[e.index].c)return null;b=e.O().sub(b);void 0!=d&&(d[0]=b,a=e);b.Sa(G.b)?void 0!=d&&(d[1]=!1):void 0!=d&&(d[1]=!0);return a}
function qL(a,b){var d=[void 0],e=NN(a,b,d);if(e&&!d[1])return W({type:pL,x:a,y:b,aa:e,Ka:!0}),!0;if((e=G.va[b][a])&&io(e)&&S(e).type==Al&&1>e.H){var f=XH(S(e).Wa(e)),g=VH();if(f>=S(e).index&&(g<=f||.9>e.H))return W({type:pL,x:a,y:b,aa:Nz[f],xc:!0,silent:void 0}),!0}d[1]?T("not enough resources for next infinity crop tier: have "+ll(d[0]).toString()+", need "+d[0].toString()+" ("+Tb(d[0])+")",uB,0,0):!(0<=a&&a<G.Ha&&0<=b&&b<G.Ga)||G.va[b][a].index<Cs?T("No crop to upgrade tier here. Move mouse cursor over a crop and press u to upgrade it to the next tier",
uB):T("Crop not replaced, no higher tier unlocked or available",uB);return!1}function yL(a,b){var d=[void 0],e=ON(a,b,d);e&&!d[1]?W({type:pL,x:a,y:b,aa:e,Ka:!0}):e&&d[1]?T("not enough resources for lower crop tier: have "+ll(d[0]).toString()+", need "+d[0].toString()+". This can happen if you have a lot of the lower tier crop planted.",uB,0,0):e||T("Crop not replaced, no lower tier available",uB);return!0}
function PN(a,b){var d=G.va[b][a];if(Yo(d)){var e=Nz[Bs(d)],f=B(function(u,x){u=LN(u,x,!1);u!=n&&(n=h.a.innerHTML=u)},d,e),g=Da({icon:e.image[4],title:"Infinity crop info",sb:"efDialogTranslucent",yf:f}),h=new F(g.content,0,[0,0,.01],1,.17),k=(new F(g.content,[0,0,.2],[.55,0,.01],[1,0,-.2],.615)).a,l=(new F(g.content,[0,0,.2],[.62,0,.01],[1,0,-.2],.685)).a,p=(new F(g.content,[0,0,.2],[.77+-.08,0,.01],[1,0,-.2],.755)).a,q=(new F(g.content,[0,0,.2],[.76,0,.01],[1,0,-.2],.905+-.08)).a;g=(new F(g.content,
[0,0,.2],[.91+-.08,0,.01],[1,0,-.2],.895)).a;var n=void 0;La(k);k.j.innerText="Upgrade tier";Lb(k,"Replace crop with the highest tier of this type you can afford. This deletes the original crop (which gives refund), and then plants the new higher tier crop.");E(k,function(){qL(a,b);fb();Hm()});La(l);l.j.innerText="Downgrade tier";Lb(l,"Replace crop with the tier one below, refunding the cost of the current one, then planting the lower tier crop with the lower resource cost.");E(l,function(){yL(a,
b)&&(fb(),Hm())});La(p);p.j.innerText="Replace crop";Lb(p,"Replace the crop with a new one you choose, same as delete then plant. Shows the list of unlocked infinity crops.");E(p,function(){QN(a,b,!0,e.Wa(d))});La(q);q.j.innerText="Delete crop";q.j.style.color="#c00";e.type==Al?Lb(q,"Delete crop, get 100% of the original cost back, scaled down by the remaining lifetime."):Lb(q,"Delete crop, get 100% of the original cost back.");E(q,function(){W({type:SK,x:a,y:b});fb();Hm()});La(g);g.j.innerText="Detailed stats / bonuses";
Lb(g,"Show breakdown of multipliers and bonuses and other detailed stats.");E(g,function(){var u=Da({size:ab,title:"Detailed crop stats",Ia:!0,icon:e.image[4],sb:"efDialogTranslucent"});var x=""+LN(d,e,!0);x+="<br/>";var y="";if(e.type==wl||e.type==Fl||e.type==xl||e.type==Al){var r=[];e.Cb(d,r);y+=YM(r,!1,"Breakdown (production/s)")}if(e.type==yl||e.type==Cl||e.type==zl)r=[],oC(e,d,r),y+=YM(r,!0,"Breakdown (neighbor boost +%)");e.type==Hl&&(r=[],oC(e,d,r),y+=YM(r,!0,"Breakdown (neighbor basic boost +%)"));
e.type==El&&(r=[],oC(e,d,r),y+=YM(r,!0,"Breakdown (same tier field copy %)"));r=[];var v=e.Kc(d,r);if(v.J(0)||1<r.length)y+=YM(r,!0,"Breakdown (boost to basic field)");u.content.a.innerHTML=x+y});f()}else 6==d.index?RN():QN(a,b)}
function SN(a,b){a=G.va[b][a];b=void 0;if(0!=a.index){if(6==a.index){a="Infinity pond";if(Ub(G.pd,0)||G.hi)a=a+"<br><br>Total boost from infinity crops to basic field: "+K(G.pd),G.Hh.Eb(G.pd)&&(b=Iy-(G.ga-G.Tf+G.rf),a+=". After time-weighting (\u23f3): "+K(G.Hh),a+=", "+m.R(b,!0)),0<G.hi&&(a+="<br><br> Fishes: "+G.hi);TN(1)?a+="<br><br> Some fish effects are currently time-weighted (\u23f3) due to recently changing the fishes.":TN(2);return a}Yo(a)&&(b=LN(a,Nz[Bs(a)],!1));return b}}
function UN(a,b,d,e,f){d=G.va[b][a];if(6==d.index)PN(a,b);else if(0==d.index||d.index==AG)if(e&&f){if(0<=G.Jb&&Nz[G.Jb]){e=Nz[G.Jb];f=G.Ge[e.type];d=tC[e.type][f];e.type==Dl&&(d=e);d&&G.da[d.index].c||(d=e);if(d.O().ba(G.b)&&0<f){f--;var g=tC[e.type][f];g&&G.da[g.index].c&&(d=g)}d.O().ba(G.b)&&0<f&&(f--,(g=tC[e.type][f])&&G.da[g.index].c&&(d=g));d.O().ba(G.b)&&(g=tC[e.type][-1])&&G.da[g.index].c&&(d=g);W({type:TK,x:a,y:b,aa:d,Ka:!0});Hm()}}else e&&!f?0<=G.Jb&&Nz[G.Jb]?(e=Nz[G.Jb],W({type:TK,x:a,y:b,
aa:e,Ka:!0}),Hm()):T("shift+click, or p, repeats last planted plant, but no last plant is set, plant the regular way first",uB,0,0):f&&!e?(W({type:TK,x:a,y:b,aa:Nz[XH()],Ka:!0}),Hm()):PN(a,b);else Yo(d)?f&&e?(f=S(d),(d=tC[f.type][G.Ge[f.type]])&&G.da[d.index].c||(d=f),f.type==Dl&&(d=f),G.Jb=d.index,d.O().ba(G.b)&&(G.Jb=f.index),d.g>f.g&&(W({type:pL,x:a,y:b,aa:d,Ka:!0}),Hm())):f&&!e?(W({type:SK,x:a,y:b}),Hm()):e&&!f?0<=G.Jb&&Nz[G.Jb]&&(e=Nz[G.Jb],f=S(d),f.index==G.Jb&&(f.type!=Al&&!oo(d)||JG(d)||Yo(d)&&
S(d).Vb)?W({type:SK,x:a,y:b}):W({type:pL,x:a,y:b,aa:e,Ka:!0}),Hm()):PN(a,b):PN(a,b)}
function VN(){WN.clear();KN=[];for(var a=0;a<G.Ga;a++){KN[a]=[];for(var b=0;b<G.Ha;b++)KN[a][b]=new mN}var d=G.Ha/G.Ga;d=new F(WN,[.5,0,-.5,d],[.5,0,-.5,1/d],[.5,0,.5,d],[.5,0,.5,1/d]);a=WN.a;var e=a.clientWidth;a=a.clientHeight;ua(d.a,"grid");ta(d.a,"infinity field");b=Math.floor(e/G.Ha)-1;e=Math.floor(a/G.Ga)-1;b=e=Math.min(b,e);for(a=0;a<G.Ga;a++){var f=ja("0",a/G.Ga*100+"%","100%",101/G.Ga+"%",d.a);ua(f,"row");for(b=0;b<G.Ha;b++){var g=ja(b/G.Ha*100+"%","0",101/G.Ha+"%","100%",f),h=pb("0%","0%",
"100%","100%",g),k=ja("0","0","100%","100%",g);ua(g,"cell");k.className="efNoOutline";k.style.boxSizing="border-box";ra(k);KN[a][b].a=k;KN[a][b].canvas=h;m.jb(k,"mouseover",B(function(l,p){oL=l;nL=p;XN&&YN(ZN)},b,a),"fieldover");m.jb(k,"mouseout",B(function(l,p){l==oL&&p==nL&&(nL=oL=-1,XN&&YN(ZN))},b,a),"fieldout");m.jb(k,"mouseup",B(function(l,p){window.setTimeout(function(){oL=l;nL=p;XN&&YN(ZN)})},b,a),"fieldclick");k.style.cursor="pointer";xa(k,B(UN,b,a,k),"click field cell",{Zc:"(over)plant selected crop",
Le:"delete crop or plant brassica",pj:"select crop or plant highest tier",Ba:B(SN,b,a,k),Tj:!0});g=Math.round(e/16);4>g&&(g=4);g=ja((b+.2)/G.Ha*100+"%",(a+.85)/G.Ga*100+"%",100/G.Ha*.6+"%",100/G.Ga*.05+"%",d.a);g.style.minHeight="5px";Oa(g);KN[a][b].progress=g}}}function MN(a){var b=!1;if(Yo(a)){var d=S(a);d.type==Al&&(d.Cb(a).v.Sa(rC(d))&&(b=!0),8<=d.g&&0==G.Wd[az]&&(b=!0))}return b}
function TN(a){return 2!=a&&(G.ga-G.Nf<Iy&&G.Ed.ka(G.Be.i(.875))&&Hy(Gy,G,3).ka(G.Be.i(.95))||G.ga-G.Pf<Iy&&G.Fd.ka(G.Ce.i(.875))&&Hy(tz,G,3).ka(G.Ce.i(.95)))||1!=a&&G.ga-G.Tf<Iy&&G.sf.ka(G.qf.i(.875))&&G.pd.ka(G.qf.i(.95))?!0:!1};function dN(){function a(){var x=!G.challenge||V[G.challenge].ed,y=!G.challenge||V[G.challenge].Ec,r=[],v=[];var w="<b>"+la(Li[xy(G.s)][0])+"</b><br/>";w+="Tree level: "+G.s+"<br/>";0==G.s&&Zb(G.b.B,0)&&(w+="This tree needs to be rejuvenated first. Requires spores.<br/>");if(G.challenge){var H=V[G.challenge],D=G.P[G.challenge],A=D.Pa;1<H.ja&&(A=D.kb[D.Ab%H.ja]);w+="<br>";var I=jn(),X=1==I?30:25,z=I&&(A>=X||G.s>=X);I=I&&(17<=A||17<=G.s);var $a=!1,db=hA(G.challenge),t=iA(G.challenge),ya=jA(0),Ka=kA();
0<A?G.s>A?(w+="<b>Challenge active</b>: "+la(H.name)+". You beat your previous best of lvl "+A+" with lvl "+G.s,w+=". This will bring your bonus for this challenge from "+K(db)+" to "+K(t),w+=", and your total challenge production bonus from "+K(jA(0))+" to "+K(kA()),I&&($a=!0)):z?w+="<b>Challenge active</b>: "+la(H.name)+". You have capped this challenge, you reached "+A+" and it does not give any more bonus or achievements above "+X+".":(w+="<b>Challenge active</b>: "+la(H.name)+". You did not yet beat your previous best of lvl "+
A+".",I&&($a=!0)):(w+="<b>Challenge active</b>: "+la(H.name),db.Eb(t)&&(w+=". So far, it will bring your bonus for this challenge from "+K(db)+" to "+K(t),w+=", and your total challenge production bonus from "+K(ya)+" to "+K(Ka),I&&($a=!0)));$a&&(w+="<br><b>Note:</b> this challenge is capped at level "+X+" and will not give any further bonus or achievements beyond that level");void 0==H.ia?D.X||(w+="<br>Challenge goal: <b>"+H.rl+"</b>"):0==H.ia.length?w+="<br>Challenge goal: <b>Increase max level reached for more production bonus</b>":
1<H.ia.length?H.Hc()||(w+="<br>Current challenge target level: <b>"+H.ia[D.X]+"</b>"):D.X||(w+="<br>Challenge target level: <b>"+H.ia[0]+"</b>");w+="<br>"}if(0<G.s||Ub(G.b.B,0)){w+="<br/>";H=wy();D=G.b.B.a(wy().B);w+="Next level requires: "+H.toString()+" ("+Tb(H)+", "+K(D)+") <br/>";0<G.ce&&(w+="This requirement was increased "+K(Jj(vy(),1))+" by "+G.ce+" mistletoes<br/>");w+="Time at this level: "+m.R(wB())+"<br/>";w+="<br>";x?(G.challenge&&G.s>G.Oa&&!G.challenge.dd?w+="No further resin gained during this challenge, higher level than max regular level reached":
(x=G.b.B.a(wy().B),w+="Resin added at next tree level: "+Ay(G.s+1,r).toString()+" (getting "+K(x)+" of this so far)"),w=w+"<br/>Total resin ready: "+FH().toString(),w+="<br/>"):w+="The tree doesn't produce resin during this challenge.<br/>";w+="<br/>";0<G.ce&&(y?(G.challenge&&G.s>G.Oa&&!G.challenge.dd?w+="No further twigs gained during this challenge, higher level than max regular level reached":(x=G.b.B.a(wy().B),w+="Twigs added at next tree level: "+Pz(v).K.toString()+" (getting "+K(x)+" of this so far)"),
w=w+"<br>Total twigs ready: "+GH().toString(),w+="<br/>"):w+="The tree doesn't produce twigs during this challenge.<br/>",w+="<br/>");w+="Tree level production boost to crops: "+K(cp());0<on(Tx)&&(y=gy(rn(),on(Tx)).L(1),w+=" (of which "+K(y)+" multiplicative from the fruit)");w+="<br>";3==On()&&(w=w+"<br/>During winter, the tree provides winter warmth: +"+(K(Jj(bo(),1))+" berry / mushroom stats and no negative winter effect for any crop next to the tree<br>"));G.Vj&&(w+='<br/><span class="efWarningOnDialogText">New challenge available!</span><br>');
if(G.o[vn].c||G.o[tn].c||G.o[xn].c)w+="<br/>Abilities discovered:<br>",G.o[tn].c&&(w+="\u2022 Sun: benefits berries when active<br>"),G.o[vn].c&&(w+="\u2022 Mist: benefits mushrooms when active<br>"),G.o[xn].c&&(w+="\u2022 Rainbow: benefits flowers when active<br>");r&&1<=r.length&&(w+=YM(r,!1,"Resin gain breakdown"));v&&1<=v.length&&(w+=YM(v,!1,"Twigs gain breakdown"));$o(wl)&&(w+="<br>Multiplicities:<br>");$o(wl)&&(w+="\u2022 Berry: +"+K(bp(wl))+" per other of same type of max 1 tier difference<br>");
$o(xl)&&(w+="\u2022 Mushroom: +"+K(bp(xl))+" per other of same type of max 1 tier difference<br>");$o(yl)&&(w+="\u2022 Flower: +"+K(bp(yl))+" per other of same type of max 1 tier difference<br>");$o(Cl)&&(w+="\u2022 Bee: +"+K(bp(Cl))+" per other of same type of max 1 tier difference<br>");$o(zl)&&(w+="\u2022 Stinging: +"+K(bp(zl))+" per other of same type of max 1 tier difference<br>")}return w}var b=G.challenge||Zt()||G.ef||G.s>=ty,d=!0,e=Da({Em:b,Qe:function(x){m.Gh(x);var y=m.Si(x);!Zt()||"b"!=
x.key&&"B"!=x.key||y||NM||fL(!1);!G.ef||"c"!=x.key&&"C"!=x.key||y||MM||OM();G.s>=ty&&("t"==x.key||"T"==x.key)&&!y&&cL()},Ia:!1,onclose:function(){d=!1},qo:!0,title:"Tree",sb:"efDialogTranslucent"}),f=e.content,g=new F(e.icon,0,0,1,1);g=pb("0%","0%","100%","100%",g.a);qb(Li[xy(G.s)][1][On()],g);g=new F(e.icon,0,1,1,2);g=pb("0%","0%","100%","100%",g.a);qb(Li[xy(G.s)][2][On()],g);var h=new F(f,0,0,1,.65);wb(h);f=new F(f,0,.67,1,1);g=a();h.a.innerHTML=g;var k=G.s;IM(function(){if(!d)return!1;if(k!=G.s){k=
G.s;var x=a();h.a.innerHTML=x}return!0});g=.05;if(G.challenge){var l=V[G.challenge],p=G.P[G.challenge],q=l.Hc(!1),n=l.ro(),u=(new F(f,.15,g,.85,g+.15,1)).a;g+=.1725;La(u);u.j.innerText=SM(q,n);q&&n?Lb(u,"Finish the challenge. If you broke the max level record, your challenge production bonus will increase."):q&&!n?Lb(u,"End the challenge."):n?void 0!=l.ia&&0==l.ia.length?Lb(u,"Finish the challenge. The higher the level reached, the higher the production bonus will be."):p.X?Lb(u,"Successfully finish the next stage of this challenge."):
Lb(u,"Successfully finish the challenge for the first time."):void 0!=l.ia&&1<l.ia.length?Lb(u,"Open the dialog to abort the challenge, you don't get its next reward, but if you broke the max level record, your challenge production bonus will still increase. The dialog will show the amounts."):Lb(u,"Open the dialog to abort the challenge, you don't get its one-time reward, but if you broke the max level record, your challenge production bonus will still increase. The dialog will show the amounts.");
u.j.style.textShadow="0px 0px 5px #f40";E(u,function(){bL()});u=(new F(f,.15,g,.85,g+.15,1)).a;g+=.1725;La(u);u.j.innerText="Current challenge info";Lb(u,"Description and statistics for the current challenge");E(u,function(){PM(G.challenge,!0,!1)})}else G.s<ty?1<=G.s&&((new F(f,.15,g,.85,g+.15)).a.innerText="Reach tree level "+ty+" to unlock transcension",g+=.1725):(u=(new F(f,.15,g,.85,g+.15,1)).a,g+=.1725,La(u),u.j.innerText="Transcension",u.j.style.textShadow="0px 0px 5px #ff0",Lb(u,"Show the transcension dialog"),
E(u,function(){cL()}),G.ef&&(u=(new F(f,.15,g,.85,g+.15,1)).a,g+=.1725,La(u),u.j.innerText="Challenges",u.j.style.textShadow="0px 0px 5px #f60",Lb(u,"Transcend and start a challenge"),E(u,function(){OM()})));Zt()&&(u=(new F(f,.15,g,.85,g+.15,1)).a,g+=.1725,La(u),u.j.innerText="Blueprints",u.j.style.textShadow="0px 0px 5px #008",E(u,function(){fL()}));b&&(u=(new F(f,.15,g,.85,g+.15,1)).a,g+=.1725,La(u),u.j.innerText="Back",E(u,function(){e.xg()}))};function $N(a,b){var d=Da({Wc:"ok",Ia:!0,title:(b?"Ethereal tree level ":"Reached ethereal tree level ")+a,xp:!b,sb:"efDialogEthereal"}),e="";if(!b){e=(1==a?e+"Thanks to twigs, the ethereal tree leveled up! This is the tree in the ethereal field, not the one in the basic field. Leveling up the ethereal tree unlocks new ethereal crops and/or upgrades, depending on the level. Each level also provides a resin production boost to the basic tree.":e+("The ethereal tree leveled up to level "+a+"!"))+"<br><br>";
var f=Uz(a),g=Uz(a+1);e+="It consumed "+f.toString()+". The next level will require "+g.toString()+".<br><br>"}f="";g=!1;for(var h=0;h<Rw.length;h++){var k=Sw[Rw[h]];k.U==a&&(f+="<b>\u2022 Upgrade</b>: "+la(k.name)+"<br>",g=!0)}for(h=0;h<kv.length;h++)k=Uu[kv[h]],zn(k)&&k.U==a&&(f+="<b>\u2022 Crop</b>: Ethereal "+k.name+"<br>",g=!0);for(h=0;h<kv.length;h++)k=Uu[kv[h]],k.mc&&k.U==a&&(f+="<b>\u2022 Template</b>: Ethereal "+k.name+"<br>",g=!0);2==a&&(f+="<b>\u2022 Challenge</b>: No upgrades challenge (requires having automaton to unlock)<br>",
g=!0);3==a&&(f+="<b>\u2022 Challenge</b>: Blackberry challenge (requires automaton with auto-upgrades to unlock)<br>",g=!0);5==a&&(f+="<b>\u2022 Challenge</b>: Wither challenge (requires automaton with auto-unlock crops to unlock)<br>",g=!0);7==a&&(f+="<b>\u2022 Challenge</b>: Wasabi challenge<br>",g=!0);e=(b?g?e+"The following new ethereal things got, or will get, unlocked at this level:<br><br>":e+"No new ethereal upgrades, crops or challenges were unlocked at this level. New content for this ethereal tree level may be added in future game updates.":
g?e+"New ethereal things unlocked! These are available in the ethereal field and/or ethereal upgrades tab:":e+'No new ethereal upgrades, crops or challenges unlocked. New content for this ethereal tree level may be added in future game updates. You can always see this dialog again later by clicking the ethereal tree using "See previous unlocks".')+"<br><br>";e+=f;d.content.a.innerHTML=e}var WF=!1;
function aO(){function a(h){var k=(new F(b.content,.08,d,.92,d+.06)).a;La(k);d+=.066;k.j.innerText=h;return k}WF=!0;for(var b=Da({Ia:!0,title:"Previous ethereal tree level unlocks",onclose:function(){WF=!1}}),d=.05,e=0;e<=G.U;e++){var f=G.U-e,g=a("level "+f);E(g,B($N,f,!0))}}
function CN(){var a=Zt(),b=Da({Em:a,Ia:!1,qo:!0,title:"Tree",sb:"efDialogTranslucent"}),d=b.content,e=new F(b.icon,0,0,1,1);e=pb("0%","0%","100%","100%",e.a);qb(Li[xy(G.U)][1][4],e);e=new F(b.icon,0,1,1,2);e=pb("0%","0%","100%","100%",e.a);qb(Li[xy(G.U)][2][4],e);e=new F(d,0,0,1,.65);wb(e);d=new F(d,0,.67,1,1);var f="";f=0<G.U?f+("<b>Ethereal tree level "+G.U+"</b>"):f+"<b>Ethereal tree</b>";f+="<br><br>";var g=Uz(G.U+1);f+="<b>Twigs required for next level: </b>"+g.K.sub(G.b.K).toString()+" (total: "+
g.toString()+")";0<G.U&&5>=G.U&&0==G.ab[lr]&&0==G.challenge&&(f+='<br><font color="red">You must plant mistletoe(s) in the basic field to get twigs to level up the ethereal tree and progress the game</font>');f+="<br><br>";0<G.U&&(f+="<b>Resin production bonus to basic tree: </b>"+K(zy.i(G.U)),f+="<br><br>");f+="<b>Total resin earned entire game: </b>"+G.ma.h.toString();f=f+"<br/><br/><b>Ethereal boosts from crops on this field to basic field:</b><br>\u2022 starter resources: "+(Wz().toString()+"<br>");
f+="\u2022 berry boost: "+K(G.jk)+"<br>";f+="\u2022 mushroom boost: "+K(G.Ri)+"<br>";f+="\u2022 flower boost: "+K(G.lk)+"<br>";G.ha[nw].c&&(f+="\u2022 stinging boost: "+K(G.mk)+"<br>");G.ha[yw].c&&(f+="\u2022 bee boost: "+K(G.ik)+"<br>");G.ha[qw].c&&(f+="\u2022 brassica boost: "+K(G.kk)+"<br>");f=f+"<br><b>Tree boost to ethereal non-lotus neighbors</b>: "+K(Nu());e.a.innerHTML=f;e=.05;Zt()&&(f=(new F(d,.15,e,.85,e+.15,1)).a,e+=.1725,La(f),f.j.innerText="Ethereal blueprints",f.j.style.textShadow="0px 0px 5px #008",
E(f,function(){fb();fL(void 0,void 0,!0)}));0<G.U&&(f=(new F(d,.15,e,.85,e+.15,1)).a,e+=.1725,La(f),f.j.innerText="See previous unlocks",E(f,function(){aO()}),Lb(f,"Show the things that got unlocked by reaching previous ethereal tree levels"));a&&(f=(new F(d,.15,e,.85,e+.15,1)).a,e+=.1725,La(f),f.j.innerText="Back",E(f,function(){b.xg()}))};function bO(a,b,d,e,f,g,h,k,l,p){var q=p?.4:.6,n=new F(e,.33*b+.01,[0,0,.33*d*.9+.01,q],.33*(b+1)-.01,[0,0,.33*(d+1)*.9-.01,q]);n.a.className="efPlantChip";b=new F(n,0,[.5,0,-.25],[0,0,.5],[.5,0,.25]);d=pb("0%","0%","100%","100%",b.a);qb(a.image[4],d);var u=new F(n,[p?.1:0,0,.5],p?.1:.05,1,.95);d="";d=k||p?d+("<b>"+la(a.name)+"</b><br>"):d+("<b>Plant "+a.name+"</b><br>");e=a.O();l&&(e=e.sub(l));d+="type: "+an(a.type);p||(d+="<br>cost: "+e.toString());u.a.innerHTML=d;a.index==jr&&(u.a.id="help_arrow_plant_watercress");
a.index==Eq&&(u.a.id="help_arrow_plant_blackberry");a.index==Fq&&(u.a.id="help_arrow_plant_blueberry");g&&(Ga(b.a,!0),E(b.a,g,la(a.name)+" info"));f&&(E(u.a,f,(k?"Replace with ":"Plant ")+a.name),Ga(u.a,!0));h?(g&&Lb(b.a,function(){return"Show "+a.name+" info"},!0),f?Lb(u.a,function(){return(k?"Replace with ":"Plant ")+a.name+"<br><br>"+h()},!0):Lb(u.a,function(){return la(a.name)+"<br><br>"+h()},!0)):(g&&Lb(b.a,"Show "+a.name+" info"),f&&Lb(b.a,(k?"Replace with ":"Plant ")+a.name));f&&G.b.ka(e)&&
!p&&(n.a.className="efButtonTranslucentCantAfford",IM(function(){if(!n||!document.body.contains(u.a))return!1;var x=a.O();l&&(x=x.sub(l));return G.b.mj(x)?(n.a.className="efPlantChip",!1):!0}))}
function cO(){for(var a=[],b=0;b<gq.length;b++)G.D[gq[b]].c&&a.push(gq[b]);var d=[],e={};for(b=0;b<a.length;b++)if(!e[a[b]]){var f=Pm[a[b]];f.type!=Dl||f.mc||(d.push(f.index),e[f.index]=!0)}var g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=Gl||g&&!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=wl||g&&!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=
xl||g&&!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=Fl||g&&!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=yl||g&&!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=Cl||g&&!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=zl||g&&
!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=Al||g&&!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=Pm[a[b]],f.type!=Bl||g&&!f.T.ba(g.T)||(g=f));g&&(d.push(g.index),e[g.index]=!0);f=[];for(b=0;b<a.length;b++)e[a[b]]||f.push(a[b]);f.sort(function(h,k){var l=Pm[h].T.f,p=Pm[k].T.f;if(Zb(l,0)||Zb(p,0))l=c(Pm[h].g),p=c(Pm[k].g);return l.ka(p)?1:-1});for(b=0;b<f.length;b++)d.push(f[b]),
e[f[b]]=!0;return d}
function dO(){Da({Ia:!0,title:"Planting help"}).content.a.innerHTML='The planting dialog allows to plant crops on the field. Use the plant button to perform the action now, or click the icon of the crop to view details.<br><br>The following actions and shortcuts are available:<br><br>To plant a new crop on an empty field tile:<br>\u2022 Click empty field tile, then click desired crop in the planting dialog<br>\u2022 OR: Shift+click empty field tile to plant the last-planted or unlocked crop<br>\u2022 OR: Ctrl+click empty field to plant watercress<br><br>To remove a crop from the field:<br>\u2022 Click the crop on the field, then the "Delete crop" button<br>\u2022 OR: Hover mouse over the crop in the field, then press the "d" key<br>\u2022 OR: Ctrl+click the crop in the field (requires a setting under preferences)<br><br>To replace a crop to the highest unlocked tier of its type that you can afford:<br>\u2022 Click the crop on the field, then the "Upgrade tier" button<br>\u2022 OR: Hover mouse over the crop in the field, then press the "u" key<br>\u2022 OR: Ctrl+shift+click the crop in the field<br><br>To replace a crop in the field with a different one:<br>\u2022 Click the crop on the field, then the "Replace crop" button and choose the new one in the planting dialog<br>\u2022 OR: Shift+click the crop in the field to replace it with the last planted or unlocked crop (requires a setting under preferences)'}
function HM(a,b,d,e,f){for(var g=0,h=0;h<gq.length;h++)G.D[gq[h]].c&&g++;h=Za;9<g&&(h=2);12<g&&(h=ab);h=Da({size:h,pb:dO,title:d?"Replace crop":"Plant crop",sb:"efDialogTranslucent"});var k=g=0,l=new F(h.content,.01,.01,.99,.05);d?(sa(l.a),l.a.j.innerHTML="Replace crop with..."):l.a.innerHTML="Choose a crop to plant, or click its icon for info";l=new F(h.content,0,.12,1,1);wb(l);var p=cO();for(h=0;h<p.length;h++){var q=p[h],n=Pm[q],u=B(function(y){var r="";y=Pm[y];if(y.mc)r=y.type==Dl?r+"This template represents a crop but is non-functional":
r+("This template represents all crops of type "+an(y.type)),r+="<br><br>It is a placeholder for planning the field layout and does nothing.<br><br>Templates are a feature provided by the automaton.<br><br>Tip: ctrl+shift+click a template, or hover over it and press 'u', to turn it into a crop of highest available tier of this type.";else if(y.Vb)r+="Ghostly remainder of a "+an(y.type)+", does nothing. Automaton won't touch this either.";else{r+="Crop type: "+an(y.type)+(y.g?" (tier "+(y.g+1)+")":
"");var v=bn(y.type);v&&(r+=".<br>"+v);y.ad&&(r+="<br/><br/>"+la(y.ad));y.type==Al&&(r+=".<br><br>Copy ability: if this plant has orthogonal (non-diagonal) berry or mushroom neighbors, the watercress will duplicate all their production (but also consumption), no matter what tier. This has diminishing returns if there are multiple watercress in the field, max 2 watercress makes sense. A badly placed watercress can negatively affect the copying of others. At early game, having many watercress is useful though due to their regular (non-copy) production.");
v=y.O();r+="<br><br>Planting cost: "+v.toString()+" ("+Tb(v)+")";y.type==Al?r+=".<br><br>Living time: "+m.R(y.Ja()):(r+=".<br><br>Grow time: "+m.R(y.Ja()),y.Ja()!=y.fb&&(r+=" (base: "+m.R(y.fb)+")"));r=y.type==yl?r+(".<br><br>Neighbor boost: "+K(jo(y,G.G[b][a]))):y.type==Cl?r+(".<br><br>Flower boost: "+K(Op(y,G.G[b][a]))):r+(".<br><br>Production/sec: "+y.Cb(G.G[b][a],2).toString());r+="."}return r},q);q=B(function(y){G.qb=y;y=Pm[y];if(f){for(var r=!1,v=0;v<G.F;v++)for(var w=0;w<G.C;w++)IG(G.G[v][w])&&
(W({type:sH,x:w,y:v,aa:y,silent:!0}),r=!0);r||T('Entire field is already full, clear field first or have some open gaps to use "plant all"',uB)}else d?W({type:RK,x:a,y:b,aa:y}):W({type:sH,x:a,y:b,aa:y});fb();Hm();return!0},q);var x=B(function(y,r,v){y=la(v.name)+"<br><br>"+y();Da({size:350>y.length?Za:2,title:"Crop info",names:"plant",vb:r,icon:v.image[4]}).content.a.innerHTML=y},u,q,n);bO(n,g,k,l,q,x,u,d,e);g++;3<=g&&(g=0,k++)}l.update()}
function vM(a,b,d){for(var e=[],f=zG(),g=1<=G.cj,h=0;h<gq.length;h++){var k=G.D[gq[h]],l=Pm[gq[h]];if(k.Ke||k.c)if(f&4||l.type!=Gl)if(G.challenge||l.type!=Dl){if(1<k.Ke||k.oa)g=!0;e.push(gq[h])}}k=void 0;g&&(k='Select crop by clicking it. This will immediately close the dialog, so the "prestige" checkbox must be checked or unchecked before choosing the crop.<br><br>Note that this dialog does not prevent combinations of prestiged with crops that cannot be prestiged, ensure an existing combination is chosen for your use case.');
k=Da({pb:k,title:"Select crop",sb:"efDialogTranslucent",Wc:"cancel"});l=f=0;if(g){var p=new F(k.content,.01,.01,.25,.05),q=function(){var u=new F(p,0,0,[0,1],1),x=new F(p,[0,1.2],0,1,1),y=pb("0%","0%","100%","100%",u.a);qb(b?Dc:Ec,y);Ga(u.a);x.a.innerText="Prestiged\n"};E(p.a,B(function(){b=b?0:1;q()},h),'checkbox "prestiged" ('+(b?"checked":"unchecked")+")");q()}g=new F(k.content,0,.12,1,1);wb(g);for(h=0;h<e.length;h++){var n=e[h];k=Pm[n];n=B(function(u){a=u;d(a,b);Ha()},n);bO(k,f,l,g,n,void 0,void 0,
!1,void 0,!0);f++;3<=f&&(f=0,l++)}g.update()};function eO(a,b,d,e,f,g,h,k,l,p){b=new F(e,.33*b+.01,[0,0,.33*d+.01,.5],.33*(b+1)-.01,[0,0,.33*(d+1)-.01,.5]);b.a.className="efEtherealPlantChip";d=new F(b,0,[.5,0,-.35],[0,0,.7],[.5,0,.35]);e=pb("0%","0%","100%","100%",d.a);qb(a.image[4],e);e=new F(b,[0,0,.7],0,1,[0,0,1]);var q="";q=k?q+("<b>"+la(a.name)+"</b><br>"):q+("<b>Plant "+a.name+"</b><br>");var n=a.O();l&&(n=n.sub(l));k&&p&&Bs(p)==a.index&&(n=P());q+="type: "+an(a.type)+"<br>";q+="cost: "+n.toString();l=void 0;g&&(Ga(d.a,!0),E(d.a,g,la(a.name)+
" info"));f&&(l=new F(b,[0,0,.7],[0,0,0],[1,0,-.02],[0,0,.98]),E(l.a,f,(k?"Replace with ":"Plant ")+a.name),Ga(l.a));h?(g&&Lb(d.a,function(){return"Show ethereal "+a.name+" info"},!0),f&&Lb(l.a,function(){return(k?"Replace with ethereal ":"Plant ethereal ")+a.name+"<br><br>"+h()},!0),Lb(e.a,function(){return"Ethereal "+a.name+"<br><br>"+h()},!0)):(g&&Lb(d.a,"Show "+a.name+" info"),f&&Lb(d.a,(k?"Replace with ethereal ":"Plant ethereal ")+a.name));f&&G.b.ka(n)&&(b.a.className="efButtonCantAfford");
e.a.innerHTML=q}function fO(a,b){var d=Uu[a].T.h,e=Uu[b].T.h;if(Zb(d,0)||Zb(e,0))d=c(Uu[a].g),e=c(Uu[b].g);return d.ka(e)?1:-1}
function gO(){for(var a=[],b=0;b<kv.length;b++)G.ha[kv[b]].c&&a.push(kv[b]);for(var d=[],e={},f=[Xm,wl,xl,yl,Cl,zl,El,Bl,Wm,Ym,Al],g=0;g<f.length;g++){var h=void 0;for(b=0;b<a.length;b++)if(!e[a[b]]){var k=Uu[a[b]];k.type!=f[g]||h&&!k.T.ba(h.T)||(h=k)}h&&(d.push(h.index),e[h.index]=!0)}d.sort(fO);f=[];for(b=0;b<a.length;b++)e[a[b]]||f.push(a[b]);f.sort(fO);for(b=0;b<f.length;b++)d.push(f[b]),e[f[b]]=!0;return d}
function BN(a,b,d,e){for(var f=0,g=0;g<kv.length;g++)G.ha[kv[g]].c&&f++;var h=f=0;g=Da({title:d?"Replace ethereal crop":"Plant ethereal crop",sb:"efDialogEthereal"}).content;var k=new F(g,0,0,1,.05);sa(k.a);d?(sa(k.a),k.a.j.innerHTML="Replace crop with..."):k.a.j.innerHTML="Choose an ethereal crop to plant. Click the icon for more info, or the text to plant it now.<br>They cost resin, so choose wisely.<br>Ethereal crops give various bonuses to the basic field.";k=new F(g,0,.1,1,1);wb(k);var l=gO();
for(g=0;g<l.length;g++){var p=l[g],q=Uu[p],n=B(function(x){var y=Uu[x];x="Cost: "+y.O().toString();x+="<br><br>Grow time: "+m.R(y.fb);if(y.Dh){var r=y.Dh;"function"==typeof r&&(r=y.Dh());x+="<br><br>Effect: "+r}else y.Eh&&(r=y.Eh,"function"==typeof r&&(r=y.Eh()),x+="<br><br>Effect: "+r);x+="<br><br>Ethereal tree level that unlocked this crop: "+y.U;r=G.xa[b][a];if(y.effect.J(0)){var v=y.effect,w=y.Kc(r);v.Ub(w)?x+=".<br><br>Boost: "+K(v):(x+=".<br><br>Boost (base): "+K(v),x+=".<br>Boost (here): "+
K(w))}y.Ea.J(0)&&(x+=".<br><br>Boost here: "+K(Fu(y,r)));return x},p);p=B(function(x){var y=Uu[x];d?W({type:tL,x:a,y:b,aa:y}):W({type:uL,x:a,y:b,aa:y});G.Wb=x;fb();Hm();return!0},p);var u=B(function(x,y,r){x="Ethereal "+la(r.name)+"<br><br>"+x();Da({size:350>x.length?Za:2,title:"Ethereal crop info",names:"plant",vb:y,icon:r.image[4]}).content.a.innerHTML=x},n,p,q);eO(q,f,h,k,p,u,n,d,e,G.xa[b][a]);f++;3<=f&&(f=0,h++)}k.update()};function hO(a,b,d,e,f,g,h,k,l,p){var q=new F(e,.33*b+.01,[0,0,.33*d+.01,.5],.33*(b+1)-.01,[0,0,.33*(d+1)-.01,.5]);q.a.className="efEtherealPlantChip";b=new F(q,0,[.5,0,-.35],[0,0,.7],[.5,0,.35]);d=pb("0%","0%","100%","100%",b.a);qb(a.image[4],d);var n=new F(q,[0,0,.7],0,1,[0,0,1]);d="";d=k?d+("<b>"+la(a.name)+"</b><br>"):d+("<b>Plant "+a.name+"</b><br>");e=a.O();l&&(e=e.sub(l));k&&p&&Bs(p)==a.index&&a.type!=Al&&(e=P());d+="type: "+an(a.type)+"<br>";d+="cost: "+e.toString();p=void 0;g&&(Ga(b.a,!0),
E(b.a,g,la(a.name)+" info"));f&&(p=new F(q,[0,0,.7],[0,0,0],[1,0,-.02],[0,0,.98]),E(p.a,f,(k?"Replace with ":"Plant ")+a.name),Ga(p.a));h?(g&&Lb(b.a,function(){return"Show infinity "+a.name+" info"},!0),f&&Lb(p.a,function(){return(k?"Replace with infinity ":"Plant infinity ")+a.name+"<br><br>"+h()},!0),Lb(n.a,function(){return"Infinity "+a.name+"<br><br>"+h()},!0)):(g&&Lb(b.a,"Show "+a.name+" info"),f&&Lb(b.a,(k?"Replace with infinity ":"Plant infinity ")+a.name));n.a.innerHTML=d;f&&G.b.ka(e)&&(q.a.className=
"efButtonTranslucentCantAfford",IM(function(){if(!q||!document.body.contains(n.a))return!1;var u=a.O();l&&(u=u.sub(l));return G.b.mj(u)?(q.a.className="efEtherealPlantChip",!1):!0}))}function iO(a,b){var d=Nz[a].T.v,e=Nz[b].T.v;if(Zb(d,0)||Zb(e,0))d=c(Nz[a].g),e=c(Nz[b].g);return d.ka(e)?1:-1}
function jO(){for(var a=[],b=0;b<sC.length;b++)G.da[sC[b]].c&&a.push(sC[b]);var d=[],e={};var f=[];for(var g=0;g<Zm;g++){var h=void 0;for(b=0;b<a.length;b++)if(!e[a[b]]){var k=Nz[a[b]];k.type!=g||h&&!k.T.ba(h.T)||(h=k)}h&&f.push(h.index)}f.sort(iO);for(b=0;b<f.length;b++)d.push(f[b]),e[f[b]]=!0;f=[];for(b=0;b<a.length;b++)e[a[b]]||f.push(a[b]);f.sort(iO);for(b=0;b<f.length;b++)d.push(f[b]),e[f[b]]=!0;return d}
function QN(a,b,d,e){for(var f=0,g=0;g<sC.length;g++)G.da[sC[g]].c&&f++;var h=f=0;g=Da({title:d?"Replace infinity crop":"Plant infinity crop",sb:"efDialogEthereal"}).content;var k=new F(g,0,0,1,.05);sa(k.a);d?(sa(k.a),k.a.j.innerHTML="Replace crop with..."):k.a.j.innerHTML="Choose an infinity crop to plant. Click the icon for more info, or the text to plant it now.";k=new F(g,0,.1,1,1);wb(k);var l=jO();for(g=0;g<l.length;g++){var p=l[g],q=Nz[p];if(G.da[p].c){var n=B(function(x,y){var r=Nz[x],v=G.va[b][a];
x="Crop type: "+an(r.type)+(r.g?" (tier "+(r.g+1)+")":"")+"<br>";var w=en(r.type);w&&(x=x+w+"<br><br>");var H=w=r.O();d&&(H=w.sub(e),Bs(v)==r.index&&r.type!=Al&&(H=P()));y?(x+="<br>Base cost: "+r.T.toString(),x+="<br>Next cost: "+w.toString()+" ("+Tb(w)+")"):x+="Cost: "+w.toString()+" ("+Tb(w)+")";d&&(x+="<br>Replacement cost: "+H.toString()+" ("+Tb(H)+")");x=r.type==Al?x+("<br><br>Finite lifetime: "+m.R(r.fb)):x+("<br><br>Grow time: "+m.R(r.fb));y=r.Cb(v);y.empty()||(x+="<br><br>Production: "+y.toString()+
"/s",r.type==wl&&(x+=" (boostable)"),y.v.J(0)&&ac(y.v,.1)&&Ub(y.v,-.1)&&(x+=" ("+y.v.i(3600).toString()+"/h)"),r.type==Al&&(y=y.i(r.Ja()),x+="<br>Total production over full lifetime: "+y.toString()));y=oC(r);y.J(0)&&(x+="<br><br>",x=r.type==Hl?x+("Boost to neighboring crops basic field boost: "+K(y)):r.type==Cl?x+("Boost to neighboring flowers: "+K(y)):r.type==yl?x+("Boost to neighboring berries: "+K(y)):r.type==zl?x+("Boost to neighboring mushrooms: "+K(y)):r.type==El?x+("Copy: "+K(y)):x+("Boost: "+
K(y)));r=r.Kc();r.J(0)&&(x+="<br><br>Production boost to basic field: "+K(r));return x},p);p=B(function(x){var y=Nz[x];d?W({type:pL,x:a,y:b,aa:y}):W({type:TK,x:a,y:b,aa:y});G.Jb=x;fb();Hm();return!0},p);var u=B(function(x,y,r){x=la(r.name)+"<br><br>"+x(!0);Da({size:350>x.length?Za:2,title:"Infinity crop info",names:"plant",vb:y,icon:r.image[4]}).content.a.innerHTML=x},n,p,q);hO(q,f,h,k,p,u,n,d,e,G.va[b][a]);f++;3<=f&&(f=0,h++)}}k.update()};function kO(a,b){b=b?"<br><br>":". ";var d=aC[a],e=G.Kb[a];a="Upgrade: "+d.name;if(d.de&&e.$)a+=b+"Upgrade completed (no further levels available)";else{a=0==e.time?a+(b+"Time: "+m.R(d.getTime())):a+(b+"Total time: "+m.R(d.getTime(),!0)+b+"Time left: "+m.R(d.getTime()-e.time,!0,4));var f=d.Ck();if(f){a+=b+"Resource cost: "+f.toString();var g=c(Infinity);if(Ub(f.f,0)){var h=f.f.a(G.b.f).i(100);g=Yb(g,h)}Ub(f.B,0)&&(h=f.B.a(G.b.B).i(100),g=Yb(g,h));Ub(f.Y,0)&&(h=f.Y.a(G.b.Y).i(100),g=Yb(g,h));Ub(f.h,
0)&&(h=f.h.a(G.b.h).i(100),g=Yb(g,h));Ub(f.K,0)&&(h=f.K.a(G.b.K).i(100),g=Yb(g,h));f="";ac(g,.001)&&(g=c(0));f+=g.toString()+"% of stacks";a+=" ("+f+")"}a+=b+"Current level: "+rs(e.$)}a+=b+la(d.description);d.index!=eC&&(a+=b+"Unlocked at evolution level "+rs(d.Ae));if(d.index==eC){e=-1;f=Ro(eC);for(g=0;g<$B.length;g++)h=aC[$B[g]],h.Ae<=f||0<=e&&h.Ae>e||(e=h.Ae);a=0<=e?a+(b+"Next new upgrade unlocks at evolution level: "+e+" (current level: "+Ro(eC)+")"):a+(b+"Next new upgrade unlocks at evolution level: N/A");
a+=b+"Current evolution bonus: "+lC(d.index)}else void 0!=d.La&&(a+=b+"Current bonus: "+lC(d.index));return a}
function AN(a,b){function d(){if(e){G.Kb[eC].$!=r&&(Ha(),AN(a,b));for(var w=0;w<k.length;w++)k[w].Mo();w="";if(0<=G.lb){var H=aC[G.lb],D=G.Kb[G.lb];w+="Upgrading: "+la(H.name);w=w+"<br>Time left: "+m.R(H.getTime()-D.time,!0,4)}else w+="Not upgrading";G.pc&&(w+="<br>Unused time: "+m.R(G.pc,!0));Ro(gC)&&2>G.Tb[Gu]&&(w+="<br><b>Note</b>: you can plant a second eth. mistletoe now!");w!=y&&(v.a.innerHTML=w);y=w}}var e=kH(a,b),f=Uu[Bs(G.xa[b][a])],g=Da({icon:f.image[4],title:"Ethereal mistletoe",sb:"efDialogTranslucent",
vb:[function(){zN(a,b,!0);return!0}],names:["crop info"],Ia:!0,pb:function(){qu(41,!0)},Wc:"close",yf:d}),h=0,k=[];if(!e){var l=(new F(g.content,[0,0,.2],[h,0,.01],[1,0,-.2],h+.07)).a;h+=.07;La(l);l.j.innerText="Replace crop";Lb(l,"Replace the crop with a new one you choose, same as delete then plant. Shows the list of unlocked ethereal crops.");E(l,function(){BN(a,b,!0,f.Wa())})}l=(new F(g.content,[0,0,.2],[h,0,.01],[1,0,-.2],h+.07)).a;h+=.07;La(l);l.j.innerText="Delete crop";l.j.style.color="#c00";
Lb(l,"Delete crop, get 100% of the original resin cost back. Only works if deleting in ethereal field is currently possible. While deleted or not planted next to the tree, the mistletoe upgrades are paused.");E(l,function(){W({type:wL,x:a,y:b});fb();Hm()});h+=.015;if(e){var p=(new F(g.content,[0,0,.2],[h,0,.01],[1,0,-.2],h+.07)).a;h+=.07;La(p);p.j.innerText="Stop current upgrade";Lb(p,"Stops current ongoing upgrade, if there is one. The current time duration of the ongoing upgrade will be remembered, so if you start it again later it will continue where it left off. This also works if doing other upgrades in-between.");
E(p,function(){W({type:lO});Hm();d()});k.push(p);p.Mo=function(){p.j.style.color=0>G.lb?"#888":""};v=new F(g.content,[0,0,.2],[h,0,.01],[1,0,-.2],.8);h+=.12;for(l=0;l<iC.length;l++){var q=iC[l];if(mC(q)){var n=aC[q],u=(new F(g.content,[1,0,-.19],[h+.04,0,-.04],[1,0,-.11],[h+.04,0,.04])).a;Ga(u,!0);var x=pb("0%","0%","100%","100%",u);qb(je,x);E(u,B(function(w){Da({title:'Mistletoe upgrade "'+aC[w].name+'" info'}).content.a.innerHTML=kO(w,!0)},q));q=(new F(g.content,[0,0,.2],[h,0,.01],[1,0,-.2],h+.08)).a;
h+=.08;La(q);E(q,B(function(w){G.lb==w?W({type:lO}):W({type:mO,index:w});Hm();d()},n.index));n=B(function(w){return kO(iC[w],!1)},l);Lb(q,n);k.push(q);q.Mo=B(function(w,H){w=iC[w];var D=aC[w],A=G.Kb[w];H=k[H];var I=D.Ck(),X="<b>"+la(D.name);D.de||(X+=" "+rs(A.$+1));X+="</b>";if(D.de&&A.$)D.de&&(X+=" (done)");else{var z=0==A.time?"Time: "+m.R(D.getTime(),!0):"Time left: "+m.R(D.getTime()-A.time,!0,4);X=I?X+(". Cost: "+I.toString()+", "+m.R(D.getTime()-A.time,!0)):X+(". "+z)}void 0!=D.La&&(I="bonus",
D.El&&(I=D.El),X=X+"<br>"+(la(I)+": "+lC(w)));H.j.innerHTML=X;H.j.className=G.lb==w?"efButtonMistletoeOngoing":0<=G.lb?"efButtonMistletoeBusy":D.de&&A.$?"efButtonMistletoeBusy":""},l,k.length-1)}}g=new F(g.content,[0,0,.2],[h+.015,0,.01],[1,0,-.2],.8);h="";Ro(Yu)&&(h+="<br/>Boosting non-lotus neighbors orthogonally and diagonally: "+K(To(Yu))+"<br/>");Ro(Hu)&&(h+="Boosting lotus neighbors orthogonally and diagonally: "+K(To(Hu))+"<br/>");g.a.innerHTML=h;var y="",r=G.Kb[eC].$;d()}else{var v=new F(g.content,
[0,0,.2],[h,0,.01],[1,0,-.2],.8);v.a.innerText=G.Kf?"The ethereal mistletoe must be planted orthogonally (not diagonally) next to the tree, otherwise it does nothing and does not boost neighbors.":"The ethereal mistletoe must be planted orthogonally (not diagonally) next to the tree, otherwise it does nothing. Its upgrades are currently paused."}};var nO,oO=void 0,pO=void 0,qO=-1,rO=-1;function sO(a){var b=VK(a);a=b.key;var d=b.shift;b=b.Bh;if("u"==a&&!d&&!b){var e;(e=0|tO(rO,qO))&&Hm()}if("d"==a&&!d&&!b&&G.Fb[qO]){var f=G.Fb[qO][rO];f&&Yo(f)&&(W({type:uO,x:rO,y:qO}),Hm())}"d"==a&&d&&!b&&(e=0|vO(rO,qO))&&Hm();"p"!=a||b||(e=!1,G.Fb[qO]&&(f=G.Fb[qO][rO])&&(!d&&Yo(f)?G.Xb=S(f).index:0<=G.Xb&&pC[G.Xb]&&(W({type:Yo(f)?wO:xO,x:rO,y:qO,md:pC[G.Xb],Ka:!0}),e=!0)),e&&Hm())}
function yO(){if(pO){var a="Total boost from infinity crops to basic field: "+K(G.Hh);G.Hh.Eb(G.pd)&&(a+=" (time-weighted (\u23f3): "+K(G.pd)+")");a+=". Max ever had: "+K(G.Xi);!G.Hh.Eb(G.pd)&&TN(1)&&(a+=". Some fish effects are currently time-weighted (\u23f3) due to recently changing the fishes");if(fn()){for(var b=[],d=0;d<aE;d++)0<=G.nf[d]&&0>G.nj[d]&&b.push(d);d=4<G.hi&&0<b.length;!d&&0<G.Km&&(a+="<br><br>Click the pond below to place fishes, at the cost of infinity spores.");a=a+"<br><br>Infinity seeds: "+
G.b.v.toString();a+="  ("+Vb.v.toString()+"/s)";a=a+"<br>Infinity spores: "+G.b.W.toString();a+=" ("+Vb.W.toString()+"/s)";var e=G.ma.W.sub(G.b.W);a+=". In pond: "+e.toString();a+=". Total: "+e.add(G.b.W).toString();if(d){a+="<br><br>Types avaible but not placed: <b>";for(d=0;d<b.length;d++)0<d&&(a+=", "),a+=bE(b[d]);a+="</b>"}}else a+="<br><br>Nothing in this pond yet";pO.a.innerHTML=a}}
function zO(a,b,d){if(!G.Fb[b])return null;var e=G.Fb[b][a];if(!e)return null;a=S(e);if(!a)return null;b=G.nf[a.type];e=a.Wa(e);for(var f=null;!(b<=a.g||0>b);){var g=eE[a.type][b];if(!g||!G.Aa[g.index].c)break;var h=g.O().sub(e);void 0!=d&&(d[0]=h,f=g);if(h.Sa(G.b)){void 0!=d&&(d[1]=!1);break}else void 0!=d&&(d[1]=!0);b--}return f}
function AO(a,b,d){if(!G.Fb[b])return null;a=G.Fb[b][a];if(!a)return null;var e=S(a);if(!e)return null;var f=e.g-1;b=e.Wa();a=null;if(-1>f)return null;e=eE[e.type][f];if(!e||!G.Aa[e.index].c)return null;b=e.O().sub(b);void 0!=d&&(d[0]=b,a=e);b.Sa(G.b)?void 0!=d&&(d[1]=!1):void 0!=d&&(d[1]=!0);return a}
function tO(a,b){var d=[void 0],e=zO(a,b,d);e&&!d[1]?W({type:wO,x:a,y:b,md:e,Ka:!0}):d[1]?T("not enough resources for next infinity crop tier: have "+ll(d[0]).toString()+", need "+d[0].toString()+" ("+Tb(d[0])+")",uB,0,0):!(0<=a&&a<G.rc&&0<=b&&b<G.qc)||G.Fb[b][a].index<Cs?T("No fish to upgrade tier here. Move mouse cursor over a crop and press u to upgrade it to the next tier",uB):T("Fish not replaced, no higher tier unlocked or available",uB);return!0}
function vO(a,b){var d=[void 0],e=AO(a,b,d);e&&!d[1]?W({type:wO,x:a,y:b,md:e,Ka:!0}):e&&d[1]?T("not enough resources for lower fish tier: have "+ll(d[0]).toString()+", need "+d[0].toString()+". This can happen if you have a lot of the lower tier fish planted.",uB,0,0):e||T("Fish not replaced, no lower tier available",uB);return!0}
function RN(){var a=fn()?function(){qu(43,!0)}:void 0;a=Da({Ia:!0,title:"Infinity pond",sb:"efDialogTranslucent",icon:Mi,Ji:function(){pO=oO=void 0},Qe:fn()?sO:void 0,pb:a});pO=new F(a.content,0,0,1,.2);yO();fn()&&(a=new F(a.content,0,.25,1,.99),oO=a=new F(a,[.5,0,-.5,1],[.5,0,-.5,1],[.5,0,.5,1],[.5,0,.5,1]),BO(a),CO())}
function DO(a,b){var d=la(b.name),e=[void 0];a=zO(a.x,a.y,e);b.Li&&(d+="<br>"+b.Li);var f=Hy(b.type,G,0);if(f.J(1)){var g=Hy(b.type,G,3);d=d+"<br><br>Total bonus for all "+(bE(b.type)+": "+K(Jj(f,1)));f.Eb(g)&&(d+="<br>Current (time weighted due to recently placing fishes): "+K(Jj(g,1)))}d=d+"<br><br/>\u2022 Base cost: "+b.T.toString();d+="<br/>\u2022 Next placing cost (p): "+b.O().toString()+" ("+Tb(b.O())+")";d+="<br/>\u2022 Recoup on delete (d): "+b.Wa().toString();a&&e[0]&&(b=a.g-b.g,d+="<br/> \u2022 Upgrade tier"+
(1<b?" (+"+b+")":"")+" cost: "+e[0].toString()+" ("+Tb(e[0])+")");return d}
function EO(a,b){var d=G.Fb[b][a];if(Yo(d)){var e=pC[Bs(d)];d=B(function(q,n){q=DO(q,n);q!=p&&(p=g.a.innerHTML=q)},d,e);var f=Da({icon:e.image,title:"Fish info",sb:"efDialogTranslucent",yf:d}),g=new F(f.content,0,[0,0,.01],1,.17),h=(new F(f.content,[0,0,.2],[.63,0,.01],[1,0,-.2],.695)).a,k=(new F(f.content,[0,0,.2],[.7,0,.01],[1,0,-.2],.765)).a,l=(new F(f.content,[0,0,.2],[.77,0,.01],[1,0,-.2],.835)).a;f=(new F(f.content,[0,0,.2],[.84,0,.01],[1,0,-.2],.905)).a;var p=void 0;La(h);h.j.innerText="Upgrade tier";
Lb(h,"Replace fish with the highest tier of this type you can afford. This deletes the original fish (which gives refund), and then places the new higher tier fish.");E(h,function(){tO(a,b)&&(Bb(),Hm())});h=k;La(h);h.j.innerText="Downgrade tier";Lb(h,"Replace fish with the tier one below, refunding the cost of the current one, then placing the lower tier fish with the lower resource cost.");E(h,function(){vO(a,b)&&(Bb(),Hm())});h=l;La(h);h.j.innerText="Replace fish";Lb(h,"Replace the fish with another one you choose, same as delete then place. Shows the list of unlocked fishes.");
E(h,function(){FO(a,b,!0,e.Wa())});h=f;La(h);h.j.innerText="Delete fish";h.j.style.color="#c00";Lb(h,"Delete fish, get 100% of the original cost back.");E(h,function(){W({type:uO,x:a,y:b});Bb();Hm()});d()}else FO(a,b)}
function BO(a){a.clear();nO=[];for(var b=0;b<G.qc;b++){nO[b]=[];for(var d=0;d<G.rc;d++)nO[b][d]=new mN}var e=G.rc/G.qc;e=new F(a,[.5,0,-.5,e],[.5,0,-.5,1/e],[.5,0,.5,e],[.5,0,.5,1/e]);d=a.a;b=d.clientWidth;d=d.clientHeight;ua(e.a,"grid");ta(e.a,"pond");b=Math.floor(b/G.rc)-1;d=Math.floor(d/G.qc)-1;b=d=Math.min(b,d);for(b=0;b<G.qc;b++)for(a=ja("0",b/G.qc*100+"%","100%",101/G.qc+"%",e.a),ua(a,"row"),d=0;d<G.rc;d++){var f=ja(d/G.rc*100+"%","0",101/G.rc+"%","100%",a),g=pb("0%","0%","100%","100%",f),h=
ja("0","0","100%","100%",f);ua(f,"cell");h.className="efNoOutline";h.style.boxSizing="border-box";ra(h);nO[b][d].a=h;nO[b][d].canvas=g;m.jb(h,"mouseover",B(function(k,l){rO=k;qO=l},d,b),"fieldover");m.jb(h,"mouseout",B(function(k,l){k==rO&&l==qO&&(qO=rO=-1)},d,b),"fieldout");m.jb(h,"mouseup",B(function(k,l){window.setTimeout(function(){rO=k;qO=l})},d,b),"fieldclick");Lb(h,B(function(k,l){k=G.Fb[l][k];if(l=S(k))return DO(k,l)},d,b,h),!0);E(h,B(function(k,l,p,q){p=G.Fb[l][k];if(0==p.index){var n=q.shiftKey;
q=pa(q);if(n&&q){if(0<=G.Xb&&pC[G.Xb]){q=pC[G.Xb];n=G.nf[q.type];(p=eE[q.type][n])&&G.Aa[p.index].c||(p=q);if(p.O().ba(G.b)&&0<n){n--;var u=eE[q.type][n];u&&G.Aa[u.index].c&&(p=u)}p.O().ba(G.b)&&0<n&&(n--,(u=eE[q.type][n])&&G.Aa[u.index].c&&(p=u));W({type:xO,x:k,y:l,md:p,Ka:!0});Hm()}}else n&&!q?0<=G.Xb&&pC[G.Xb]?(q=pC[G.Xb],W({type:xO,x:k,y:l,md:q,Ka:!0}),Hm()):T("shift+click, or p, repeats last planted plant, but no last plant is set, plant the regular way first",uB,0,0):q&&!n?(W({type:xO,x:k,y:l,
md:pC[XH()],Ka:!0}),Hm()):EO(k,l)}else Yo(p)?(n=q.shiftKey,(q=pa(q))&&n?(n=S(p),(p=eE[n.type][G.nf[n.type]])&&G.Aa[p.index].c||(p=n),G.Xb=p.index,p.O().ba(G.b)&&(G.Xb=n.index),p.g>n.g&&(W({type:wO,x:k,y:l,md:p,Ka:!0}),Hm())):q&&!n?(W({type:uO,x:k,y:l}),Hm()):n&&!q?0<=G.Xb&&pC[G.Xb]&&(q=pC[G.Xb],n=S(p),n.index==G.Xb?W({type:uO,x:k,y:l}):W({type:wO,x:k,y:l,md:q,Ka:!0}),Hm()):EO(k,l)):EO(k,l)},d,b,h))}}
function CO(){if(oO){for(var a=0;a<G.qc;a++)for(var b=0;b<G.rc;b++){var d=b,e=a,f=G.Fb[e][d],g=nO[e][d],h=pC[Bs(f)],k=h&&0<=h.g&&G.nf[h.type]>G.nj[h.type]&&G.b.W.ba(pC[G.rm[h.type]].T.W);if(g.index!=f.index||g.qj!=k)g.index=f.index,g.qj=k,h=m.Lj(d,e,55555),h=.25>h?xd[0]:.5>h?xd[1]:.75>h?xd[2]:xd[3],d==G.rc>>1&&e==G.qc>>1&&(h=xd[4]),qb(h,g.canvas),d="pond tile "+d+", "+e,Yo(f)?(h=pC[Bs(f)],gd(h.image,g.canvas),d=h.name+". "+d,k&&gd(Cd,g.canvas)):g.a.innerText="",0==f.index&&(d="empty "+d),ta(g.a,d)}yO()}}
function GO(a,b,d,e,f,g,h,k,l,p){var q=new F(e,.33*b+.01,[0,0,.33*d+.01,.5],.33*(b+1)-.01,[0,0,.33*(d+1)-.01,.5]);q.a.className="efEtherealPlantChip";b=new F(q,0,[.5,0,-.35],[0,0,.7],[.5,0,.35]);d=pb("0%","0%","100%","100%",b.a);qb(a.image,d);var n=new F(q,[0,0,.7],0,1,[0,0,1]);d="";d=k?d+("<b>"+la(a.name)+"</b><br>"):d+("<b>Place "+a.name+"</b><br>");e=a.O();l&&(e=e.sub(l));k&&p&&Bs(p)==a.index&&(e=P());d+="type: "+bE(a.type)+"<br>";d+="cost: "+e.toString();p=void 0;g&&(Ga(b.a,!0),E(b.a,g,la(a.name)+
" info"));f&&(p=new F(q,[0,0,.7],[0,0,0],[1,0,-.02],[0,0,.98]),E(p.a,f,(k?"Replace with ":"Place ")+a.name),Ga(p.a));h?(g&&Lb(b.a,function(){return"Show "+a.name+" info"},!0),f&&Lb(p.a,function(){return(k?"Replace with  ":"Place ")+a.name+"<br><br>"+h()},!0),Lb(n.a,function(){return la(a.name)+"<br><br>"+h()},!0)):(g&&Lb(b.a,"Show "+a.name+" info"),f&&Lb(b.a,(k?"Replace with ":"Place ")+a.name));n.a.innerHTML=d;f&&G.b.ka(e)&&(q.a.className="efButtonTranslucentCantAfford",IM(function(){if(!q||!document.body.contains(n.a))return!1;
var u=a.O();l&&(u=u.sub(l));return G.b.mj(u)?(q.a.className="efPlantChip",!1):!0}))}function HO(){for(var a=[],b=0;b<dE.length;b++)G.Aa[dE[b]].c&&a.push(dE[b]);var d=[],e={},f=[];for(b=0;b<a.length;b++)e[a[b]]||f.push(a[b]);f.sort(function(g,h){var k=pC[g].T.W,l=pC[h].T.W;if(Zb(k,0)||Zb(l,0))k=c(pC[g].g),l=c(pC[h].g);return k.ka(l)?1:-1});for(b=0;b<f.length;b++)d.push(f[b]),e[f[b]]=!0;return d}
function FO(a,b,d,e){for(var f=0,g=0;g<dE.length;g++)G.Aa[dE[g]].c&&f++;g=Za;9<f&&(g=2);12<f&&(g=ab);g=Da({size:g,title:d?"Replace fish":"Place fish",sb:"efDialogTranslucent"});var h=f=0,k=new F(g.content,.01,.01,.99,.05);d?(sa(k.a),k.a.j.innerHTML="Replace fish with..."):k.a.innerHTML="Choose a fish to place, or click its icon for info";k=new F(g.content,0,.12,1,1);wb(k);var l=HO();for(g=0;g<l.length;g++){var p=l[g],q=pC[p],n=B(function(x){var y=pC[x];x="Fish type: "+bE(y.type)+(y.g?" (tier "+(y.g+
1)+")":"");y.Li&&(x+=".<br>"+y.Li);y.ad&&(x+="<br/><br/>"+la(y.ad));y=y.O();if(d){var r=y.sub(e);x+="<br><br>Cost: "+y.toString()+" ("+Tb(y)+")";x+="<br>Replacement cost: "+r.toString()+" ("+Tb(r)+")"}else x+="<br><br>Placing cost: "+y.toString()+" ("+Tb(y)+")";return x+"."},p);p=B(function(x){G.Xb=x;x=pC[x];d?W({type:wO,x:a,y:b,md:x}):W({type:xO,x:a,y:b,md:x});Bb();Hm();return!0},p);var u=B(function(x,y,r){x=la(r.name)+"<br><br>"+x();Da({size:350>x.length?Za:2,title:"Fish info",names:"place",vb:y,
icon:r.image}).content.a.innerHTML=x},n,p,q);GO(q,f,h,k,p,u,n,d,e,G.Fb[b][a]);f++;3<=f&&(f=0,h++)}k.update()};var IO,JO,hM=0,KO="",LO="",MO="",NO="",OO="",PO="",QO="",RO="",SO="",TO="",UO=[],gM=[],VO=!1;function WK(a){void 0!=UO[a]&&eM(UO[a])}
function eM(a,b){var d=G.ra,e=G.ra==HJ&&G.ra!=a&&G.vj;b||(G.ra=a);WO=void 0;for(b=0;b<JO.length;b++)JO[b].a.style.visibility=a==b?"visible":"hidden";for(b=0;b<IO.length;b++)if(IO[b]){var f=IO[b];f.className=a==b?f.No?"efFlatButtonHighlighted":"efButtonHighlighted":f.No?"efFlatButton":"efButton"}a==XO&&YO();a==ZO&&(G.Eg=!0,$O=null,aP());a==bP&&EM();a==HJ&&(IJ(),cK());a==eL&&cP();a==dP&&eP();a==fP&&YB();d==fP&&(G.wi&&(G.Rj=!0),gP&&(XB=gP.a.scrollTop));jb();hP();nb();LK();if(e)for(b=0;b<cF.length;b++)a=
G.oc[cF[b]],a.Bb&&(a.ya=!0)}
function iP(){if(G.ra==XO&&G.Qd){for(var a=0;a<os.length;a++){var b=G.o[os[a]];b.c&&!b.ya&&(b.ya=!0)}WB(G)}if(G.ra==HJ&&G.vj){for(a=0;a<cF.length;a++);WB(G)}if(G.ra==eL&&G.ul){for(a=0;a<Rw.length;a++)b=G.S[Rw[a]],b.c&&!b.ya&&(b.ya=!0);WB(G)}b=gL;if(IO[b]){var d="field";0<G.s&&(d+="<br/>("+G.s+")");G.Va&&(d='<b><font color="#2d0">'+d+"</font></b>");d!=OO&&(IO[b].style.lineHeight="",OO=IO[b].j.innerHTML=d)}b=XO;IO[b]&&(d="upgrades<br/>("+G.vn+"/"+G.xn+")",G.wn&&(d='<b><font color="red">'+d+"</font></b>"),
G.Dm&&tu()&&(d='<b><font color="#f60">'+d+"</font></b>"),d!=KO&&(IO[b].style.lineHeight="",KO=IO[b].j.innerHTML=d));b=ZO;if(IO[b]){var e=uH();d=""+(G.Z.length+G.ea.length);var f=jP(e);e&&e.name&&(d=e.name,12<d.length&&(a=d.lastIndexOf(" ",12),9<=a&&12>=a||(a=12),d=d.substr(0,a)+"\u2026"));!e&&G.Z.length&&(d="none");if(2==jn())d="fruit<br/>(disabled)";else{d="fruit<br/>("+d+")";if(f){var g=7,h=e?e.g:0;for(a=0;a<G.Z.length;a++){var k=G.Z[a];!k||k==e||k.g<h-1||(k=jP(k),k<g&&(g=k))}7>f&&f<g&&(f=0);7==
f&&0==G.Z.length+G.ea.length&&(f=0)}e=void 0;a=!1;g=2==G.vd||3==G.vd;G.Eg&&7!=f?5<=f?e=g?"#cec":"#050":4<=f?e=g?"#ccf":"#00b":2<=f?e=g?"#ecb":"#630":1<=f&&1==f&&0==G.xe[Al]&&(e=g?"#fbb":"#700"):(e="red",a=!0);e&&(d='<font color="'+e+'">'+d+"</font>");a&&(d="<b>"+d+"</b>")}d!=LO&&(IO[b].style.lineHeight="",LO=IO[b].j.innerHTML=d)}b=dL;IO[b]&&(d="ethereal field",e=void 0,0<G.U?(f=Uz(G.U+1),f=G.b.K.a(f.K),d+="<br/>"+G.U+" ("+K(f,2)+")"):0<G.U&&(d+="<br/>("+G.U+")"),G.Kf&&0>G.lb&&(e="#0f0"),G.Tb[Gu]&&
!G.Kf&&(e="#fa0"),e&&(d='<font color="'+e+'">'+d+"</font>"),d!=PO&&(IO[b].style.lineHeight="",PO=IO[b].j.innerHTML=d));b=eL;IO[b]&&(d=9<hM?"eth. upgrades":"ethereal upgrades",d+="<br/>("+G.sn+"/"+G.un+")",G.ul&&(d='<b><font color="red">'+d+"</font></b>"),d!=MO&&(IO[b].style.lineHeight="",MO=IO[b].j.innerHTML=d));b=NK;IO[b]&&(d="infinity field",0==G.tf&&(d='<b><font color="red">'+d+"</font></b>"),d!=QO&&(IO[b].style.lineHeight="",QO=IO[b].j.innerHTML=d));b=bP;IO[b]&&(d="automaton",pu()?JH()||(d=2==
jn()?d+"<br>(disabled)":d+"<br>(off)"):d='<font color="#c00">'+(d+"<br>(absent)</font>"),d!=RO&&(IO[b].style.lineHeight="",RO=IO[b].j.innerHTML=d));b=fP;IO[b]&&(d="squirrel",Eo()?G.Ue||G.wi&&G.Rj||!kB(G.Sc).Wk(G.b.Y)?VO=!1:(d='<b><font color="red">'+d+"</font></b>",VO||YB(),VO=!0):d='<font color="#c00">'+(d+"<br>(absent)</font>"),d!=SO&&(IO[b].style.lineHeight="",SO=IO[b].j.innerHTML=d));b=dP;IO[b]&&(d="amber<br/>("+G.b.ta.toString()+")",d!=TO&&(TO=IO[b].j.innerHTML=d,IO[b].style.lineHeight=""));
b=HJ;IO[b]&&(d="achievements<br/>("+G.ag+")",G.vj&&G.ra!=HJ&&(d='<b><font color="red">'+d+"</font></b>"),d!=NO&&(NO=IO[b].j.innerHTML=d,IO[b].style.lineHeight=""))}
function hP(){var a=[];a[gL]=!0;a[XO]=0<G.Wj;a[ZO]=0<G.od;a[dL]=0<G.na;a[eL]=0<G.tn;a[NK]=ZD();a[bP]=Zt();a[HJ]=0<G.ag;a[fP]=Ix();a[dP]=G.ma.ta.J(0);for(var b=0,d=0;d<a.length;d++)a[d]&&b++;hM=b;G.Fm=hM;if(1==b)for(d=0;d<a.length;d++)a[d]&&(a[d]=!1);var e=!0;for(d=0;d<a.length;d++)if(a[d]!=!!IO[d]){e=!1;break}if(e)iP();else{IO=[];kP.a.innerHTML="";d=0;var f=!1;6<=b&&(f=!0);var g=Math.floor(b/2);7<=b&&9>=b&&(g=4);var h=b-g;UO=[];e=gL;if(a[e]){var k=f?d<g?g:h:b;IO[e]=ja(100/k*(f?d<g?d:d-g:d)+"%",f?
d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a);La(IO[e],!0);E(IO[e],B(function(l){eM(l)},e),"tab button: field tab",!0);IO[e].j.innerText="field";IO[e].id="field_tab";OO="";UO[d]=e;gM[e]=d;d++}e=XO;a[e]&&(k=f?d<g?g:h:b,IO[e]=ja(100/k*(f?d<g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: upgrades tab",!0),IO[e].j.innerText="upgrades",IO[e].id="upgrades_tab",KO="",UO[d]=e,gM[e]=d,d++);e=dL;a[e]&&(k=f?d<g?g:h:b,IO[e]=ja(100/
k*(f?d<g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: ethereal field tab",!0),IO[e].j.innerText="ethereal field",IO[e].id="ethereal_field_tab",IO[e].j.style.textShadow="0px 0px 5px #ff8",PO="",UO[d]=e,gM[e]=d,d++);e=eL;a[e]&&(k=f?d<g?g:h:b,IO[e]=ja(100/k*(f?d<g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: ethereal upgrades tab",!0),IO[e].j.innerText=
"ethereal upgrades",IO[e].id="ethereal_upgrades_tab",IO[e].j.style.textShadow="0px 0px 5px #ff8",MO="",UO[d]=e,gM[e]=d,d++);e=NK;a[e]&&(k=f?d<g?g:h:b,IO[e]=ja(100/k*(f?d<g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: infinity field tab",!0),IO[e].j.innerText="infinity field",IO[e].id="infinity_field_tab",IO[e].j.style.textShadow="0px 0px 5px #88f",QO="",UO[d]=e,gM[e]=d,d++);e=ZO;a[e]&&(k=f?d<g?g:h:b,IO[e]=ja(100/k*(f?d<
g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: fruit tab",!0),IO[e].j.innerText="fruit",IO[e].id="fruit_tab",LO="",UO[d]=e,gM[e]=d,d++);e=bP;a[e]&&(k=f?d<g?g:h:b,IO[e]=ja(100/k*(f?d<g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: automaton tab",!0),IO[e].j.innerText="automaton",IO[e].id="automaton_tab",RO="",UO[d]=e,gM[e]=d,d++);e=fP;a[e]&&(k=
f?d<g?g:h:b,IO[e]=ja(100/k*(f?d<g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: squirrel tab",!0),IO[e].j.innerText="squirrel",IO[e].id="squirrel_tab",SO="",UO[d]=e,gM[e]=d,d++);e=dP;a[e]&&(k=f?d<g?g:h:b,IO[e]=ja(100/k*(f?d<g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: amber tab",!0),IO[e].j.innerText="amber",IO[e].id="amber_tab",TO="",UO[d]=
e,gM[e]=d,d++);e=HJ;a[e]&&(k=f?d<g?g:h:b,IO[e]=ja(100/k*(f?d<g?d:d-g:d)+"%",f?d<g?"0%":"50%":"0%",100/k+"%",f?"50%":"100%",kP.a),La(IO[e],!0),E(IO[e],B(function(l){eM(l)},e),"tab button: achievements tab",!0),IO[e].id="achievements_tab",IO[e].j.innerText="achievements",NO="",UO[d]=e,gM[e]=d,d++);iP();eM(G.ra,!0)}};var lP=100,mP="",nP=1,oP=void 0,pP=[],qP=0,ZJ=1,uB=2,aK=3,rP=4,qJ=5,us=6,sP=7,tP=8,uP=9,vP=10,ru=11,wP=12,xP=13,yP=14,zP=15,AP=16,pm=17;
function BP(a,b,d){void 0==a&&(a=qP);void 0==d&&(d=.5);var e="#fff",f="#000";if(0!=a)if(a==ZJ)e="#f00",f="#ff0";else if(a==uB)e="#f00";else if(a==aK)e="#888";else if(a==uP){e=Math.min(Math.max(0,d+.5),1);e=Pc([255*e,255*e,0]);var g;var h=Math.min(Math.max(0,d-.5),1);f=.16-.05*m.uf(0,b)*d;f=Pc(Kc([255*f,255,255*h,255]))}else if(a==zP)e="#f00",f="#000";else if(a==AP)e="#f08",f="#004";else{var k=0;f=0;var l=1;e=g=1;h=0;var p=.05,q=!1;a==uB?k=f=0:a==qJ?(k=f=.16,g=0,h=.5):a==rP?k=f=0:a==us?(k=f=.5,p=0):
a==sP?k=f=.3:a==tP?(k=.16,f=.66,p=0):a==vP?(k=f=.9,p=0):a==ru?l=g=0:a==wP?k=f=.1:a==xP?(k=.33,l=1,e=.9,f=0,g=1,h=.5,d=0):a==yP?(k=.8,f=.2,h=1,d=0):a==pm&&(k=f=.08,h=1);if(0<d||a==rP)k+=m.uf(0,b)*p*d,0>k&&(k+=1),1<k&&--k,f+=m.uf(1,b)*p*d,0>f&&(f+=1),1<f&&--f,a==rP&&(k=m.uf(0,b),f=m.uf(1,b)),l+=.1*m.uf(2,b)*d,0>l&&(l=0),1<l&&(l=1),g+=.1*m.uf(3,b)*d,0>g&&(g=0),1<g&&(g=1),h=Math.min(Math.max(0,d*d+.25*(m.uf(4,b)-.5)),1),e=m.uf(5,b)*d*.2,a=Kc([255*f,255*g,255*h,255]),a=(.2126*a[0]+.7152*a[1]+.0722*a[2])/
255,.5>a&&(e=1-e),b=Kc([255*k,255*l,255*e,255]),.25>Math.abs(a-(.2126*b[0]+.7152*b[1]+.0722*b[2])/255)&&(e=.5<a?.1:.9,q=!0);e=Pc((q?Ic:Kc)([255*k,255*l,255*e,255]));f=Pc(Kc([255*f,255*g,255*h,255]))}return[e,f]}
function T(a,b,d,e,f,g,h){if(g||h)window.setTimeout(function(){T(a,b,d,e,f,!1)},g?700:0);else{h=BP(b,d,e);g=h[0];h=h[1];var k=G&&G.time?G.time-G.kd:0,l="date: "+m.gf(G&&G.Ca?G.Ca:m.getTime());G&&G.time&&(l+=", game time: "+m.R(k),l+=", tree level: "+G.s);k=CP.a;a=la(a);if(!f&&a==mP&&oP)nP++,a=""+mP+" ("+nP+"x)",oP.innerHTML=a,oP.title=l;else{mP=a;a=""+a;nP=1;var p=m.Zf("span",k);pP.push(p);p.style.display="block";p.innerHTML=a;p.style.color=g||"white";h&&(p.style.backgroundColor=h);p.style.margin=
"4px";oP=p;oP.title=l;100<k.childNodes.length&&m.sc(k.childNodes[0]);k.scrollTop=k.scrollHeight;pP.length>lP&&(m.sc(pP[0]),pP.shift(0))}}}var DP=void 0,EP=!1;function FP(a,b){if(a!=DP)if(DP=a,EP=!!b,a){var d=GP+(b?.035:.065),e=d+.004;if(CP.ic!=e||HP.Zj!=d)CP.ic=e,Mb(CP,hc.a),HP.Zj=d,Mb(HP,hc.a),HP.a.className=b?"efGoalSmall":"efGoal",HP.a.style.visibility="visible";HP.a.innerText="Goal: "+a}else CP.ic=GP,Mb(CP,hc.a),HP.a.style.visibility="hidden"}var IP=!1;
function JP(){IP||!DP||EP||(IP=!0,HP.a.style.animation="none",window.setTimeout(function(){HP.a.style.animation="efGoalAnimFrame 0.5s"}),window.setTimeout(function(){IP=!1},1E3))}function kK(){var a=CP.a;a.innerText="";a.style.overflowY="scroll";ua(a,"log");oP=void 0;mP="";nP=1;a.style.backgroundColor="#000";a.onclick=cK};var Vb=P(),KP=P(),LP=P(),MP=P(),NP=P(),OP=P(),PP=P(),QP=P(),RP,SP=-1;function TP(a){for(var b={},d=0;d<G.F;d++)for(var e=0;e<G.C;e++){var f=G.G[d][e],g=Rm[d][e];Yo(f)&&(f=S(f).index,b[f]||(b[f]=c(0)),b[f].u(el(g.eg)[a]))}a=[];for(var h in b)a.push(h);a.sort(function(k,l){return k<l});d="";for(e=0;e<a.length;e++)h=a[e],Zb(b[h],0)||(d+="\u2022 "+Pm[h].name+": "+b[h].toString()+"/s<br/>");return d}
function UP(a){if(ZD()){for(var b={},d=0;d<G.Ga;d++)for(var e=0;e<G.Ha;e++){var f=G.va[d][e];if(Yo(f)){var g=S(f),h=g.index;b[h]||(b[h]=c(0));f=g.Cb(f);b[h].u(el(f)[a])}}a=[];for(var k in b)a.push(k);a.sort(function(l,p){return l<p});d="";for(e=0;e<a.length;e++)k=a[e],Zb(b[k],0)||(d+="\u2022 "+Nz[k].name+": "+b[k].toString()+"/s<br/>");return d}}var VP=-1,WP=-1;
function XP(){var a=P();KP=P();LP=P();MP=P();NP=P();OP=P();for(var b=0;b<G.F;b++)for(var d=0;d<G.C;d++){var e=G.G[b][d],f=Rm[b][d];Yo(e)&&(a.u(f.Yb),KP.u(ml(f.fh,new P)),LP.u(kl(f.fh)),MP.u(f.eg),NP.u(ml(f.eg,new P)),OP.u(kl(f.eg)))}Vb.f=a.f;Vb.B=a.B;Vb.Y=a.Y;if(5<m.getTime()-VP&&0<G.ah||G.ah!=WP){QP=new P;for(b=0;b<G.F;b++)for(d=0;d<G.C;d++)e=G.G[b][d],(a=S(e))&&QP.u(a.Cb(e,2));PP=YP(1);VP=m.getTime();WP=G.ah}}var ZP=["efSeasonBgSpring","efSeasonBgSummer","efSeasonBgAutumn","efSeasonBgWinter"];
function $M(){return Ub(KP.f,0)&&Vb.f.ka(KP.f.i(.3))}
function $P(a){var b=dl[a],d=hl(G.b,a),e,f=2==a||3==a||6==a||7==a;2==a&&(e=FH());3==a&&(e=GH());if(7==a){var g=[];e=CH(g).ca}var h=!1;if(!f){var k=hl(Vb,a);var l=hl(KP,a);var p=hl(MP,a);var q=hl(NP,a);h=!bk(k,p)}var n="";if(f)2==a&&(n+="<b>"+la(b)+"</b><br/><br/>",n+="Total resin earned ever: "+G.ma.h.toString(),n=n+"<br/><br/>Unspent resin: "+(d.toString()+"<br/>"),n+="\u2192 Production boost for unspent resin: "+K(Jj(Po(G.b.h),1)),jn()&&(n+=" (not active during basic challenge)"),n+="<br><br>",
G.challenge&&!V[G.challenge].ed?n+="No resin is gained during the current challenge<br>":(n=n+"Transcend to gain the upcoming resin.<br><br>Collected upcoming resin: "+e.toString(),1<=G.na&&(n+=" (previous run: "+G.Ld.h.toString()+" at level "+G.ji+", "+m.R(G.Nc,!0)+")"),n+="<br>",e.J(0)&&(n+="\u2192 Upcoming boost with unspent resin: "+K(Jj(Po(e.add(G.b.h)),1))+"<br>"),k=DH(),1>k&&Ub(e,0)&&(n=n+"<br>Reduction if transcending this early in run now already: -"+K(c(1-k)),n+="<br>"),n=n+"<br>Resin/hour: "+
HH().toString(),0<G.na&&(k=2>G.Nc?c(0):(k=G.Nc/3600)?G.ii.h.ub(k):c(0),n+=" (previous run: "+k.toString()+")"),n=n+"<br>Best/hour: "+(G.Bd.h.toString()+" at level "+G.re.h.valueOf()+", "+m.R(G.se.h.valueOf(),!0)),0<G.na&&(n+=" (previous run: "+G.eh.h.toString()+", lvl "+G.bh.h.valueOf()+", "+m.R(G.dh.h.valueOf(),!0)+")"),n+="<br>",k=G.b.B.a(wy().B),n+="Resin added next tree level: "+Ay(G.s+1,void 0).toString()+" (getting "+K(k)+" of this so far)<br>")),3==a&&(n+="<b>"+la(b)+"</b><br/><br/>",n+="Total twigs earned entire game: "+
G.ma.K.toString(),n=n+"<br><br>Production boost for unspent twigs: "+K(Jj(Qo(),1)),jn()&&(n+=" (not active during basic challenge)"),n+="<br><br>",G.challenge&&!V[G.challenge].Ec?n+="No twigs are gained during the current challenge<br>":(n=n+"Plant a mistletoe next to the tree in the basic field to gain twigs on transcension.<br><br>Collected upcoming twigs: "+e.toString(),1<=G.na&&(n+=" (previous run: "+G.Ld.K.toString()+" at level "+G.ji+")"),n+="<br>",k=DH(),1>k&&Ub(e,0)&&(n=n+"<br>Reduction if transcending this early in run now already: -"+
K(c(1-k)),n+="<br>"),n+="Twigs/hour: "+IH().toString(),0<G.na&&(b=n,n=2>G.Nc?c(0):(n=G.Nc/3600)?G.Ld.K.ub(n):c(0),n=b+(" (previous run: "+n.toString()+", "+m.R(G.Nc,!0)+")")),n=n+"<br>Best/hour: "+(G.Bd.K.toString()+" at level "+G.re.K.valueOf()+", "+m.R(G.se.K.valueOf(),!0)),0<G.na&&(n+=" (previous run: "+G.eh.K.toString()+", lvl "+G.bh.K.valueOf()+", "+m.R(G.dh.K.valueOf(),!0)+")"),n+="<br><br>",k=G.b.B.a(wy().B),n+="Twigs added next tree level: "+Pz(void 0).toString()+" (getting "+K(k)+" of this so far)<br>")),
7==a&&(n=n+"<b>Fruit essence</b><br/><br/>Current amount: "+(d.toString()+"<br/><br/>"),n+="Amount from next sacrificed fruits: "+e.toString()+"<br/><br/>",n+="You can use this to level up the abilities of all fruits: leveling up fruit abilities does not consume global essence, every fruit can use all of it.<br/><br/>",1<g.length&&(n+=YM(g,!1,"Upcoming essence breakdown"))),6==a&&(n=n+"<b>Amber</b><br/><br/>Current amount: "+(d.toString()+"<br/><br/>"),n+="Amber drops every now and then when the tree levels up. You can use it in the 'amber' tab.<br/><br/>");
else{n="<b>"+la(b)+"</b><br/><br/>";n+="Current amount: "+d.toString()+"<br/>";if(5==a){d=c(0);e=c(0);g={};for(f=0;f<G.Ga;f++)for(var u=0;u<G.Ha;u++){var x=G.va[f][u];if(Yo(x)){var y=S(x),r=y.index;g[r]||(g[r]=0);g[r]++;x=y.Wa(x,-g[r]+1);d.u(x.v);y.type==Al&&e.u(x.v)}}d=[d,e];e=d[0].add(G.b.v);n+="In field: "+d[0].toString()+" (brassica: "+d[1].toString()+")<br>";n+="Total (field + current): "+e.toString();d[1].J(0)&&(n+=" (w/o brassica: "+e.sub(d[1]).toString()+")");n=n+"<br>Total earned ever: "+
(G.ma.v.toString()+"<br>")}8==a&&(d=G.ma.W.sub(G.b.W),n+="In pond: "+d.toString()+"<br>",n+="Total (pond + current): "+d.add(G.b.W).toString()+"<br>");n+="<br/>";0==a&&$M()&&G.challenge!=Kl&&(n+="<b>Mushrooms are consuming almost all seeds! Plant some high level berries away from mushrooms to get more seeds for upgrades and better crops, or remove some mushrooms if stuck without income</b><br/><br/>");if(0==a||1==a)n+="Highest had this run: "+hl(G.bf,a).toString(),n=n+"<br>Highest ever had: "+hl(G.eb,
a).toString(),n+="<br><br>";1==a&&Ub(KP.B,0)&&Vb.B.ka(KP.B.i(.9))&&G.challenge!=Kl&&(n=$M()?n+"<b>Mushrooms are consuming almost all seeds! Plant some high level berries away from mushrooms to get more seeds for upgrades and better crops, or remove some mushrooms if stuck without income</b><br/><br/>":n+"<b>Mushrooms are getting less seeds than they can potentially consume! Better upgrade berries first now, upgrading mushrooms doesn't help now because they'll then want to consume even more seeds</b><br/><br/>");
1==a&&(n+="Spores aren't used for crops but will automatically level up the tree, which increases the tree progress<br><br>");4==a&&(n+="Highest ever had: "+hl(G.eb,a).toString(),n+="<br><br>Nuts are used for squirrel upgrades, which you can access in the 'squirrel' tab<br><br>",No()&&(n+="Production boost for unspent nuts: "+K(Jj(Oo(),1)),n+="<br><br>"));if(0==a)G.challenge==Kl&&(d=G.za,n=n+"Tower Defense Income:<br/>\u2022 This wave total income: "+d.he.f.toString(),n+="<br/><br/>Production stats below represent the original seeds production of crops, which is consumed by mushroom towers. Those production numbers are not the seed income and don't actually go to your stacks however, since seed income is gained by exterminating pests.<br/><br/>"),
k.Eb(l)?(n=n+("Production ("+b+"/s):<br/>\u2022 To stacks: ")+(k.toString()+"/s (= going to your resources)<br/>"),n+="\u2022 To consumers: "+l.sub(k).toString()+"/s (= going to neighboring mushrooms)<br/>",n+="\u2022 Total: "+l.toString()+"/s (= what goes to stacks plus what goes to mushroom)<br/>"):(n+="\u2022 Production: "+k.toString()+"/s<br/>",n+="\u2022 Consumption: 0/s<br/>"),n+="<br/>",h&&(n=n+"Hypothetical production if mushrooms could over-consume and give their full potential spores production:<br/>\u2022 To stacks: "+
(p.toString()+"/s (= what would be leftover for stacks if mushrooms could consume all they want, could be negative if mushrooms over-consume)<br/>"),n+="\u2022 To consumers: "+q.sub(p).toString()+"/s (= what mushrooms want to consume if enough seed production available)<br/>",n+="<br/><br/>");else if(1==a)G.challenge==Kl&&(d=G.za,n=n+"Tower Defense Income:<br/>\u2022 This wave total income: "+d.he.B.toString(),n=n+"<br/>\u2022 Damage: "+d.Uj.toString(),n+="<br/><br/>Production stats below represent the original spore production of mushrooms, which is converted to damage using a formula. Those production numbers are not the actual spores income since that is gained by exterminating pests instead, each wave will drop enough spores to gain one tree level.<br/><br/>"),
k.Eb(l)?(n=n+("Production ("+b+"/s):<br/>\u2022 Actual: ")+(k.toString()+"/s (= going to your resources)<br/>"),n+="\u2022 Potential: "+l.toString()+"/s (= what mushrooms can produce if given enough seed income from neighboring berries or they could over-consume)<br/>"):n+="Production ("+b+"/s): "+k.toString()+"/s <br/>",n+="<br/>";else{n+="Production ("+b+"/s): "+k.toString()+"/s";if(5==a||8==a||k.J(0)&&ac(k,.1)&&Ub(k,-.1))n+=" ("+k.i(3600).toString()+"/h)";n+="<br/><br/>"}0<G.ah&&hl(QP,a).J(0)&&
(b=hl(PP,a),k=hl(QP,a),n+="Expected when all fullgrown: ",n=b.Eb(k)?0==a?n+(b.toString()+"/s (hypothetical if mushrooms could over-consume: "+k.toString()+"/s)"):n+(b.toString()+"/s (potential: "+k.toString()+"/s)"):n+(b.toString()+"/s"),n+="<br/>")}return n}
function aQ(a){function b(){var k=$P(a);if(k!=h){var l=k;e||(l+="Breakdown per crop type (as potential production/s): <br/>"+f);var p=void 0;2!=a||G.challenge&&!V[G.challenge].ed||(p=[],Ay(G.s+1,p),p=YM(p,!1,"Resin gain breakdown"),p+="<br>Upcoming resin source breakdown:<br>",Ub(G.h,0)&&(p+=" \u2022 Tree: "+G.h.toString()+"<br>"),Ub(G.Mf.h,0)&&(p+=" \u2022 Ferns (not included in the /hr stat): "+G.Mf.h.toString()+"<br>"),Zb(G.h,0)&&Zb(G.Mf.h,0)&&(p+=" \u2022 None yet<br>"));3!=a||G.challenge&&!V[G.challenge].Ec||
(p=[],Pz(p),p=YM(p,!1,"Twigs gain breakdown"));p&&(l+=p);if(2==a){l+="<br>Total resin allocation:<br>";var q=G.b.h,n=JN().h;p=aC[Tz].jm(G.Kb[Tz].$).h;q=G.ma.h.sub(q).sub(n).sub(p);l+="\u2022 Stacks: "+G.b.h.toString()+"<br>";l+="\u2022 Ethereal field: "+JN().toString()+"<br>";l+="\u2022 Ethereal upgrades: "+q.toString()+"<br>";G.Kb[Tz].$&&(l+="\u2022 Ethereal mistletoe: "+p.toString()+"<br>")}g.a.innerHTML=l;h=k}}var d=Da({size:2,title:la(dl[a]+" income"),sb:"efDialogTranslucent",Ia:!0,yf:b}),e=2==
a||3==a||7==a,f=5==a||8==a?UP(a):TP(a);""==f&&(f=" \u2022 None yet");var g=d.content,h=void 0;b()}
function bQ(a,b,d){var e=dl[b],f=hl(G.b,b),g;2==b&&(g=FH());3==b&&(g=GH());7==b&&(g=CH().ca);var h=RP[a][0];d&&!h.pf?(h.classList.add("efHighlightResource"),h.pf=!0):!d&&h.pf&&(h.classList.remove("efHighlightResource"),h.pf=!1);var k,l=!1;a=RP[a];var p=d="",q=k="";l="";if(2==b||3==b)q=2==b?HH():IH(),d=e,p=f.toString(),k="(+"+g.toString()+")",q=q.toString()+"/hr",l=d+" "+p+" ("+k+", "+q+")";else if(6==b)d=e,p=f.toString(),l=d+" "+p;else if(7==b)d=e,p=f.toString(),g&&(k+="+"+g.toString()),l=d+" "+p;
else{k=hl(Vb,b);Ub(k,-1E-9)&&ac(k,1E-9)&&(k=c(0));g=hl(KP,b);var n=hl(MP,b);hl(NP,b);l=!bk(k,n);d=!1;!G.Bf||0!=b&&1!=b||(d=!0);d&&!a[3].pf?(a[3].classList.add("efInfoAmber"),a[3].pf=!0):!d&&a[3].pf&&(a[3].classList.remove("efInfoAmber"),a[3].pf=!1);d=e;p=f.toString();k=k.toString()+"/s";0==b&&$M()&&(q="("+g.toString()+"/s)");1==b&&l&&(q="("+n.toString()+"/s)");0!=b&&1!=b||G.challenge!=Kl||(f=G.za,0==b&&(k="Next: "+f.he.f.toString(),q=""),1==b&&(k="Next: "+f.he.B.toString(),q="Damage: "+f.Uj.toString()));
l=d+" "+p+", "+k}a[1].innerText=d;a[2].innerText=p;a[3].innerText=k;a[4].innerText=q;ta(h,l);h.Ho!=b&&(void 0!=h.Ho&&m.fn(h),h.Ho=b,Lb(h,function(){return $P(b)},!0),h.style.cursor="pointer",E(h,function(){aQ(b)},"info box: "+e+" resource"))}
function cQ(){function a(){var e="";if(0<G.s){e+="<b>Level:</b> "+G.s;G.s>=ty&&(e+=". Transcension available, click the tree.");if(1<=G.na&&(e+="<br>",e=G.Ic&&G.s>=G.Ic?e+("<b>Max tree level ever:</b> "+G.Oa+" (before: "+G.Ic+")<br>"):e+("<b>Max tree level ever:</b> "+G.Oa+"<br>"),e+="<b>Num transcends:</b> "+G.na+"<br>",G.challenge)){var f=V[G.challenge],g=G.P[G.challenge];if(1<=g.$){var h=g.Pa;1<f.ja&&(h=g.kb[g.Ab%f.ja]);e=h&&G.s>=h?e+("<b>Max challenge level:</b> "+G.s+" (before: "+h+")<br>"):
e+("<b>Max challenge level:</b> "+h+"<br>")}}e+="<br>";f=wy().B.sub(G.b.B).a(Vb.B);e+="<b>Next tree level requires:</b> "+wy().toString()+" ("+m.R(f.valueOf(),!0)+")<br>";e+="<b>Progress to next level:</b> "+Math.floor(100*d).toString()+"%<br>"}e=e+"<br><b>Time in this field:</b> "+(m.R(G.ga,!0,4,!0)+"<br><br>");f=On();3>=f&&(e+="<b>Season change in:</b> "+dQ()+".<br>");e+="<b>Current season:</b> "+la(Um[On()])+"<br><br>";e+="<b>"+la(Um[On()])+" effects:</b><br>";0==f&&(e+="\u2022 +"+K(Jj(Wn(),1))+
" bonus to flower boost<br>",G.P[cn].X&&(e+="\u2022 Bees can reach flowers diagonally too, so they can have 8 neighbors<br>"),G.S[Nn[f]].count&&!jn()&&(e+="\u2022 Crops grow "+K(c(Pn))+" faster (ethereal upgrade)<br>"));1==f&&(e+="\u2022 +"+K(Jj(Xn(),1))+" bonus to berry seed production<br>",Yn().J(1)&&(e+="\u2022 +"+K(Jj(Yn(),1))+" bonus to mushroom spore production (but also consumption)<br>"),G.S[Nn[f]].count&&!jn()&&(e+="\u2022 Resin bonus: "+K(Jj(Cy(f),1))+" (ethereal upgrade)<br>"));2==f&&(e+=
"\u2022 +"+K(Jj(Zn(),1))+" bonus to mushroom spores production, "+K(new c(.5))+" less seed consumption<br>",$n().J(1)&&(e+="\u2022 +"+K(Jj($n(),1))+" bonus to berry seed production<br>"),G.S[vt].count&&!jn()&&(e+="\u2022 Twigs bonus: "+K(Jj(Qz(),1))+" more twigs added when tree levels with mistletoes<br>"),G.S[Nn[f]].count&&!jn()&&(e+="\u2022 Resin bonus: "+K(Jj(Cy(f),1))+" (ethereal upgrade)<br>"));3==f&&(g=G.oc[GF].Bb,e+="\u2022 Harsh conditions: -"+K(c(1).sub(c(ao)))+" berry / mushroom / flower"+
(g?" / beehive":"")+" stats when not next to the tree<br>",e+="\u2022 Brassica frost: -"+K(c(1).sub($p))+" brassica copying and -"+K(c(1).sub($p))+" brassica copying fruit ability when not next to the tree<br>",g=!jn()&&G.S[lx].count?" (orthogonal or diagonal: 10 spots)":" (current reach: orthogonal, 6 spots)",e+="\u2022 Winter tree warmth: +"+K(Jj(bo(),1))+" berry / mushroom stats (also consumption) and no harsh conditions for any crop when next to the tree "+g+"<br>",G.S[Nn[f]].count&&!jn()&&(e+=
"\u2022 Winter tree warmth for flowers: "+K(Jj(co,1))+" (ethereal upgrade)<br>"),e+="\u2022 Resin bonus: "+K(Jj(By(),1))+" more resin added when tree levels up during the winter<br>");5==f&&(e+="\u2022 Crops produce less, the higher tier and upgrade level the worse the effect<br>");e+="<br>";f=!!G.o[tn].count;g=!!G.o[vn].count;h=!!G.o[xn].count;if(f||g||h)e+="<b>Weather abilities:</b><br>",f&&(e+="<b>Sun:</b> berry production boost: +"+K(ep())+", and not negatively affected by winter. Run time: "+
m.R(gn(120))+". Cooldown time: "+m.R(mn(720)-gn(120))+"<br>"),g&&(e+="<b>Mist:</b> mushroom production boost: +"+K(hp())+", consumption reduced by "+K(Lj(gp()))+", and not negatively affected by winter. Run time: "+m.R(gn(180))+". Cooldown time: "+m.R(mn(1080)-gn(180))+"<br>"),h&&(e+="<b>Rainbow:</b> flower boost: +"+K(Lp())+", and not negatively affected by winter. Run time: "+m.R(gn(240))+". Cooldown time: "+m.R(mn(1440)-gn(240))+"<br>");Qn()&&(e=G.$a&1?e+("Grow speed effect from present active: crops grow twice as fast for 15 minutes. Time remaining: "+
m.R(SH(),!0,4,!0)):e+("Grow speed effect from egg active: crops grow twice as fast for 15 minutes. Time remaining: "+m.R(SH(),!0,4,!0)));pp()&&(e=G.$a&1?e+("Production boost effect from present active: +25% boost to seeds and spores production for 15 minutes. Time remaining: "+m.R(TH(),!0,4,!0)):e+("Production boost effect from egg active: +25% boost to seeds and spores production for 15 minutes. Time remaining: "+m.R(TH(),!0,4,!0)));return e}var b=Da({size:2,title:"Game info",yf:function(){b.a.innerHTML=
a()}}).content,d=Math.min(1,G.b.B.a(wy().B).valueOf());b.a.innerHTML=a()}function dQ(){return G.Mb&&G.Uc?"At end of run":G.Mb&&!G.Uc?"At end of run ("+m.R(eQ()+fQ(),!0)+")":m.R(eQ()+fQ(),!0)}
function gQ(){if(!RP.length){SP=-1;for(var a=0;2>a;a++)for(var b=0;4>b;b++){var d=4*a+b;RP[d]=[];var e=new F(hQ,.25*b,.5*a,.25*(b+1),.5*(a+1)),f=e.a;f.className="efInfo";f.style.textOverflow="hidden";f.style.whiteSpace="nowrap";RP[d][0]=f;f.style.lineHeight="90%";for(f=0;4>f;f++){var g=new F(e,0,.25*f,1,.25*(f+1));RP[d][f+1]=g.a;ra(g.a);1!=d&&2!=d||3!=f||(g.a.className="efInfoResouceConstrained")}}}if(On()!=SP)for(SP=On(),d=0;d<RP.length;d++)f=RP[d][0],RP[d][0].className="efInfo "+ZP[On()],f.pf&&
(f.pf=!1);d="\ud83c\udf31 spring \ud83c\udf31;\u2600\ufe0f summer \u2600\ufe0f;\ud83c\udf42 autumn \ud83c\udf42;\u2744\ufe0f winter \u2744\ufe0f;ethereal;\ud83d\udd25 infernal \ud83d\udd25".split(";")[On()];a=0<G.s?"level "+G.s:"time";b=Math.min(1,G.b.B.a(wy().B).valueOf());0<G.s&&(a+=" ("+Math.floor(100*b)+"%)");b="";G.s>=ty&&5>G.na&&(b="efInfoShadow");e=m.R(G.ga,!0,4,!0);f="";Qn()?f="efInfoPresentGrowSpeed":pp()&&(f="efInfoPresentProdBoost");g="";G.Mb&&(g="efInfoAmber");RP[0][1].j.innerText=a;RP[0][1].j.className=
b;RP[0][2].j.innerText=e;RP[0][2].j.className=f;RP[0][3].j.innerText=d;RP[0][3].j.className=g;RP[0][0].style.cursor="pointer";RP[0][0].Jp||(RP[0][0].Jp=!0,E(RP[0][0],function(){cQ()},"info box: time and level"),Lb(RP[0][0],function(){var h="";if(1<=G.na){h=G.Ic&&G.s>=G.Ic?h+("Max tree level ever: "+G.Oa+" (before: "+G.Ic+")"):h+("Max tree level ever: "+G.Oa);if(G.challenge){h+="<br>";var k=V[G.challenge],l=G.P[G.challenge];if(1<=l.$){var p=l.Pa;1<k.ja&&(p=l.kb[l.Ab%k.ja]);h=p&&G.s>=p?h+("Max challenge level: "+
G.s+" (before: "+p+")<br>"):h+("Max challenge level: "+p+"<br>")}}h+="<br><br>"}1<=G.s&&(k=wy().B.sub(G.b.B).a(Vb.B),h+="Next tree level requires: "+wy().toString()+"<br>("+m.R(k.valueOf(),!0)+")",h+="<br><br>");1<=G.na&&(h+="Num transcends: "+G.na,h+="<br><br>");h+="Season change in: "+dQ()+".";Qn()&&(h+="<br><br>",h=G.$a&1?h+("Grow speed effect from present active: crops grow twice as fast for 15 minutes. Time remaining: "+m.R(SH(),!0,4,!0)):h+("Grow speed effect from egg active: crops grow twice as fast for 15 minutes. Time remaining: "+
m.R(SH(),!0,4,!0)));pp()&&(h+="<br><br>",h=G.$a&1?h+("Production boost effect from present active: +25% boost to seeds and spores production for 15 minutes. Time remaining: "+m.R(TH(),!0,4,!0)):h+("Production boost effect from egg active: +25% boost to seeds and spores production for 15 minutes. Time remaining: "+m.R(TH(),!0,4,!0)));return h},!0));ta(RP[0][0],a+", "+e+", "+d);XP();Vb.v=G.Wg.v;Vb.W=G.Wg.W;a=ZD();b=ZD()&&Ub(G.b.W,0);e=!a&&Ub(G.ma.Y,0)&&ac(G.ma.Y,5E3);f=!b&&a&&ac(G.ma.v,50);g=b&&ac(G.ma.W,
1E5);d=1;a||b?a&&!b?(G.eb.f.J(0)&&bQ(d++,0),G.eb.B.J(0)&&bQ(d++,1),(G.eb.h.J(0)||G.h.J(0))&&bQ(d++,2),G.eb.Y.J(0)&&bQ(d++,4,e),bQ(d++,5,f),G.eb.ca.J(0)&&bQ(d++,7)):(G.eb.f.J(0)&&bQ(d++,0),G.eb.B.J(0)&&bQ(d++,1),(G.eb.h.J(0)||G.h.J(0))&&bQ(d++,2),G.eb.Y.J(0)&&bQ(d++,4,e),bQ(d++,5,f),bQ(d++,8,g)):(G.eb.f.J(0)&&bQ(d++,0),G.eb.B.J(0)&&bQ(d++,1),(G.eb.h.J(0)||G.h.J(0))&&bQ(d++,2),G.eb.Y.J(0)&&bQ(d++,4,e),G.eb.ta.J(0)&&bQ(d++,6),G.eb.ca.J(0)&&bQ(d++,7));(G.eb.K.J(0)||G.K.J(0)||G.S[vt].count)&&bQ(d++,3)}
;var iQ=[],jQ=[],kQ=[],lQ=[],mQ=[],nQ=void 0,oQ,pQ,qQ;
function IJ(){if(nQ!=rQ){nQ=rQ;iQ=[];jQ=[];kQ=[];lQ=[];mQ=[];pQ=new F(rQ,.02,.02,1,.05);oQ=new F(rQ,.02,.15,.9,2);wb(rQ);var a=m.Zf("span",oQ.a);ua(a,"heading");ta(a,"achievements list")}a="Achievement production bonus: +"+K(Jj(G.Yg,1));a=a+"<br>Achievements earned: "+G.ag;pQ.a.innerHTML=a;for(var b=eF.length,d=!1,e=!1,f=-1,g=-1,h=-1,k=0;k<b;k++){var l=dF[eF[k]],p=G.oc[eF[k]];if(10==f+1||k+1==b)if(e&&40<G.ag)if(mQ[g])mQ[g].ui||(mQ[g].a.style.visibility="",mQ[g].ui=!0);else{var q=new F(oQ,[0,0,1],
[0,0,g/10],1.1-.005,[0,0,(g+1)/10-.005]),n=pb("0%","20%","60%","60%",q.a);qb(Ad,n);mQ[g]=q;mQ[g].ui=!0}else mQ[g]&&mQ[g].ui&&(mQ[g].a.style.visibility="hidden",mQ[g].ui=!1);q=!1;p.Bb&&(q=!0);void 0!=l.hint&&G.oc[l.hint].Bb&&(q=!0);if(q){h++;var u=l.icon;p.Bb||(u=Si[bF(l)]);if(lQ[h]&&(q=lQ[h],q.icon==u&&q.ya==p.ya&&q.index==k&&q.Bb==p.mq))continue;lQ[h]={icon:u,ya:p.ya,index:k,Bb:p.Bb};d=!0;f=h%10;g=Math.floor(h/10);0==f&&e&&(e=!1);iQ[h]?(q=iQ[h],n=jQ[h],q=q.a,m.fn(q)):(q=new F(oQ,[0,0,f/10],[0,0,
g/10],(f+1)/10-.005,[0,0,(g+1)/10-.005]),iQ[h]=q,q=q.a,n=pb("0%","0%","100%","100%",q),jQ[h]=n);qb(u,n);p.Bb?ta(q,"achievement: "+l.name):ta(q,"not-yet-earned achievement: "+l.name);q.style.border=p.Bb?"3px solid "+Pi[bF(l)]:"";q.style.backgroundColor=p.Bb?Qi[bF(l)]:"#8888";u=kQ[h];p.Bb&&!p.ya&&(kQ[h]||(u=pb("0","0","25%","25%",q),jQ[h]=n,kQ[h]=u,qb(yd,u)),e=!0);!p.ya&&p.Bb||!kQ[h]||(m.sc(u),kQ[h]=void 0);n=B(function(x,y,r,v,w,H){y.Bb&&!y.ya&&(y.ya=!0,m.sc(v),kQ[w]=void 0,mQ[H]&&mQ[H].ui&&(mQ[H].a.style.visibility=
"hidden",mQ[H].ui=!1))},l,p,q,u,h,g);p=B(function(x,y){var r=bF(x);return y.Bb?la(x.name)+": "+na(x.description)+"<br><br>Production bonus: +"+K(x.gh)+"<br><br>Tier "+rs(r)+": "+Oi[r]:la(x.name)+'<br><br>Not yet earned. Unearned achievements are normally hidden, except hinted ones like this shown as "?"<br><br>Production bonus: +'+K(x.gh)+"<br>Tier "+rs(r)+": "+Oi[r]},l,p,q,u,h);Lb(q,p);m.jb(q,"mouseover",n,"medalseen");Ga(q);E(q,B(function(x,y,r){Da({size:Za,title:"Achievement",icon:r.icon}).content.a.innerHTML=
x();y()},p,n,l))}}b=h;if(d){d=100<G.ag;if(qQ)for(h=0;h<qQ.length;h++)ob(qQ[h],oQ);qQ=[];f=0;g=Math.floor(b/10)+(d?1.5:2);q=new F(oQ,[0,0,f/10],[0,0,g/10],(f+10-1)/10-.005,[0,0,(g+1)/10-.005]);qQ.push(q);d?q.a.innerHTML=a+"<br><br>Key: tiers from lowest to highest:":q.a.innerText="Key: tiers from lowest to highest:";for(k=0;k<Pi.length;k++)f=k%10,g=Math.floor(b/10)+Math.floor(k/10)+3,q=new F(oQ,[0,0,f/10],[0,0,g/10],(f+1)/10-.005,[0,0,(g+1)/10-.005]),qQ.push(q),q.a.style.backgroundColor=Qi[k],q.a.style.color=
m.hp(Qi[k]),q.a.style.border="4px solid "+Pi[k],sa(q.a),q.a.j.innerText=Oi[k]}}var sQ=void 0;function cK(){sQ&&(ob(sQ,hc),sQ=void 0)}function tQ(a){cK();a=dF[a];sQ=new F(hc,.2,.85,.8,.95);sQ.a.style.backgroundColor="#ddde";var b=new F(sQ,.01,[.5,0,-.35],[0,0,.7],[.5,0,.35]);b=pb("0%","0%","100%","100%",b.a);qb(a.icon,b);b=new F(sQ,[0,0,.7],[.5,0,-.35],.99,[.5,0,.35]);b.a.style.color="#000";b.a.innerHTML="Achievement Unlocked<br><br>"+la(a.name)+" (+"+K(a.gh)+")";E(sQ.a,cK)};function uQ(a,b){a.a.style.backgroundColor="#ccc";a.a.style.border="1px solid black";b.sg&&(a.a.style.backgroundColor=b.sg);b.tg&&(a.a.style.border="1px solid "+b.tg);if(b.Pg){var d=pb("0%","0%","100%","100%",a.a);qb(b.Pg,d)}b.Qg&&(d=pb("0%","0%","100%","100%",a.a),qb(b.Qg,d))}
function vQ(a,b,d,e){b.a.className="efUpgradeChip";var f=a.O(d?-1:0),g=G.b.ka(f),h=300*uk+3*tk+G.td,k=G.o[a.index];if(void 0!=b.Ya){var l=!0;b.Ya!=a.index&&(l=!1);b.Op!=k.count&&(l=!1);b.Np!=d&&(l=!1);b.Mp!=g&&(l=!1);b.Pp!=h&&(l=!1);if(l)return}e&&(a.index==$t&&(b.a.id=1==e?"help_arrow_upgrade_watercress":"help_arrow_upgrade_watercress_side"),a.index==Ms&&(b.a.id=1==e?"help_arrow_unlock_blackberry":"help_arrow_unlock_blackberry_side"),a.index==Ns&&(b.a.id=1==e?"help_arrow_unlock_blueberry":"help_arrow_unlock_blueberry_side"),
a.index==kt&&(b.a.id=1==e?"help_arrow_unlock_anemone":"help_arrow_unlock_anemone_side"),a.index==st&&(b.a.id=1==e?"help_arrow_unlock_nettle":"help_arrow_unlock_nettle_side"));b.Ya=a.index;b.Op=k.count;b.Np=d;b.Mp=g;b.Pp=h;e=b.sl;k=h=d?a.Ee():a.im();b.Cl.clear();uQ(b.Cl,a);ta(b.Cl.a,"info: "+h);ta(b.ap.a,"buy: "+h+", cost: "+f.toString());d?(k+="<br>",k=a.$d&&d?k+("Chosen: "+(1==G.o[a.index].count?a.ue:a.ve)):k+("Cost: "+f.toString())):(k=k+"<br>"+(a.$d?"Choose":"Cost: "+f.toString()),e.a.className=
g?"efTextCantAfford":"",m.jb(b.a,"mouseover",function(){G.o[a.index].ya=!0},"upgradeseen"));e.a.innerHTML=k}
function wQ(a,b,d){var e=a.O(b?-1:0),f="";a.description&&(f+=a.description);f+="<br><br>Cost: "+e.toString();b||(f+=" ("+Tb(e)+")");f=a.$d&&0!=G.o[a.index].count?f+("<br><br>Chosen: "+(1==G.o[a.index].count?a.ue:a.ve)):f+("<br><br>Have of this upgrade: "+G.o[a.index].count);void 0==a.Ra||a.Ie||(f+="<br>Have of this crop: "+G.ab[a.Ra]);if(void 0!=a.Ra&&!a.Uf){b=Pm[a.Ra];e=G.D[a.Ra];f=f+"<hr>Crop info ("+(b.name+"):<br><br>");b.Sb.empty()||(f+="Base production: "+b.Sb.toString()+"<br>",f+="Upgraded production: "+
b.Cb().toString()+"<br>");if(b.Ea.J(0)){f+="Base boost: "+K(b.Ea)+"<br>";var g=b.type==Cl;b.type==Dl&&(g=b.index==Pp||b.index==Qp||b.index==Rp);f+="Upgraded boost: "+K(g?Op(b):jo(b))+"<br>"}g=b.O();f+="Planting cost: "+g.toString()+" ("+Tb(g)+")<br>";b.type==Al?f+="Living time: "+m.R(b.Ja()):(f+="Grow time: "+m.R(b.Ja()),b.Ja()!=b.fb&&(f+=" (base: "+m.R(b.fb)+")"));f=f+"<br>Type: "+(an(b.type)+(b.g?" (tier "+(b.g+1)+")":"")+"<br>");e.oa&&(f+="Prestiged: "+e.oa+"x<br>");d&&(b=Pm[a.Ra])&&(f+="<br>"+
b.ad)}return f}
function xQ(a){var b=Bn[a.Ya],d=void 0,e=void 0;b.$d||(d=function(){W({type:yQ,Ya:b.index,shift:!1});1==b.Db&&fb();Hm();h.content.a.innerHTML=wQ(b,void 0,!0);return!0},e=1==b.Db?"buy":"buy one");var f=void 0,g=void 0;b.$d||1==b.Db||(f=function(){W({type:yQ,Ya:b.index,shift:!0});Hm();h.content.a.innerHTML=wQ(b,void 0,!0);return!0},g="buy many");b.$d&&(d=function(){W({type:yQ,Ya:b.index,shift:!1,Gf:1});fb();Hm();return!0},e="buy "+b.ue,f=function(){W({type:yQ,Ya:b.index,shift:!1,Gf:2});fb();Hm();return!0},
g="buy "+b.ve);a.rn();var h=Da({size:Za,vb:[d,f],names:[e,g],Wc:"close",title:la(b.name),jo:.1});h.content.a.innerHTML=wQ(b,void 0,!0);uQ(h.icon,b)}
function zQ(a,b,d,e,f,g){if(e.sl)vQ(a,e,f,g),e.rn();else{var h=new F(e,[0,0,.8],.05,1,.3);e.sl=h;h=new F(e,.01,[.5,0,-.35],[0,0,.7],[.5,0,.35]);e.Cl=h;var k=new F(e,[0,0,.8],.01,.9,[.5,0,.35]);e.ap=k;e.Ya=a.index;var l="",p=function(){l=wQ(Bn[e.Ya],f)};f||(Ga(k.a),m.jb(e.a,"mouseover",function(){G.o[Bn[e.Ya].index].ya=!0},"upgradeseen"));xa(k.a,f?void 0:B(function(q,n){var u=Bn[e.Ya];u.$d?(q=Da({size:2,title:la(u.name),vb:[function(){W({type:yQ,Ya:u.index,shift:!1,Gf:1});Hm()},function(){W({type:yQ,
Ya:u.index,shift:!1,Gf:2});Hm()}],names:[u.ue,u.ve],jo:.1}),q.content.a.innerHTML=u.description,uQ(q.icon,u)):(W({type:yQ,Ya:u.index,shift:n}),Hm());window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},nF),f?void 0:"buy one",{Zc:f?void 0:"buy many",Ba:function(){p();return la(Bn[e.Ya].name)+"<br><hr><br>"+l},Tj:!0});Ga(h.a);xa(h.a,function(){xQ(e)},"Show upgrade info",{Ba:function(){p();return"Show "+na(Bn[e.Ya].name)+" info<br><hr><br>"+l}});
e.rn=p;vQ(a,e,f,g);e.rn();m.jb(e.a,"mouseover",B(function(){sL=a.Ra},b,d),"fieldover");m.jb(e.a,"mouseout",B(function(){sL=null},b,d),"fieldout")}}var sL=null,AQ=null,BQ=!1,CQ=[];
function DQ(){function a(g,h){for(var k=void 0,l=0;l<os.length;l++)if(!b[os[l]]){var p=Bn[os[l]];G.o[os[l]].c&&0==p.Db&&void 0!=p.Ra&&Pm[p.Ra].type==g&&(void 0==k||p.T.ba(k.T))&&(k=p)}k&&h.push(k.index)}CQ=[];var b={};var d=[];for(var e=0;e<os.length;e++)if(!b[os[e]]){var f=Bn[os[e]];1==f.Db&&f.T.B.J(0)&&d.push(os[e])}d=d.sort(function(g,h){g=Bn[g];h=Bn[h];return g.T.B.ka(h.T.B)?1:-1});for(e=0;e<d.length;e++)CQ.push(d[e]),b[d[e]]=!0;d=[];for(e=0;e<os.length;e++)b[os[e]]||(f=Bn[os[e]],1==f.Db&&Zb(f.T.B,
0)&&d.push(os[e]));d=d.sort(function(g,h){g=Bn[g];h=Bn[h];return g.T.f.ka(h.T.f)?1:-1});for(e=0;e<d.length;e++)CQ.push(d[e]),b[d[e]]=!0;d=[];for(e=0;e<os.length;e++)b[os[e]]||(f=Bn[os[e]],1<f.Db&&d.push(os[e]));d=d.sort(function(g,h){g=Bn[g];h=Bn[h];return g.T.f.ka(h.T.f)?1:-1});for(e=0;e<d.length;e++)CQ.push(d[e]),b[d[e]]=!0;d=[];a(wl,d);a(xl,d);a(Fl,d);a(yl,d);a(Cl,d);a(zl,d);a(Al,d);d=d.sort(function(g,h){g=Bn[g];h=Bn[h];return g.T.f.ka(h.T.f)?1:-1});for(e=0;e<d.length;e++)CQ.push(d[e]),b[d[e]]=
!0;d=[];for(e=0;e<os.length;e++)b[os[e]]||(f=Bn[os[e]],0==f.Db&&(void 0==f.Ra||G.ab[f.Ra])&&d.push(os[e]));d=d.sort(function(g,h){g=Bn[g];h=Bn[h];return g.T.f.ka(h.T.f)?1:-1});for(e=0;e<d.length;e++)CQ.push(d[e]),b[d[e]]=!0;d=[];for(e=0;e<os.length;e++)b[os[e]]||(f=Bn[os[e]],0==f.Db&&d.push(os[e]));d=d.sort(function(g,h){g=Bn[g];h=Bn[h];return g.T.f.ka(h.T.f)?1:-1});for(e=0;e<d.length;e++)CQ.push(d[e]),b[d[e]]=!0}var EQ=[],FQ=[],GQ=void 0;
function YO(){0==CQ.length&&DQ();HQ=[];var a=0;AQ&&(a=AQ.a.scrollTop);var b;if(GQ!=IQ){IQ.clear();FQ=[];GQ=IQ;AQ=b=new F(IQ,0,.01,1,1);wb(b);var d=new F(b,.01,.02,.95,.15);d.a.innerHTML="Hold shift to buy as many as possible<br>Click icon or see tooltip for more info";IQ.Bp=b;IQ.sl=d}else b=IQ.Bp,d=IQ.sl;var e=[0,0];d=[];for(var f=0;f<CQ.length;f++){var g=CQ[f];Bn[g].Ff()&&d.push(g)}for(f=0;f<d.length;f++){g=Bn[d[f]];var h=f&1,k=f>>1;h=FQ[f]||new F(b,.49*h+.01,[.15,0,.45*k+.01,.27],.49*(h+1)-.01,
[.15,0,.45*(k+1)-.01,.27]);FQ[f]=h;zQ(g,f&1,f>>1,h,!1,1)}for(f=d.length;f<FQ.length;f++)FQ[f]&&(ob(FQ[f],b),FQ[f]=void 0);var l=[];for(f=0;f<CQ.length;f++)g=CQ[f],G.o[g].count&&l.push(g);0<l.length&&(h=0,k=(d.length+1>>1)+.33,h=new F(b,.01,[.15,0,.45*k+.01,.27],.48,[.15,0,.45*(k+1)-.01,.27],void 0,4),FQ[f]=h,La(h.a),h.a.innerText="See Completed Upgrades",E(h.a,function(){for(var p=Da({Ia:!0,title:"Completed upgrades"}),q=0;q<l.length;q++){var n=Bn[l[q]];ja(e[0],e[1],200,20,p.content.a);var u=q&1,
x=q>>1;u=new F(p.content,.49*u+.01,[0,0,.45*x+.01,.27],.49*(u+1)-.01,[0,0,.45*(x+1)-.01,.27]);zQ(n,q&1,q>>1,u,!0);u.a.style.color="#2a2";u.a.style.borderColor="#2a2"}p.content.update()}));b.update();AQ.a.scrollTop=a;BQ=!0}var HQ=[];function JQ(a,b,d){b.a.className="efEtherealUpgradeChip";var e=a.O(d?-1:0),f=new F(b,[0,0,.8],.05,1,.3),g=d?a.Ee():a.im(),h=la(g),k=new F(b,.01,[.5,0,-.35],[0,0,.7],[.5,0,.35]);a.sg&&(k.a.style.backgroundColor=a.sg);a.tg&&(k.a.style.border="1px solid "+a.tg);if(a.Pg){var l=pb("0%","0%","100%","100%",k.a);qb(a.Pg,l)}a.Qg&&(l=pb("0%","0%","100%","100%",k.a),qb(a.Qg,l));b=new F(b,[0,0,.8],.01,.9,[.5,0,.35]);var p=la(g);p+="<br><br>Cost: "+e.toString();p+="<br><br>have of this upgrade: "+G.S[a.index].count;
a.description&&(p+="<br><br>"+Vw(a));p+="<br><br>This ethereal upgrade is non-refundable and permanent. Lasts through transcensions.";if(0<a.U||0<G.U)p+="<br><br>Unlocked at ethereal tree level: "+a.U;h=h+"<br>Cost: "+e.toString();d||(Ga(b.a),G.b.ka(e)&&(f.a.className="efTextCantAfford"));xa(b.a,d?void 0:B(function(){W({type:KQ,Ya:a.index});Hm()},nF),d?void 0:"buy "+g,{Ba:p});Ga(k.a);xa(k.a,B(function(){Da({size:Za,title:"Ethereal upgrade info"}).content.a.innerHTML=p},nF),"Show upgrade info",{Ba:"Show "+
g+" info<br><hr><br>"+p});f.a.innerHTML=h}var LQ=null,MQ=[];function NQ(){MQ=[];var a={};var b=[];for(var d=0;d<Rw.length;d++)a[Rw[d]]||b.push(Rw[d]);b=b.sort(function(e,f){e=Sw[e];f=Sw[f];return e.U!=f.U?e.U<f.U?1:-1:e.T.h.Eb(f.T.h)?e.T.h.ka(f.T.h)?1:-1:e.index<f.index?-1:1});for(d=0;d<b.length;d++)MQ.push(b[d]),a[b[d]]=!0}
function cP(){0==MQ.length&&NQ();var a=0;LQ&&(a=LQ.a.scrollTop);OQ.clear();var b=new F(OQ,0,.01,1,1);LQ=b;wb(b);for(var d=new F(b,.01,0,.99,.2),e=[],f=0;f<MQ.length;f++){var g=MQ[f];Sw[g].Ff()&&e.push(g)}f="Ethereal upgrades are permanent and the resin is not refundable. You can also spend resin on plants in the ethereal field instead.<br><br>Level up the ethereal tree to get more upgrades.<br><br>";f=0==e.length?f+"<i>No further ethereal upgrades are available for now.</i>":f+"Click the icon of an upgrade or see its tooltip for a more detailed description.";
d.a.innerHTML=f;var h=[0,0];for(f=0;f<e.length;f++){d=Sw[e[f]];g=f&1;var k=f>>1,l=.45;g=new F(b,g*l+.01,[.25,0,k*l+.01,.25],(g+1)*l-.01,[.25,0,(k+1)*l-.01,.25]);JQ(d,g,!1)}var p=[];for(f=0;f<MQ.length;f++)g=MQ[f],G.S[g].count&&p.push(g);0<p.length&&(g=0,k=(e.length+1>>1)+.33,l=.45,e=new F(b,0*l+.01,[.25,0,k*l+.01,.27],1*l-.01,[.25,0,(k+1)*l-.01,.27],void 0,4),La(e.a),e.a.innerText="See Completed Upgrades",E(e.a,function(){for(var q=Da({Ia:!0,title:"Completed ethereal upgrades"}),n=0;n<p.length;n++){var u=
Sw[p[n]];ja(h[0],h[1],200,20,q.content.a);var x=n&1,y=n>>1;x=new F(q.content,.45*x+.01,[0,0,.45*y+.01,.27],.45*(x+1)-.01,[0,0,.45*(y+1)-.01,.27]);JQ(u,x,!0);x.a.style.color="#2a2";x.a.style.borderColor="#2a2"}q.content.update()}));b.update();LQ.a.scrollTop=a}var PQ=[];var QQ=void 0,WO=void 0,RQ=!1;
function vo(a,b){if(b){switch(a){case Qx:return"/";case uo:return"BB";case wo:return"MB";case xo:return"ME";case zp:return"FB";case Gn:return"G";case pn:return"WB";case aq:return"BC";case Ap:return"NB";case Vx:return 0==On()?"S":"s";case Wx:return 1==On()?"S":"s";case Xx:return 2==On()?"S":"s";case Yx:return 3==On()?"S":"s";case Zx:return 0!=On()&&1!=On()||!fy(1)?"s":"S";case $x:return 1!=On()&&2!=On()||!fy(1)?"s":"S";case ay:return 2!=On()&&3!=On()||!fy(1)?"s":"S";case by:return 3!=On()&&0!=On()||
!fy(1)?"s":"S";case cy:return fy(2)?"S":"s";case dy:return fy(3)?"S":"s";case Rx:return"RS";case Sx:return"TW";case Ux:return"RT";case yo:return"NU";case Tp:return"BE";case Bp:return"X";case Tx:return"T";case zo:return"O";case Ao:return"MO"}return"?"}switch(a){case Qx:return"none";case uo:return"berry boost";case wo:return"mushroom boost";case xo:return"mushroom economy";case zp:return"flower boost";case Gn:return"growing speed";case pn:return"weather boost";case aq:return"brassica copying";case Ap:return"nettle boost";
case Vx:return"spring boost";case Wx:return"summer boost";case Xx:return"autumn boost";case Yx:return"winter boost";case Zx:return"spring and summer boost";case $x:return"summer and autumn boost";case ay:return"autumn and winter boost";case by:return"winter and spring boost";case cy:return"4-seasons boost";case dy:return"ultra seasons boost";case Rx:return"resin boost";case Sx:return"twigs boost";case Ux:return"resin and twigs boost";case yo:return"nuts boost";case Tp:return"bee boost";case Bp:return"mix nettle/brass/bee";
case Tx:return"treelevel prod boost";case zo:return"seeds overload";case Ao:return"spores overload"}return"unknown"}
function SQ(a){switch(a){case Qx:return"none, fuse fruits to fill this slot";case uo:return"boosts berry production";case wo:return"boosts mushroom production but also consumption";case xo:return"reduces mushroom consumption (with a soft cap)";case zp:return"boosts flowers effect";case Gn:return"reduces crop grow time (Before any other reductions. A soft cap applies.)";case pn:return"increases the weather effect abilities";case aq:return"increases the copy effect of brassica (such as watercress)";
case Ap:return"boosts the nettle effect";case Vx:return"boosts the spring flower boost, only during the spring season";case Wx:return"boosts the summer berry boost, only during the summer season";case Xx:return"boosts the autumn mushroom boost, only during the autumn season";case Yx:return"boosts the winter tree warmth effect, only during the winter season";case Zx:return"boosts the spring flower boost and the summer berry boost, only during the respective seasons";case $x:return"boosts the summer berry boost and the autumn mushroom boost, only during the respective seasons";
case ay:return"boosts the autumn mushroom boost and the winter tree warmth effect, only during the respective seasons";case by:return"boosts the winter tree warmth effect and the spring flower boost, only during the respective seasons";case cy:return"boosts the special effect of each of the 4 seasons, when the applicable season is active: flower boost in spring, berry boost in summer, mushroom boost in autumn, tree warmth boost in winter";case dy:return"boosts the special effect of each of the 4 seasons, even more for dragon fruit, when the applicable season is active: flower boost in spring, berry boost in summer, mushroom boost in autumn, tree warmth boost in winter";
case Rx:return"boost resin income (with a soft cap), based on spores produced while this fruit was active. In addition slightly boosts the unspent resin production bonus.";case Sx:return"boost twigs income (with a soft cap), based on spores produced while this this fruit was active. In addition slightly boosts the unspent twigs production bonus.";case Ux:return"boost resin and twigs income (with a soft cap), based on spores produced while this this fruit was active. In addition slightly boosts the unspent resin and twigs production bonus.";
case yo:return"boosts nuts production (with a soft cap)";case Tp:return"boosts the beehive bonus";case Bp:return"divides given boost over nettle, brassica and bee, balanced differently for spores and seeds, but only additively if corresponding non-mix abilities are present";case Tx:return"boosts the production boost that is given by the tree level, the shown target multiplier is reached when reaching tree level where next fruit tier could drop.";case zo:return"boosts seeds, but increases mushroom seed consumption by the same amount";
case Ao:return"boosts spores, but the additional spores require much higher seeds consumption"}return"unknown"}var $O=null,TQ=null;
function UQ(a){var b=Da({title:"Fruit help",Ia:!0}),d="";a||(d+="Fruits drop when the tree reaches certain levels. Fruits have one or more abilities from a random set. At higher tree levels, higher tier fruits with more and stronger abilities can drop.<br/><br/>You can move fruits between the stored and sacrificial slots with the buttons in the fruit dialog. You can choose the active fruit with the arrows. You can only have one active fruit and only the abilities of the active fruit have an effect. You can switch the active fruit at any time. You can also select no fruit at all by toggling the arrow above an active one.<br/><br/>Fruit essence can be used to level up abilities, increasing their effect. If the fruit has mutliple abilities, click the ability you want to upgrade first.<br/><br/>All fruit essence is available for all fruits, leveling up an ability in one fruit does not consume any fruit essence for other fruits. Example: if you have 50 fruit essence and 3 fruits, then you can use 50 essence in fruit 1, you can also use 50 essence in fruit 2, and you can also use 50 essence in fruit 3, and in any future fruits as well. If you now sacrifice a fruit that gives 10 essence, you have 10 more essence available for all the others.<br/><br/>Leveling up abilities permanently affects this fruit, you cannot undo it. This only matters if this fruit has more than one ability so that you have to choose which ones to level up. And if unhappy with this fruit, you can always wait for a next one and sacrifice this one.<br/><br/>To get more fruit essence, sacrifice fruits by putting them in the sacrificial pool and transcending (available at high enough tree level). The amount of fruit essence of sacrificed fruits depends on their tier (zinc, bronze, ...), the ability levels or how much essence you've used to level them up don't matter for this.<br/><br/>The active and stored fruits do not get sacrificed and stay after transcension.<br/><br/>Higher tier fruits may have more abilities, and abilities provide more boost.<br/><br/>You can rename fruits with the rename button. Named fruits will also have their name show up in the fruit tab when active. You can also mark fruits as favorite: click the fruit logo in the fruit dialog to alter border color (visual effect only).<br/><br/><b>Fruit related hotkeys</b><br/><br/>Note: on mac, ctrl means command instead.<br/> \u2022 <b>ctrl + click fruit</b>: move fruit between sacrificial and storage slots, if possible.<br/> \u2022 <b>shift + click fruit</b>: same as ctrl + click fruit.<br/> \u2022 <b>drag & drop</b>: drag fruits between slots, re-order slots.<br/> \u2022 <b>shift + click fruit ability upgrade</b>: buy multiple abilities up to 25% of currently available essence<br/> \u2022 <b>], } or )</b>: select next active fruit<br/> \u2022 <b>[, { or (</b>: select previous active fruit<br/><br/>");d+=
'<b>Fusing Fruits</b><br/><br/>Fruits of the same tier (bronze and up) can be fused together to allow transferring abilities to create the fruit with the combination you want, when the random drops aren\'t giving it. Fusing does not increase strength of stats, it\'s only about allowing control of the combination.<br/><br/>Fusing fruits destroys the two original fruits and creates a new one with a new set of abilities. The rules are as follows:<br/> \u2022 The two input fruits, called the "from" and the "into" fruits, create one new fruit the "result" fruit<br/> \u2022 The result fruit will initially have the same abilities as the "into" fruit, but some may be pushed out if transferring occurs<br/> \u2022 Any abilities in the "from" fruit that match the "into" fruit, will charge up the matching ability: it becomes charged (marked [*]), or transferable (marked [**]) if already charged<br/> \u2022 Any abilities in the "from" fruit that are transferable [**] will be transferred to the result fruit and push out the last ability of the result fruit. The fuse dialog also gives the option to disable some of them from being transferred, if they are undesired.<br/> \u2022 Any other abilities of the "from" fruit disappear and don\'t matter, the only abilities of the "from" fruit that matter are: abilities that match the "into" fruit (to charge them up), and transferable abilities (to replace abilities).<br/> \u2022 The order of abilities of the input fruits matters (to determine which get pushed out), but you can freely reorder abilities: either in the regular fruit dialog (where abilities can be moved up or down), or using the priority checkboxes in the fuse dialog.<br/> \u2022 The seasonal abilities of some fruit types (pineapple, ...) do not participate in fusing. The resulting fruit will be an apple if the two original fruits are of a different type, or will be seasonal if both original fruits are the same seasonal type (e.g. both pineapple). Some later upgrades in the game change this.<br/> \u2022 After fusing, abilities will be auto-leveled up (using the usual amount of fruit essence), based on what levels they had before, and leaving some essence unused if a new unupgraded ability is added. You may need to do a few more upgrades manually again anyway. No essence is lost in this process.<br/><br/>Summary of the rules: getting 3 fruits with the same ability allows, with at least two fuse actions, to create a transferable ability that you can transfer to any fruit of choice with a third fuse action, replacing an unwanted ability of choice.<br/>Example: if you desire a silver fruit with flower boost and berry boost, one way you could reach it is:<br/> \u2022 collect 3 silver fruits that have flower boost in any slot, fruits A, B and C<br/> \u2022 fuse A with B, resulting in a fruit AB with charged flower boost, marked [*]<br/> \u2022 fuse AB with C, resulting in a fruit ABC with transferable flower boost, marked [**]<br/> \u2022 collect a fruit D that has berry boost, and if necessary, move berry boost to the first slot<br/> \u2022 fuse ABC into D, resulting in the desired fruit with flower boost and berry boost. Don\'t forget to level up its abilities, since they\'ll all be set to level 1.';
fy(1)&&(d+="<br/><br/><b>Seasonal fruit mixing</b><br/><br/>You unlocked the squirrel upgrade for seasonal fruit mixing! This works when fuxing certain combinations of two different seasonal fruits together.<br/><br/>The combinations are:<br><br>\u2022 Apricot + Pineapple = Mango (spring + summer)<br>\u2022 Pineapple + Pear = Plum (summer + autumn)<br>\u2022 Pear + Medlar = Quince (autumn + winter)<br>\u2022 Medlar + Apricot = Kumquat (winter + spring)<br/><br/>If you also have the second fruit mixing upgrade purchased, then in addition you can create the all-season star fruit. This one is harder to fuse, since the fruits must also have the same set of abilities:<br><br>\u2022 Mango + Quince = Star Fruit (4 seasons)<br>\u2022 Plum + Kumquat = Star Fruit (4 seasons)<br/><br/>If you also have the third fruit mixing upgrade purchased, then in addition you can create the dragon fruit. It's like the star fruit, but gives more season bonus. It's created by fusing star fruit and apple, and they must have the same set of abilities again.<br><br>\u2022 Star Fruit + Apple = Dragon Fruit (stronger 4 seasons boost)<br><br><br/>");
b.content.a.innerHTML=d}
function VQ(a,b){function d(){function n(t,ya,Ka){var oa=Ka||D;(new F(u,[.01,0,ya||0],[0,0,oa],1,[0,0,oa+.1])).a.innerText=t;void 0==Ka&&(D+=.05)}var u=p.content,x=u.a.scrollTop;u.clear();for(var y=[],r=-1,v=0;v<G.Z.length+G.ea.length;v++){var w=v<G.Z.length?G.Z[v]:G.ea[v-G.Z.length];w!=a&&w.g==a.g&&(-1==r&&100<=w.slot&&(r=y.length),y.push(w))}0==r&&(r=-1);var H=0,D=.03;n("Fusing exists to gradually choose a set of abilities from the random drops, it doesn't make fruits stronger. Only abilities marked [**] can be transferred to other fruits. The [*] then [**] marks can be created by fusing the same abilities. No fruit essence is lost from fusing.");D+=
.1;D+=.05;n("Choose other fruit to fuse:");for(v=0;v<y.length;v++){0!=v&&v==r&&(H=0,D+=.1,D+=.1*.1,n("Sacrificial:"),D-=.1*.1);H>.1*9.5&&(H=0,D+=.1);var A=new F(u,[.01,0,H],[0,0,D],[.01,0,H+.1],[0,0,D+.1]);H+=.1;w=y[v];WQ(A,w,0,void 0,!0,void 0,!0);Ga(A.a);E(A.a,B(function(t){TQ=g=t;e();d()},w),"select "+XQ(w))}0==y.length&&(A=new F(u,.01,[0,0,D],.9,[0,0,D+.1]),A.a.innerText="[ No fruit to fuse, must have at least 1 other fruit of the same tier ]");D+=.1;y=D+=.05;n("From:");n("Into:",.2,y);var I=
D;for(v=H=0;3>v;v++)if(A=new F(u,[.01,0,H],[0,0,D],[.01,0,H+.1],[0,0,D+.1]),H+=.1,w=a,h!=(0==v)&&(w=g),1==v){var X=pb("0%","0%","100%","100%",A.a);qb(ee,X);Ga(A.a,!0);E(A.a,B(function(t,ya){if(ya.shiftKey){if(!g)return;g=t}else h=!h;d()},a),"swap fuse order");Lb(A.a,"Swap the fuse order of the two input fruits")}else{if(w){var z=0==v?'First selected fuse fruit: the "from" fruit':'Second selected fuse fruit: the "into" fruit';WQ(A,w,0,void 0,!0,z,!0)}else A.a.style.backgroundColor="#ccc",A.a.style.border=
"1px solid black",Lb(A.a,"Empty fuse fruit slot, select a fruit above to fuse");Ga(A.a);var $a=0==v?"From fruit":"Into fruit";E(A.a,B(function(t){t?YQ(t,$a+" stats"):T($a+" empty, select one from the list above first",uB)},w,v),$a+": see stats"+(w?". "+XQ(w):". Empty."))}D+=.1;n("Fused result:",.4,y);D+=.05;n("Result stats:");A=0;fy(1)&&(A=2);fy(2)&&(A=4);fy(3)&&(A=5);v=[void 0];y=h?g:a;r=h?a:g;X=ry(y,r,A,k,l,v);H=0;A=new F(u,[.01,0,H+.4],[0,0,I],[.01,0,H+.1+.4],[0,0,I+.1]);H+=.1;X?(WQ(A,X,0,void 0,
!0,"fused fruit result",!0),Ga(A.a),E(A.a,B(function(t){YQ(t,"Fuse result fruit stats")},X),"Fused result: see stats"+(w?". "+XQ(w):""))):(A.a.style.backgroundColor="#ccc",A.a.style.border="1px solid black",Lb(A.a,"Fused fruit appears here when successful"),E(A.a,B(function(){T($a+" empty, select one from the list above first",uB)},X),"Fused result: see stats. Empty"));v[0]&&(D+=.025,H=0,A=new F(u,[.01,0,0],[0,0,D],[.99,0,0],[0,0,D+.1]),H+=.1,A.a.innerHTML=v[0]+"<br><br><br><br>&nbsp;",A.a.style.color=
v[1]?"#f00":"#0a0",D+=.1*1.1);if(X){w=.1*.35;H=new F(u,[.01,0,0],[0,0,D],1,[0,0,D+1]);for(v=-1;v<X.V.length;v++)if(A=new F(H,0,"a",1,"a"),A.a.style.marginBottom="1.4em",-1==v)A.a.innerText=la(X.toString())+", fused "+X.Xd+" times";else{z="";I=h?g:a;var db=!1;v<I.V.length&&I.V[v]==X.V[v]&&X.Ua[v]>I.Ua[v]&&(db=!0);z+="ability: "+X.wd(v,!1,!1,db);z=v<I.V.length?z+("  (was: "+I.wd(v)+")"):z+"  (was: none)";A.a.innerHTML=z}for(v=z=0;v<r.V.length;v++)2==r.Ua[v]&&z++;if(0==z)D+=w,(new F(A,0,"a",1,"a")).a.innerText=
'\nWhen the "from" fruit has two-star [**] abilities, you can transfer them to the "to" fruit. To get [**] abilities, fuse two fruits with the same ability to get [*], then one more fuse to get [**].\n\n';else{D+=w;(new F(A,0,"a",1,"a")).a.innerText='\nTwo-star [**] abilities below are transferred from the "from" fruit into the "to" fruit. Optionally you can use the checkboxes below to prevent some abilities from transferring, or to prioritize which original abilities get kept and pushed out:\n\n';
D+=5*w;I=[];for(v=0;v<r.V.length;v++)2==r.Ua[v]&&(A=new F(H,0,"a",1,[0,0,w]),A.a.style.marginBottom="0.1em",z="",db=new F(A,0,0,[0,1],1),A=new F(A,[0,1.2],0,1,1),X=pb("0%","0%","100%","100%",db.a),qb(k[v]?Dc:Ec,X),I[r.V[v]]=!0,Ga(db.a),E(db.a,B(function(t){k[t]=!k[t];d()},v),"Checkbox to transfer "+r.wd(v)+": "+(k[v]?"checked":"unchecked")),z+=r.wd(v),z+="\n",A.a.innerText=z,D+=1.2*w);for(v=0;v<q;v++)I[y.V[v]]||(A=new F(H,0,"a",1,[0,0,w]),A.a.style.marginBottom="0.1em",z="",db=new F(A,0,0,[0,1],1),
A=new F(A,[0,1.2],0,1,1),X=pb("0%","0%","100%","100%",db.a),qb(l[v]?Dc:Ec,X),Ga(db.a),E(db.a,B(function(t){l[t]=!l[t];d()},v),"Checkbox to prioritize "+y.wd(v)+": "+(l[v]?"checked":"unchecked")),z+=y.wd(v),z+="\n",A.a.innerText=z,D+=1.2*w)}}u.a.scrollTop=x}function e(){for(var n=0;n<q;n++)k[n]=!0,l[n]=!1}var f=$O;TQ=$O=null;var g=WO=void 0,h=!1,k=[],l=[],p=Da({undefined:void 0,vb:function(){g&&(h?W({type:ZQ,Jn:g,A:a,Ko:k,mo:l}):W({type:ZQ,Jn:a,A:g,Ko:k,mo:l}));Hm();b&&b($O)},names:"fuse",Cp:!0,title:"Fuse fruits",
pb:B(UQ,!0),onclose:function(){$O=f;TQ=null}}),q=ny(a.g);e();d()}function $Q(a,b){b=Da({onclose:b,title:"Mark fruit border color",sb:"efDialogTranslucent",icon:ne});for(var d=aR.length,e=0;e<d;e++){var f=(new F(b.content,.25,(e+.05)/d,.8,(e+.75)/d)).a;La(f);f.j.innerText=bR[e];f.style.color=m.gp(aR[e]);f.style.backgroundColor=aR[e];E(f,B(function(g){a.mark=g;Ha()},e))}}
function cR(a,b,d){function e(){for(var A=0;A<p.length;A++){A==l?(p[A].a.style.boxShadow="0px 0px 5px #000",p[A].a.style.border="",p[A].a.style.backgroundColor="#8f8"):(p[A].a.style.boxShadow="",p[A].a.style.border="1px solid #000",p[A].a.style.backgroundColor="#6d6");var I=iy(b.V[A],b.Fa[A],b.g);I=I.ca.Wk(G.b.ca.sub(b.ca));hy(b.V[A])?(p[A].a.style.color="#0008",p[A].a.style.textShadow="2px 0 #fff8, 0 2px #fff8"):(p[A].a.style.color=I?"#000":"#797",p[A].a.style.textShadow="")}A=b.V[l];var X=b.Fa[l];
if(0>l||hy(A)){if(y.a.innerHTML="click ability to view or level up",x.a.style.visibility="hidden",0>l)return}else x.a.style.visibility="";q+=n;k=la(vo(A));hy(A)||(k+=" "+rs(X));k+="<br>";k+=la(SQ(A));k+="<br>";hy(A)?(k+="Boost: "+K(qn(A,X,b.g)),k+="<br>",k+="<br>",k+="This is an inherent fruit ability. It doesn't take up a regular ability slot for this fruit tier. It cannot be upgraded nor moved."):(I=iy(A,X,b.g),k+="Current level: "+K(qn(A,X,b.g)),A==Tx&&(k+=" (target: "+K(qn(A,X,b.g,void 0,1))+
")"),k+="<br>",k+="Next level: "+K(qn(A,X+1,b.g)),A==Tx&&(k+=" (target: "+K(qn(A,X+1,b.g,void 0,1))+")"),k+=", cost: "+I.toString(),H.j.innerText="Buy 1",A=G.b.ca.sub(b.ca),A.ka(I.ca)?H.className="efButtonCantAfford":H.className="efButton",xa(H,function(){W({type:dR,Yc:b,index:l,shift:!1});Hm();f()},"Buy 1",{Ba:"Levels up this ability. Does not permanently use up essence, only for this fruit: all essence can be used in all fruits."}),w.j.innerText="Buy many",A=G.b.ca.sub(b.ca),A.i(.25).ka(I.ca)?w.className=
"efButtonCantAfford":w.className="efButton",xa(w,function(){W({type:dR,Yc:b,index:l,shift:!0});Hm();f()},"Buy many",{Ba:"Levels up this ability multiple times, using up to 25% of the available essence. Does not permanently use up essence, only for this fruit: all essence can be used in all fruits."}),v.j.innerText="^",v.className=0>=l?"efButtonCantAfford":"efButton",xa(v,function(){0>=l||(W({type:eR,Yc:b,index:l,Lo:!0}),l--,Hm(),f())},"Move ability up",{Ba:"Moves up this ability in the order. This has no effect on ability strength, but can affect fusing of fruits"}),
r.j.innerText="v",r.className=l+1>=ny(b.g)?"efButtonCantAfford":"efButton",xa(r,function(){l+1>=ny(b.g)||(W({type:eR,Yc:b,index:l,Lo:!1}),l++,Hm(),f())},"Move ability down",{Ba:"Moves down this ability in the order. This has no effect on ability strength, but can affect fusing of fruits"}),xa(D,function(){l=-1;f()},"Close fruit ability popup",{Ba:"Close fruit ability popup"}));y.a.innerHTML=k}function f(A){A&&(b=A);cR(a,b,l)}a.content.clear();a.icon.clear();$O!=b&&($O=b);var g=new F(a.icon,.05,.05,
.95,.95),h=pb("0%","0%","100%","100%",g.a);qb(Xd[b.type][b.g],h);fR(g,b);g=new F(a.content,.1,.01,.9,.15);var k=la(b.toString());h=G.b.ca.sub(b.ca);k+="<br>";k+="Tier "+rs(b.g)+": "+Oi[b.g]+", type: "+b.pn();k+="<br><br>";k+="Fruit essence available: "+h.toString()+" of "+G.b.ca.toString()+", "+b.ca.toString()+" used.";k+="<br>";ac(h,0)&&(k+="Note: negative essence: re-earn it to upgrade abilities further.",k+="<br>");k+="Get on sacrifice: "+ky(b).toString();b.Xd&&(k+="<br>",k+="Fuses done: "+b.Xd);
k+="<br><br>";k+="Click ability to view or level up: ";g.a.innerHTML=k;var l=void 0==d?-1:d,p=[],q=.26,n=.05;for(d=0;d<b.V.length;d++){g=new F(a.content,.1,q,.9,q+n);q+=1.1*n;h=b.V[d];var u=b.Fa[d];k=la(b.wd(d));k+=" ("+K(qn(h,u,b.g))+")";sa(g.a);g.a.j.innerHTML=k;p[d]=g;g.a.style.backgroundColor="#fff";Ga(g.a);E(g.a,B(function(A){l=A==l?-1:A;e()},d))}d=q+=.02;n=.05;g=.1*1.05;100>b.slot?(h=(new F(a.content,g,q,1-g,q+n)).a,q+=1.1*n,La(h),h.j.innerText="to sacrificial pool",E(h,function(){W({type:gR,
Yc:b,ol:1});Hm();fb()})):(h=(new F(a.content,g,q,1-g,q+n)).a,q+=1.1*n,La(h),h.j.innerText="to storage slot",G.Z.length>=G.Da&&(h.className="efButtonCantAfford"),E(h,function(){W({type:gR,Yc:b,ol:0});Hm();fb()}));h=(new F(a.content,g,q,1-g,q+n)).a;q+=1.1*n;La(h);h.j.innerText="move to slot (click target...)";xa(h,function(A){T("Click target slot to move this fruit into");WO=b;RQ=A;fb()},"move fruit to slot (click target...)",{Zc:"swap fruit with slot (click target...)",Ba:"after clicking this button, click any fruit slot in the fruit tab to move this fruit to"});
100>b.slot&&(h=(new F(a.content,g,q,1-g,q+n)).a,q+=1.1*n,La(h),h.j.innerText="make active",b.slot==G.ob&&(h.className="efButtonCantAfford"),E(h,function(){b.slot>=hR&&AH(b.slot,G.ob);G.ob=b.slot;aP();Hm();fb()}));0<b.g&&(h=(new F(a.content,g,q,1-g,q+n)).a,q+=1.1*n,La(h),h.j.innerText="fuse",E(h,function(){VQ(b,f)}));h=(new F(a.content,g,q,1-g,q+n)).a;q+=1.1*n;La(h);h.j.innerText="rename";E(h,function(){ic("Rename fruit","Enter new fruit name, or empty for default",function(A){b.name=Bc(A);aP();Ua&&
f()},b.name)});g=(new F(a.content,g,q,1-g,q+n)).a;q+=1.1*n;La(g);g.j.innerText="mark border color";E(g,function(){$Q(b,function(){aP();f()})});q=d;n=.35;var x=new F(a.content,.1,q,.9,q+n);x.a.className="efFruitAbilityBox";x.a.style.visibility="hidden";q+=n;var y=new F(x,.01,0,.9,.5),r=(new F(x,.01,.7,.15,.95)).a;La(r);var v=(new F(x,.16,.7,.3,.95)).a;La(v);var w=(new F(x,.31,.7,.645,.95)).a;La(w);var H=(new F(x,.655,.7,.99,.95)).a;La(H);var D=(new F(x,.92,[0,.01],.99,[0,.08])).a;qb(rb,pb("0%","0%",
"100%","100%",D));Ga(D);e()}function iR(a){var b=Da({onclose:function(){aP()},pb:B(UQ,!1),title:"Configure fruit",sb:"efDialogTranslucent"});cR(b,a,void 0)}function YQ(a,b){b=Da({title:b||"Fruit info"}).content;for(var d=0,e=-1;e<a.V.length;e++)(new F(b,[.01,0,0],[0,0,d],1,[0,0,d+.1])).a.innerText=-1==e?a.toString()+", fused "+a.Xd+" times":"ability: "+a.wd(e),d+=.05}var UF=!1;
function jR(){UF=!0;var a=Da({title:"Fruit storage slot sources",Ia:!0,icon:Ld[3],onclose:function(){UF=!1}});var b="You have "+G.Da+" fruit storage slots available. Here's where they came from:";b+="<br/><br/> \u2022 3: initial amount<br/>";0!=G.Rc&&(b+=" \u2022 1: for having seen at least 1 seasonal fruit<br/>");15==(G.Rc&15)&&(b+=" \u2022 1: for having seen all 4 types of seasonal fruit<br/>");240==(G.Rc&240)&&(b+=" \u2022 1: for having seen all 4 types of 2-seasonal fruit<br/>");256==(G.Rc&256)&&
(b+=" \u2022 1: for having seen a star fruit<br/>");512==(G.Rc&512)&&(b+=" \u2022 1: for having seen a dragon fruit<br/>");var d=0;G.S[fx].count&&d++;G.S[ux].count&&d++;G.S[xx].count&&d++;G.S[Dx].count&&d++;G.S[Gx].count&&d++;G.S[Kx].count&&d++;G.S[Mx].count&&d++;0<d&&(b+=" \u2022 "+d+": ethereal upgrades<br/>");G.P[iu].X&&(b+=" \u2022 "+G.P[iu].X+": for completing the rocks challenge",b+="<br/>");a.content.a.innerHTML=b}
function fR(a,b){a.a.style.backgroundColor=Qi[b.g]+"6";if(b.mark)a.a.style.border="3px solid "+(aR[b.mark]||"#fff");else if(b.name||b.Xd&&4>=b.type)a.a.style.border="2px solid #999";a.a.style.boxShadow=$O==b?"0px 0px 16px #000":TQ==b?"0px 0px 16px #800":"";a.a.style.outline="1px solid black"}var aR="#000 #f00 #dc0 #4c4 #66f #fff #f80 #840 #b0f".split(" "),bR="none red yellow green blue white orange brown purple".split(" ");
function XQ(a,b){if(!a)return b||"none";b="";a.name&&(b+='"'+a.name+'". ');b+=a.wo();a.mark&&(b+=". Mark: "+bR[a.mark]);return b}
function kR(a,b){var d="";b&&(d+=b+"<br>");d+=la(a.toString());d=d+"<br>Tier "+(rs(a.g)+": "+Oi[a.g]+", type: "+a.pn());d+="<br>";for(b=0;b<a.V.length;b++){var e=a.V[b],f=a.Fa[b];d+="<br>";d=hy(e)?d+("Extra ability: "+la(a.wd(b))+" ("+K(qn(e,f,a.g))+")"):e==Qx?d+("Ability: "+la(a.wd(b))):d+("Ability: "+la(a.wd(b))+" ("+K(qn(e,f,a.g))+")")}d=d+"<br><br>Fruit essence available: "+(G.b.ca.sub(a.ca).toString()+" of "+G.b.ca.toString());return d=d+"<br>Get on sacrifice: "+ky(a).toString()}
function lR(a,b,d,e){d||e?100<=a.slot?G.Z.length>=G.Da||(W({type:gR,Yc:a,ol:0}),Hm()):(W({type:gR,Yc:a,ol:1}),Hm()):WO&&void 0!=b?(W({type:gR,Yc:WO,Ij:b,Gl:RQ}),WO=void 0,Hm()):iR(a)}
function WQ(a,b,d,e,f,g,h){var k=new F(a,[0,0,0,0,1],[0,0,0,0,1],[1,0,0,0,-1],[1,0,0,0,-1]),l=new F(k,0,0,1,1);a.a.style.backgroundColor="#000";k.a.style.backgroundColor="#aaa";k=pb("0%","0%","100%","100%",l.a);qb(Xd[b.type][b.g],k);g=B(kR,b,g);fR(l,b);a.a.style.userSelect="none";k=l=void 0;f||(d=0==d?"storage":"sacrificial",k=void 0==e?d+" slot: "+XQ(b):d+" slot "+e+": "+XQ(b),Ga(a.a),l=B(lR,b,e));xa(a.a,l,k,{Ba:g,op:!h})}var mR=-1;
function nR(a,b,d){d&&(a.a.draggable=!0,m.Tc(a.a,"dragstart",function(){mR=d.slot;hb()}));m.Tc(a.a,"drop",function(e){e.preventDefault();e=mR;mR=-1;0<=e&&e<=100+G.ea.length&&(e=wH(e))&&(W({type:gR,Yc:e,Ij:b}),Hm())});m.Tc(a.a,"dragenter",function(e){e.preventDefault();return!1});m.Tc(a.a,"dragover",function(e){e.preventDefault();return!1});m.Tc(a.a,"dragend",function(e){e.preventDefault();mR=-1;return!1})}var hR=10;function XK(){return Math.min(hR,G.Da)}
function aP(){var a=0;QQ&&(a=QQ.a.scrollTop);oR.clear();var b=new F(oR,0,.01,.98,1);wb(b);var d=Math.max(10,XK()),e=1/d,f=0,g=G.Da,h=new F(b,.01,[0,0,f+.1/3],.85,[0,0,f+.1]);f+=.1*.8;var k='<font color="red">none</font>';-1==G.ob&&(k='<font color="red">none, click arrow above a fruit to select one</font>');var l=uH();l&&(k=l.toString()+": "+l.vi(!0,!0));h.a.innerHTML="Fruit essence: "+G.b.ca.toString()+". Active fruit: "+k;k="The chosen active fruit. Active fruit requires a fruit in storage, and the arrow above it lit. You can choose it using the arrow buttons below.";
Ga(h.a);Lb(h.a,k);E(h.a,function(){aQ(7)});h=new F(b,.01,[0,0,f+.1/3],.33,[0,0,f+.1]);f+=e;h.a.innerText="Stored fruits ("+G.Z.length+" / "+G.Da+")";k="Fruits in storage slots are kept after transcension, unlike those in the sacrificial pool. To get a fruit in here, click a fruit elsewhere and use its dialog to move it to storage, or drag and drop it here.";Lb(h.a,k);var p=XK();0<G.ob&&G.ob>=p&&(G.ob=p-1);var q=[];if(OH())for(l=0;l<G.ua.length;l++){var n=G.ua[l];var u=n.ij();u.ze&&(q[u.Gd]=!0);n.effect.ze&&
(q[n.effect.Gd]=!0)}for(l=n=0;l<p;l++){u=new F(b,[.01,0,n],[0,0,f],[.01,0,n+e],[0,0,f+e]);n+=e;var x=pb("0%","0%","100%","100%",u.a),y=l==G.ob?$d:ae;q[l]&&(y=l==G.ob?ce:de);qb(y,x);x=l<G.Z.length?G.Z[l]:void 0;Ga(u.a,!0);y="Make this fruit active";x&&(y+="<br><br>"+kR(x));Lb(u.a,y);E(u.a,B(function(r){var v=r;r==G.ob&&(v=-1);W({type:YK,slot:v,silent:!0,Ln:!0});Hm()},l),"activate fruit "+l+": "+XQ(G.Z[l],"none"))}f+=e;Ga(h.a);E(h.a,jR);for(l=n=0;l<g;l++)n+.5*e>e*d&&(n=0,f+=1.2*e),u=new F(b,[.01,0,
n],[0,0,f],[.01,0,n+.98*e],[0,0,f+e]),n+=e,u.a.style.border="1px solid black",(x=l<G.Z.length?G.Z[l]:void 0)?WQ(u,x,0,l):(u.a.style.backgroundColor="#ccc",xa(u.a,B(function(r,v){WO?(W({type:gR,Yc:WO,Ij:v,Gl:RQ}),WO=void 0,Hm()):($O=null,aP(),T("No stored fruit present in this slot. "+r,uB,0,0))},k,l),"empty storage fruit slot",{Ba:"No stored fruit present in this slot. "+k})),nR(u,l,x);f+=e;h=new F(b,.01,[0,0,f+.1/3],.99,[0,0,f+.1]);f+=e;h.a.innerText="Sacrificial fruit pool ("+G.ea.length+" / \u221e)";
k="Fruits in here will be turned into fruit essence on the next transcension. To get a fruit in here, click a fruit elsewhere and use its dialog to move it to the sacrificial pool, or drag and drop it here. Note that if the sacrificial pool has multiple rows, the most recent row will be at the top instead of the bottom so the best fruits are shown higher up.";Lb(h.a,k);g=Math.max(6,G.ea.length+2);h=Math.ceil(Math.max(6,G.ea.length+2)/Math.max(10,XK()));n=0;p=f;for(l=0;l<g;l++)u=p+h*e-(f-p+e),u=new F(b,
[.01,0,n],[0,0,u],[.01,0,n+.98*e],[0,0,u+e]),n+=e,n+.5*e>e*d&&l+1<g&&(n=0,f+=e),u.a.style.border="1px solid black",(x=l<G.ea.length?G.ea[l]:void 0)?WQ(u,x,1,l):(q=Math.min(l,l-G.ea.length+4),0==q?(u.a.style.border="1px solid #000",u.a.style.backgroundColor="#ccc"):1==q?(u.a.style.border="1px solid #0008",u.a.style.backgroundColor="#ccc8"):2==q?(u.a.style.border="1px solid #0004",u.a.style.backgroundColor="#ccc6"):3==q?(u.a.style.border="1px solid #0002",u.a.style.backgroundColor="#ccc4"):4==q?(u.a.style.border=
"1px solid #0002",u.a.style.backgroundColor="#ccc2"):5==q&&(u.a.style.border="1px solid #0002",u.a.style.backgroundColor="#ccc1"),Lb(u.a,"No fruit present in this sacrificial pool slot. "+k),E(u.a,B(function(r,v){WO?(W({type:gR,Yc:WO,Ij:v+100,Gl:RQ}),WO=void 0,Hm()):($O=null,aP(),T("No fruit present in this sacrificial pool slot. "+r,uB,0,0))},k,l),"empty sacrificial fruit slot")),nR(u,l+100,x);f+=e;0<G.zc.length&&(f+=e/4,d=new F(b,.01,[0,0,f],.35,[0,0,f+.8*e]),La(d.a),sa(d.a),d.a.j.innerText="Recover sacrificed fruit",
E(d.a,function(){pR()},"Recover sacrificed fruit"),f+=.6*e);CH().empty()||(h=new F(b,.01,[0,0,f+.1/3],.99,[0,0,f+.1]),f+=e,h.a.innerText="Sacrifice value on transcend: "+CH());b.a.scrollTop=a}function jP(a){return a?0<vH(a,pn)?6:0<vH(a,Gn)?5:0<vH(a,xo)||0<vH(a,Ap)?4:0<vH(a,Sx)||0<vH(a,Rx)||0<vH(a,Ux)?3:0<vH(a,yo)?2:0<vH(a,aq)?1:0:7}
function qR(a){for(var b=-1,d=0;d<G.Z.length;d++){var e=G.Z[d];e&&(b=Math.max(b,e.g))}if(a.g>b)return 2;if(a.g<b)return 0;var f=0,g=0,h=0<a.type;for(d=0;d<G.Z.length;d++)if(e=G.Z[d]){e.g==b?f++:e.g+1==b&&g++;var k;if(k=h&&e.g==b)k=a.type,k=e.type==k||9==e.type||10==e.type?!0:5==e.type?1==k||2==k:6==e.type?2==k||3==k:7==e.type?3==k||4==k:8==e.type?4==k||1==k:!1;k&&(h=!1)}return h?2:f<g?1:0}var rR=void 0;function sR(){rR&&(ob(rR,hc),rR=void 0)}
function tR(a){T(a,sP,208302236);sR();rR=new F(hc,.2,.85,.8,.95);rR.a.style.backgroundColor="#cfcd";var b=new F(rR,.01,[.5,0,-.35],[0,0,.7],[.5,0,.35]);b=pb("0%","0%","100%","100%",b.a);qb(Ld[3],b);b=new F(rR,[0,0,.7],[.5,0,-.35],.99,[.5,0,.35]);b.a.style.color="#000";b.a.innerHTML=a;E(rR.a,sR)}
function yM(a){for(var b=hR,d=Da({undefined:void 0,Ia:!0,title:"Select fruit slot",pb:"Select fruit to automatically swap to when triggering this automaton action. This selects the fruit slot, not the fruit: if you move fruits around in the fruit tab, the original slot position, not the moved fruit, is used. In the fruit tab, the selected slot will show a small gear icon as a reminder. Only slots from the topmost row can be selected."}).content,e=0,f=.03,g=0;g<G.Da&&!(g>=b);g++){e>.1*9.5&&(e=0,f+=
.1);var h=G.Z[g],k=new F(d,[.01,0,e],[0,0,f],[.01,0,e+.1],[0,0,f+.1]);e+=.101;h?WQ(k,h,0,void 0,!0):(k.a.style.backgroundColor="#ccc",k.a.style.border="1px solid black",Lb(k.a,"Slot "+g+", no stored fruit present in this slot."));Ga(k.a);var l="select fruit slot "+g;h&&(l+='. "'+XQ(h)+'"');E(k.a,B(function(p){a(p);Ha()},g),l)}}
function pR(){for(var a=Da({undefined:void 0,Ia:!0,title:"Select sacrificed fruit to recover",pb:"This allows to recover fruits that were sacrificed the previous run. This allows recovering fruit if it was forgotten before transcend, but this cannot be used as additional storage: only fruits that were dropped by the tree the previous run are available in here, and on a next transcend they will be gone.<br><br>Any essence gained from sacrificing the fruit, will be taken back."}).content,b=0,d=.03,
e=d+.1*Math.ceil(G.zc.length/10),f=0;f<G.zc.length;f++){b>.1*9.5&&(b=0,d+=.1);var g=e-d,h=G.zc[f];g=new F(a,[.01,0,b],[0,0,g],[.01,0,b+.1],[0,0,g+.1]);b+=.101;WQ(g,h,0,void 0,!0,void 0,!0);Ga(g.a);var k="select fruit slot "+f;h&&(k+='. "'+XQ(h)+'"');E(g.a,B(function(l){W({type:uR,yo:l});Ha();Hm();$O=G.ea[0];aP()},f),k)}};var vR=0,wR=[],xR={},yR=void 0;function dK(){yR&&(ob(yR,hc),yR=void 0)}function zR(a){dK();yR=new F(hc,.19,.86,.81,.94);yR.a.style.backgroundColor="#cffd";yR.a.style.zIndex=15;var b=new F(yR,.01,[.5,0,-.35],.99,[.5,0,.35]);b.a.style.color="#000";sa(b.a);b.a.j.innerHTML=a;E(yR.a,dK)}
function AR(a,b,d,e,f,g,h,k){var l=0>a;a=Math.abs(a);var p=!!G.Za[a],q=!!G.Id[a];G.Za[a]=a;if(!k){var n=!1;l||(G.Fe[a]&&(n=!0),G.yg&&(n=q,G.Id[a]=a));h||p&&!G.Qa[3]||(n?""!=b&&T(b||d,us,175786661):T(d,us,175786661))}if(l)return!1;l=!0;h||(G.Fe[a]&&(l=!1),xR[a]&&(G.Fe[a]=a,l=!1),G.yg&&(l=!1));if(!l)return!p&&b&&zR(b),!1;0>vR&&(vR=0);if(vR)return wR.push(arguments),!0;f&&(d+=f);G.Id[a]=a;if(!h){var u=function(){G.Fe[a]=a;xR[a]=a};var x="never show again"}p=zB[a].name;vR++;u=Da({size:g?ab:2,title:p,
icon:e,vb:u,names:x,Wc:"ok",lo:!0,onclose:function(){vR--;if(wR.length){var y=Array.prototype.slice.call(wR[0],0);y[7]=!0;wR.shift();AR.apply(this,y)}},sb:"efDialogTranslucent"});x=.8;if(g){x=g[0].length;p=g.length;for(l=0;l<p;l++)for(q=0;q<x;q++)g[l][q]&&(n=new F(u.content,[.25,0,.3*(q/x-.5)],[.85,0,.3*(l/p-.5)],[.25,0,.3*((q+1)/x-.5)],[.85,0,.3*((l+1)/p-.5)]),n=pb("0%","0%","101%","101%",n.a),qb(g[l][q],n));x=.7}u=new F(u.content,0,0,1,x);wb(u);u.a.innerHTML=d;return!0}var BR=[],zB={};
function CR(a,b,d,e,f,g,h){BR.push(a);zB[a]={};var k=zB[a];k.id=a;k.Go=d;k.name=b;k.text=e;k.image=f;k.yp=g;k.images=h}function qu(a,b){var d=0>a;a=Math.abs(a);if(a=zB[a]){var e="function"==typeof a.text?a.text():a.text;return AR(a.id*(d?-1:1),a.Go,e,a.image,a.yp,a.images,b)}}CR(8,"Upgrades","You unlocked your first upgrade!",'You unlocked your first upgrade! Upgrades can unlock new crops, upgrade existing crops, or have various other effects. Upgrades usually cost seeds.<br><br>Upgrades can be performed in the "upgrades" tab. Depending on screen size, it may also be available directly on the right side of the screen.');
CR(3,"Permanent crop & watercress copying","You unlocked your first permanent type of plant.","You unlocked your first permanent type of plant. Plants like this don't wither, keep producing forever, and have much more powerful production upgrades too.<br><br>Watercress also remains useful: if you plant a watercress next to permanent plants, it copies all its orthogonal neighbors' production, no matter how high level it is. However there's a penalty to copying for having many watercress, so max 1 or 2 makes sense.<br><br>TIP: See shortcuts in the main help menu for various shortcuts that make planting easier (\"p\" or shift+click to plant last crop, ctrl+click to plant watercress, ...).",
void 0,"<br><br>The image below shows an optimal configuration to use for watercress copying: it duplicates the production of 4 blackberries:",[[void 0,ve[4],void 0],[ve[4],Ff[4],ve[4]],[void 0,ve[4],void 0]]);
CR(19,"Mushrooms","You unlocked your first type of mushroom","You unlocked your first type of mushroom. Mushrooms produce spores, but they consume seeds from orthogonally touching berries. If the berry cannot produce enough seeds for the mushroom, the mushroom produces less spores.<br><br>Spores let the tree level up (but mushrooms don't have to touch the tree), unlocking next kinds of bonuses.<br><br>The mushroom can (and should!) be boosted by flowers. This boosts its production, but also increases its seed consumption.<br><br>Leave some berries without mushrooms too, otherwise you won't get enough seed production for next upgrades and crops.",void 0,
"<br><br>The image shows a possible configuration for mushrooms: it extracts seeds from the berry it touches. In addition, both the mushroom and berry are boosted by flowers. In addition, there's another berry that doesn't touch a mushroom so that there's some global seed production too.",[[Ye[4],we[4],void 0],[Qe[4],Qe[4],void 0],[we[4],Qe[4],void 0]]);
CR(20,"Flowers","You unlocked your first type of flower","You unlocked your first type of flower. Flowers boost resource-producing crops such as berries and mushrooms, if planted next to them. It can boost all the 4 orthogonal neighboring crops.",void 0,"<br><br>The image shows a possible good configuration for flower boost: multiple flowers boost multiple berries. The center-most blackberry is receiving the boost 4 times.",[[ve[4],Qe[4],ve[4]],[Qe[4],ve[4],Qe[4]],[ve[4],Qe[4],ve[4]]]);
CR(21,"Nettles","Unlocked a new crop: nettle. Nettle boosts mushrooms it touches orthogonally, but hurts flowers and berries.","Unlocked a new crop: nettle. Nettle boosts mushrooms it touches orthogonally, but hurts flowers and berries. The mushroom boost increases spore production without increasing seeds consumption. The boost is an additional multiplier independent from flower boost to mushroom, so having both a nettle and a flower works even better.",yf[4],"<br><br>The image shows a possible configuration where the mushroom receives boost from both nettle (top) and flower (bottom). The top left flower and top right blackberry in this image however are negatively affected by the nettle.",
[[Qe[4],yf[4],ve[4]],[we[4],Ye[4],we[4]],[Re[4],Re[4],Re[4]]]);CR(6,"Tree leveled up","Tree leveled up","Thanks to spores, the tree completely rejuvenated and is now a "+Li[xy(1)][0]+", level 1. More spores will level up the tree more. The tree can unlock abilities and more at higher levels. Click the tree in the field for more info.",void 0,void 0,[[void 0,Li[xy(1)][1][0]],[void 0,Li[xy(1)][2][0]]]);
CR(12,"Sun ability","Tree reached level 2 and discovered sun ability","The tree reached level 2 and discovered the sun ability!<br><br>"+Bn[tn].description,Hd);CR(14,"Mist ability","Tree reached level 4 and discovered mist ability","The tree reached level 4 and discovered the mist ability! You now have multiple abilities, only one ability can be active at the same time.<br><br>"+Bn[vn].description,Gd);
CR(15,"Rainbow ability","Tree reached level 6 and discovered rainbow ability","The tree reached level 6 and discovered the rainbow ability!<br><br>"+Bn[xn].description,Id);
CR(2,"Tree dropped fruit","Tree reached level 5 and dropped a fruit",'The tree reached level 5 and dropped a fruit! Fruits provide boosts and can be upgraded with fruit essence. Essence is gained by sacrificing fruits, and the full amount of fruit essence can be used for upgrading all other fruits at the same time. See the "fruit" tab, it also has a more extensive help dialog for fruits.<br><br>A possible strategy: keep fruits with good abilities you like. Sacrifice any other surplus fruits, so you can use the essence to upgrade the good fruits.',Ld[0]);
CR(18,"Tree dropped better fruit","Tree reached level 15 and dropped another fruit","The tree reached level 15 and dropped another fruit! It drops one every 5 levels. Fruits from higher tree levels have random probability to be of better, higher tier, types.",Ld[1]);
CR(7,"Tree can transcend","Tree reached level 10 and it's now possible to transcend","The tree reached adulthood at level 10, and is now able to transcend! Click the tree in the field to view the transcension dialog.<br><br>Transcension will restart the basic field from the beginning, but will unlock a new type of field and a new type of upgrades. You can choose to transcend now, or level the tree a bit more first and transcend later.<br><br> The tree also dropped another fruit, check the fruit tab whether you want to keep it since it's in the sacrificial pool for now.",void 0,
void 0,[[void 0,Li[xy(10)][1][0]],[void 0,Li[xy(10)][2][0]]]);
CR(1,"Transcension","You performed your first transcension! You can use resin in the ethereal field tab.","You performed your first transcension! Check the new ethereal field tab, spend resin on ethereal plants for bonuses to your basic field. Get more resin by transcending again.",void 0,"<br><br>The following image shows an example of an ethereal field setup with several ethereal crops that give boosts to the main field: all types of basic field berries, mushrooms and flowers are boosted by this example, and runs start with starting seeds from the fern. The image also shows a white lotus that boosts the neighboring ethereal crops to make their boosts even bigger.",[[dg[4],
Qe[4],void 0],[ve[4],Nf[4],Ye[4]],[void 0,ve[4],void 0]]);CR(9,"Ethereal upgrades","You unlocked your first ethereal upgrade!",'You unlocked your first ethereal upgrade, thanks to planting an ethereal crop! Check the new "ethereal upgrades" tab to view this new type of upgrade. Ethereal upgrades cost resin, just like ethereal plants do, but ethereal upgrades are permanent and non-refundable, unlike ethereal crops which can be deleted give 100% refund');
CR(17,"Mistletoes","Unlocked a new crop: mistletoe","Unlocked a new crop: mistletoe. Mistletoe can be placed next to the basic field tree to create twigs, orthogonally, not diagonally. They produce twigs, which, like resin, you only actually get when transcending. Twigs help the ethereal field tree. However having more than one mistletoe increases the spore requirement for leveling the basic tree and slightly decreases resin gain, and more mistletoes give diminishing returns (but still increases it). Mistletoes that are not planted next to the tree do nothing at all.",
Uf[4],"<br><br>The image shows a possible configuration where mistletoes are next to the tree and thus give twigs on tree level up.",[[Li[xy(2)][1][0],Uf[4]],[Li[xy(2)][2][0],Uf[4]]]);
CR(22,"Ethereal tree leveled up","The ethereal tree leveled up, unlocking new ethereal upgrades, crops and boosts","Thanks to twigs, the ethereal tree leveled up! This is the tree in the ethereal field, not the one in the basic field. Leveling up the ethereal tree unlocks new ethereal crops and/or upgrades, depending on the level. Each level also provides a resin production boost to the basic tree.",void 0,void 0,[[void 0,Li[xy(1)][1][4]],[void 0,Li[xy(1)][2][4]]]);
CR(24,"Challenges","You unlocked a challenge!","You unlocked a challenge! Challenges can be accessed from the tree, as an alternative to regular transcension. All challenges give a production bonus (to seeds and spores, and a smaller amount to resin and twigs) for highest tree level reached. Challenges may also give one-time rewards for successfully reaching a certain level. Challenges can be ran as many times as desired, redoing them can increase the max level reached.",void 0);
CR(25,"Bee challenge",void 0,"You started the bee challenge! Rules are different from the standard game. You can click the tree at any time to view the current challenge rules, reward and stats. Plant some watercress or blackberry to get started.",bg[4],"<br><br>The image below shows a possible configuration for the bees: all workers touch a flower as required, drones touch workers for extra boost (so bees provide a boost-boost), and queens touch drones to make that boost stronger (a boost-boost-boost). More than 1 flower does not increase boost but multiple drones or queens do. The rightmost worker bee gives most boost because it touches 3 drones, and the topmost drone gives least boost since it touches the least queens. You can fill in gaps in the picture where more drones or queens would increase the boost more. Not shown in the picture is that you also need some mushroom and berry production running somewhere, which can also be boosted by flowers in the standard way.",
[[void 0,Zf[4],ag[4],bg[4]],[Zf[4],cg[4],Zf[4],ag[4]],[void 0,Zf[4],ag[4],bg[4]],[void 0,ag[4],bg[4],void 0]]);CR(26,"Challenge completed","","The tree reached the challenge's target level, you can successfully complete the challenge and can get its main reward! You can complete the challenge from the tree dialog, or continue to reach a higher level for more challenge max-level bonus. You can also replay the challenge at any later time to increase the max level.",void 0);
CR(27,"Bees","You unlocked bees!","You unlocked bees! Bees boost orthogonally neighboring flowers (in spring also diagonally), while flowers boost berries and mushrooms (so bees are a boost of a boost). This adds a new independent multiplier that can be upgraded to the game.",Xf[4],"<br><br>The image shows a possible configuration for bees, such that the bees boost flowers, which in turn boost berries and mushrooms. It's ensured both the mushroom and the berry it consumes from have a bee-boosted flower.",
[[void 0,Be[4],Te[4],Be[4]],[Be[4],Te[4],Xf[4],Te[4]],[void 0,Be[4],Te[4],Be[4]],[void 0,Xf[4],Te[4],af[4]]]);
CR(28,"Automaton & Blueprints","You unlocked the automaton!","You unlocked the automaton! You can place the automaton in the ethereal field. When placed, it gives a boost to neighbors, the automaton tab, and blueprints library in the tree, allowing to automate various parts of the game.<br><br>You must place the automaton in the ethereal field before this works, then go to the new automaton tab, and configure its settings before it actually automates anything.<br><br>More and more automation features become available later in the game.<br><br>When removing the automaton from the ethereal field, most automation features will be disabled, but they all come back the way they were when placing the automaton again.<br><br>The following new UIs are unlocked:<br> \u2022 Automaton tab.<br> \u2022 Blueprint library, accessible from the tree, both for basic field and ethereal field.<br><br>The automaton initially has the following features unlocked:<br> \u2022 Blueprints and templates: Templates are translucent blue looking versions of crops that can be placed in the field using the regular planting menu. Blueprints can be created and placed from the blueprint library, accessible from the tree.<br> \u2022 Auto-plant: the automaton will automatically plant crops according to a blueprint, and plant higher tiers once you unlock those tiers.<br> \u2022 Buttons to delete all crops in the main field or in the ethereal field: these are in the automaton tab and are for convenience.<br> \u2022 Neighbor boost in the ethereal field: the automaton in the ethereal field gives an independent boost to neighbors, similar to lotuses.<br>",lg[4],
void 0,[[void 0,mh[4],void 0],[mh[4],eh[4],mh[4]],[void 0,mh[4],void 0]]);
CR(29,"Auto upgrades","You unlocked auto upgrades!","You unlocked auto-upgrades for the automaton! See the automaton tab. You can enable or disable auto-upgrades, and choose a max cost the automaton is allowed to spend.<br><br>All basic upgrades that boost crops will be automatically performed by the automaton, at their normal cost, when enabled.<br><br>In addition, you can automate the choice upgrades, but you must configure which choice for which upgrade you prefer in the automaton settings first.",lg[4]);
CR(30,"Auto upgrades more options","You unlocked more auto upgrade options!",'You unlocked more finetuning options for the auto upgrades. See the automaton tab in the dialogs behind the "gear": you can now configure the max cost per crop type (berry, mushroom, flower, ...).',lg[4]);
CR(31,"Auto plant","You unlocked auto plant!","You unlocked auto-planting for the automaton! See the automaton tab. You can enable or disable auto-plant, and choose a max cost the automaton is allowed to spend.<br><br>How this works: the automaton will replace existing crops or blueprint templates with a higher tier, if that higher tier is unlocked. The automaton will not plant new crops from scratch, and will only replace crops or blueprint templates of the same type, e.g. berry to berry, flower to flower, ...<br><br>For example: If you have a blackberry, and now unlock blueberry, the automaton will automatically replace all planted blackberries in the field with blueberries, given enough resources.",lg[4]);
CR(32,"Auto plant more options","You unlocked auto plant more options!",'You unlocked more finetuning options for auto planting, you can now choose how many resources the automaton can spend on crops of each type. Use the "gear" button next to the auto-plant button to finetune these options',lg[4]);
CR(33,"Auto unlock","You unlocked auto-unlock!","You unlocked auto-unlock. This will unlock the next tiers of crops automatically. Combined with auto-plant and blueprint templates, this can almost fully automate a run.<br><br>Once you planted the general shape of your field with cheap crops or blueprint templates, everything will happen automatically from then on. Just place berries, mushrooms, flowers, nettles and bees once to indicate the layout.<br><br>Tip: ensure there are some berries that don't touch a mushroom, because if a mushroom consumes all seeds of a berry, income will stop and the automaton won't get resources for further upgrades and planting, resulting in a deadlock.",lg[4]);
CR(34,"Multiplicity","You unlocked multiplicity! Mushrooms and berries boost each other no matter at what location.","You unlocked multiplicity! Berries now boost other berries just by having multiple anywhere in the field, and similarly, mushrooms boost mushrooms. This works across tiers, but max 1 tier higher or lower (e.g. blackberry affects blueberry, but it won't affect the 2-higher tier cranberry). For example, if there are 4 berry plants anywhere in the field, each berry receives a boost from the three others. Crops that are growing already fully count for multiplicity.",
ve[4],void 0,[[ve[4],void 0,we[4]],[void 0,void 0,void 0],[we[4],void 0,ve[4]]]);
CR(35,"Squirrel & Nuts","You unlocked the squirrel and the nuts crops!",'You unlocked the squirrel and the nuts crops! The squirrel gives an entirely new tech tree of ugrades. Place a squirrel in the ethereal field (it\'ll also boost neighbors!). Grow nuts in the main field using the new nuts crops. Use nuts to buy squirrel upgrades, in the new squirrel tab.\n    <br><br>\n    Nuts crops unlock at tree level 45, the first one is Almond. You can have max 1 nut crop in the main field, but it can be upgraded and replaced with better types. Nuts crops benefit from flowers, but only in a limited form independent of flower upgrades or bees, nuts crops are not affected by the same boosts as berries or mushrooms, they have their own more limited boosts. Watercress can copy from nuts, but only at half effectiveness and without fruit bonus. Nuts are negatively affected by winter if not next to tree, just like most crops.\n    <br><br>\n    Buy squirrel upgrades in the squirrel tab. Squirrel upgrades are laid out in a tech tree. Each next squirrel upgrade costs exponentially more than the previous one, no matter what order you do them in. Get higher tree levels and nut crops to get enough nuts for the next one.\n    <br><br>\n    You can respec the squirrel upgrades if you regret a decision, using a respec token. You get a few for free, more can be gotten for amber in the amber tab.\n    <br><br>\n    After you respec squirrel upgrades at least once, the "buy all to here" option unlocks for upgrades you have seen before: click the upgrade icon of any squirrel upgrade further down in the tree, then use this button to automatically buy this upgrade and all squirrel upgrades required to reach this one (including all of gated stages), if you can afford it. This avoid having to click every individual upgrade again after respec.\n    <br><br>\n    Planting and upgrading nuts crops cost spores instead of seeds. They work with automaton just like most other crops. If the automaton is spending too much spores on nuts upgrades and you want the tree to level up instead, decrease the allowed % setting for nuts upgrades in the automaton settings.\n    ',og[4],
void 0,[[Fe[4],Ve[4],Fe[4]],[Ve[4],jf[4],Ff[4]],[Fe[4],Ve[4],Fe[4]]]);
CR(36,"Amber","The tree dropped amber!","The tree dropped a piece of amber! From now on, every now and then, the tree can drop amber when it levels up.\n    <br><br>\n    Amber can be used in the new amber tab for various effects.\n    <br><br>\n    Effects:\n    <br>\n    \u2022 Production boost 100%: gives a 100% boost to berries and mushrooms for the entire run, this lasts until next transcension.\n    <br>\n    \u2022 Season hold this run: Keep the current season until transcension, it won't change until the run is done. Ending the run will start the next season with 24 hours left. If the run is finished early (current season didn't need to be held), it'll give a full refund of the amber cost and no seasons are affected.\n    <br>\n    \u2022 Season +1h: Make the current season 1 hour longer (1-time). Can be used once per season.\n    <br>\n    \u2022 Season -1h: Make the current season 1 hour shorter (1-time). If the season has less than 1 hour remaining, then it is only shortened by this remaining time, immediately activating the next season. Can be used once per season.\n    <br>\n    \u2022 Reset choice upgrades: Resets all choice upgrades, this can be used once per run and allows choosing each one again manually.\n    <br>\n    \u2022 More unlock later\n    ",void 0,
void 0,void 0);
CR(37,"Combined Seasonal Fruits","You unlocked combined seasonal fruits fusing!","You unlocked fusing of multi-season fruits! Now when you fuse fruits of different seasons, they may form a new fruit that gives the bonus for both seasons. The following combinations work:\n    <br><br>\n    \u2022 Apricot + Pineapple = Mango (spring + summer)\n    <br>\n    \u2022 Pineapple + Pear = Plum (summer + autumn)\n    <br>\n    \u2022 Pear + Medlar = Quince (autumn + winter)\n    <br>\n    \u2022 Medlar + Apricot = Kumquat (winter + spring)\n    <br><br>\n    Other combinations (e.g. Apricot + Pear, or Quince + Plum) don't work and just give a regular apple, or a lowest common denominator seasonal fruit.\n    <br><br>\n    To get these multi-season fruits, fuse fruits as you usually do. All other fusing rules, such as the combining of abilities (and inability to fuse in case of full ability mismatches), work as usual, the change is now some mixed combinations give a new improved multi-season fruit rather than an apple.\n    <br><br>\n    Later, if (and only if) you get the second fruit-mixing squirrel upgrade, you additionally get the following combinations to make the 4-seasons star fruit:\n    <br><br>\n    \u2022 Mango + Quince = Star Fruit (4 seasons)\n    <br>\n    \u2022 Plum + Kumquat = Star Fruit (4 seasons)\n    <br><br>\n    Combinations that don't cover all 4 seasons, such as mango+plum, won't work, it must be one of the combinations listed above.\n    <br><br>\n    Remember, star fruit fusing is not yet available if you just unlocked the first fruit mixing upgrade now, the star fruit requires the second such squirrel upgrade. Now you already know how to prepare for it though.\n    ",Ld[8],
void 0,[[Nd[1],Od[1],Pd[8]],[Qd[1],Rd[4],Sd[7]],[Td[4],Ud[1],Vd[9]]]);CR(38,"Auto prestige","You unlocked auto prestige!","You unlocked auto-prestige for the automaton! This is integrated with auto-unlock: the same cost settings of auto-unlock are used for auto-prestige, and you can use a toggle to enable/disable auto-prestige in the auto-unlock settings.",lg[4]);CR(39,"Squirrel evolution","Squirrel evolution",function(){return yB()},le);
CR(40,"Auto action","You unlocked auto actions by the automaton!",'You unlocked auto actions by the automaton! This lets the automaton override the field with another blueprint and/or pick a fruit after a chosen trigger, such as tree level, unlocked crop or time.<br><br>You must enable and configure this feature in the automaton tab before it works, using the auto-action toggle and configuration buttons. You must configure both a trigger, and the action(s), and set buttons and checkboxes to enabled. The first one is special, its trigger cannot be changed but is always "at start of run".<br><br>\nThe automatic blueprint is useful to get a different layout later in the run than at the start of the run. You choose your starting blueprint as usual at the start of the run, the automaton will override with the chosen one. You can also choose a fruit to match.\n<br><br>\nDuring some challenges you may want this disabled, toggle it off in the automaton tab in this case.\n',
lg[4]);
CR(41,"Ethereal mistletoe","You got the ethereal mistletoe!","You got the ethereal mistletoe!\n    <br><br>\n    This crop has more effect the more you upgrade it. Upgrades cost time, and most don't cost other resources except some with other costs that unlock later.\n    <br><br>\n    The evolve upgrade will unlock new upgrades at certain levels, and also gives a boost to the effects of all other upgrades at the same time. The first such upgrade unlocks after the first evolve, the next only at the third evolve, and more follow after that. Evolve does not reset current upgrades, they keep existing at their level and can still be leveled up as normal.\n    <br><br>\n    The ethereal mistletoe must be planted orthogonally (not diagonally) next to the ethereal tree, otherwise none of its effects work and its upgrades don't progress.\n    <br><br>\n    Similar to squirrel and automaton, the ethereal mistletoe can give a boost to neighbors in the ethereal field, but this ability is unlocked only by later upgrades.\n    <br><br>\n    You can only have one upgrade in progress at the same time. You can always freely stop an upgrade. This pauses the upgrade, it remembers the time spent so far. You can do any other upgrade during this time. Any other resources are also paid back during pause.\n    <br><br>\n    If the mistletoe is sitting idle and not doing any upgrades, unused idle time is accumulated. Unused idle time will speed up active upgrades by 2x, so unused time is not lost. The mistletoe must still be correctly planted for idle time to accumulate.\n    ",Uf[4],
void 0,[[Li[xy(15)][1][4],Uf[4]],[Li[xy(15)][2][4],void 0]]);
CR(42,"Infinity field","You unlocked the infinity field!","You unlocked the infinity field!\n    <br><br>\n    The infinity field is a new field in a new tab, in which you can plant infinity crops. Infinity crops produce infinity seeds, which allow planting more and better infinity crops.\n    <br><br>\n    The crops in the infinity field can give a small production boost to the basic field, which can add up to a better boost if the whole infinity field is filled.\n    <br><br>\n    Unlike the ethereal field, the infinity field is more focused on growing and improving itself slowly over time with its own resource, rather than merely boosting the basic field.\n    <br><br>\n    The first crop, a brassica, is not a permanent crop (similar to brassica in basic field, but without the copying ability and longer lifespan), and will need to be planted multiple times to collect enough infinity seeds for better crops. After that, permanent crops will unlock too.\n    ",Mi,
void 0,[[vd[0],vd[0],vd[0]],[vd[0],Ni,vd[0]],[vd[0],vd[0],vd[0]]]);
CR(43,"Infinity pond fishes","You unlocked fishes in the infinity pond!","You unlocked fishes in the infinity pond!\n    <br><br>\n    Fishes cost infinity spores to place. They can be accessed by clicking the pond in the infinity field, then placing fishes on cells of the pond.\n    <br><br>\n    Fishes upgrade the infinity field in various ways. The location of fishes in the pond does not matter.\n    <br><br>\n    Some effects from the infinity field that benefit the main field are time-weighted, e.g. the production boost from infinity crops to the basic field. After a few hours, the effect will fully settle.\n    ",ki,
void 0,[[xd[0],xd[1],xd[0]],[xd[1],xd[2],Uc(xd[3],ki)],[Uc(xd[3],ni),xd[1],xd[0]]]);
var DR="\n    Tower defense plays very different from the regular game, this help summarizes it all.\n    <br><br>\n    During tower defense, waves of pests will spawn from the burrow at the top left of the field, and want to move to the tree. As soon as any pest reaches the tree, it's game over and the challenge must be ended. Two types crops can attack pests: mushrooms and brassica. All other crops are support crops required to make the mushroom and brassica work.\n    <br><br>\n    Crop types:<br>\n    \u2022 mushroom: Requires a neighboring berry, and boosted by flower and nettles as usual. Can attack at range.<br>\n    \u2022 brassica: Requires neighboring mushroom (diagonal works too) to copy spores from. Can attack directly adjecent pests only, but multiple at the same time.<br>\n    \u2022 berry: required to make mushrooms work. Produces seeds for the mushroom. Does not produce seeds for the player (seeds are gained from exterminated pests instead)<br>\n    \u2022 flower: boost neighboring mushrooms and berries as usual<br>\n    \u2022 bee: boosts neighboring flowers as usual<br>\n    \u2022 nettle: boosts neighboring mushrooms, but also increases seed consumption, unlike normally<br>\n    \u2022 statues: different types exist, affects orthogonally or diagonally adjecent mushrooms with improved damage and special effects, see list further in this help for the types and their effects<br>\n    <br><br>\n    You must exterminate waves of pests to progress to the next level. Pests drop spores and seeds, spores to level up the tree to the next level, seeds to allow building better towers. All crops block the path of pests, so you can build a maze to extend the distance they have to walk to reach the tree. However, it's impossible to close the maze (there must always be some path), and it's impossible to delete crops (but you can change their type).\n    <br><br>\n    Build a maze first, and press the 'GO' button in the top right when ready to spawn the first wave. If you're much stronger than the first wave, it'll skip ahead to later waves. Before starting the first wave, deleting crops is still possible so you can fix mistakes in the shape of the maze until then.\n    <br><br>\n    Tips:<br>\n    \u2022 Ensure a mushroom is surrounced by a flower with bee, a berry with flower with bee, a nettle, and possibly statues and brassica. Missing any of these components makes the mushroom much weaker than is possible.<br>\n    \u2022 Build a long maze from crops, so that the pests spend a long time to reach it and can be attacked for longer, but also have enough densely packed groups of crops to have mushrooms with all the support crops and multiple statues.<br>\n    \u2022 Groups of multiple pests are best defeated with splash damage, while a single pest with a lot of health is better dealt with by a sniper tower or towers with many spore statue boosts.<br>\n    <br><br>\n    Pest types:<br>\n    \u2022 ant: standard health, standard speed.<br>\n    \u2022 fire ant: more health, standard speed, resistant to snail statues.<br>\n    \u2022 beetle: much more health, moves more slowly.<br>\n    \u2022 tick: comes in a group within a single cell, splash damage is more effective.<br>\n    \u2022 roach: less health, but moves fast.<br>\n    \u2022 termite: more health, moves slower, resistant to splash damage and snail statues<br>\n    \u2022 flea: comes in a group within a single cell (splash damage is more effective), and moves fast<br>\n    \u2022 aphid: comes in a group within a single cell (splash damage is more effective), and has more health but is slower<br>\n    \u2022 locust: moves fast<br>\n    <br><br>\n    Statue effects:<br>\n    \u2022 spore statue: makes tower stronger. Can be stacked. If two or more statues active, makes the tower focused (extra damage) when there is a small amount of pests on screen.<br>\n    \u2022 splash statue: makes tower do splash damage (both within single-cell group pests, and to neighboring pests) but do less single-cell damage.<br>\n    \u2022 range statue: makes tower reach one cell further. Can be stacked.<br>\n    \u2022 sniper statue: makes tower stronger and reach whole map, but much slower.<br>\n    \u2022 snail statue: makes tower cause pests to move slower for a fixed amount of steps. Can be stacked.<br>\n    \u2022 seed statue: makes tower cause pests to drop more resources. Can be stacked.<br>\n    <br><br>\n    Shortcuts:<br>\n    \u2022 w: spawn next wave. Same as the 'GO' button. Also required to start the first wave.<br>\n    \u2022 u: upgrade tower under mouse cursor.<br>\n    \u2022 d: downgrade tower under mouse cursor (gives refund), if waves not started yet deletes as usual (in regular game, and before waves started, 'd' deletes, 'shift+d' downgrades).<br>\n    \u2022 shift+p: overplant with picked (with 'p') crop type (same shortcut as in regular game, but useful here to quickly change crop/tower types).<br>\n    \u2022 ctrl+click a statue: change into next type of statue.<br>\n    \u2022 ctrl+shift+click a statue: change into previous type of statue.<br>\n    \u2022 most other shortcuts of the regular game (like p to plant) work too, the above just lists altered or relevant shortcuts.<br>\n    <br><br>\n    The exact rules of the tower defense challenge:\n    <br><br>\n    "+V[Kl].fo(),
ER=cj[0],FR=Uc(wd[0][0],Vi),GR=wd[0][0],HR=Uc(wd[0][0],Te[4]),IR=Uc(wd[0][0],Be[4]),JR=Uc(wd[0][0],af[4]),KR=Uc(wd[0][0],Ff[4]),LR=Uc(wd[0][0],Xf[4]),MR=Uc(wd[0][0],yf[4]),NR=Uc(wd[0][0],cj[0]),OR=Uc(wd[0][0],cj[2]),PR=Uc(wd[0][0],cj[1]),QR=Uc(wd[0][0],oj[4]),RR=Uc(wd[0][0],Li[xy(20)][1][1]),SR=Uc(wd[0][0],Li[xy(20)][2][1]);
CR(44,"Tower defense","You started the tower defense challenge!",DR,ER,void 0,[[FR,HR,LR,GR,GR,PR,GR],[GR,KR,HR,GR,JR,IR,GR],[OR,MR,JR,GR,GR,LR,GR],[GR,QR,IR,KR,NR,HR,GR],[GR,LR,HR,GR,GR,IR,GR],[GR,JR,IR,GR,HR,JR,RR],[GR,GR,GR,GR,LR,MR,SR]]);
CR(45,"Auto transcend & Seasons","You unlocked auto-transcend!",'\n    You unlocked auto-transcend and season-based auto-actions!\n    <br><br>\n    Auto-transcend allows an auto-action to be programmed to transcend, starting a next run.\n    <br>\n    Ensure that you also have auto-actions programmed to handle the start of a run (such as planting a new blueprint) so that something meaningful will actually happen after the auto-transcend.\n    <br>\n    Auto-transcend only works max 20 times in a row, but any manual user action (including other actions than transcending) will reset this counter.\n    <br>\n    When loading a savegame with auto-transcend, loading may be slow (a lot of computation required) to handle all the auto-transcends (it\'s not the transcending itself that\'s slow, but the start of a run after that, which has a lot of activity to compute)\n    <br><br>\n    Season-based auto actions allow to override the effect for chosen seasons.\n    <br>\n    To use this, press the new "seasonal" button at the bottom of the effects configuration, then enable the "override" checkbox of any season to override, and configure the effect parameters of that season.\n    <br>\n    In addition, a new action "Hold season (amber)" is now available!\n    ',Ti,
void 0,void 0);
function TR(){var a=Da({Ia:!0,title:"Shortcuts"});var b="<b>List of keyboard/mobile shortcuts:</b><br/><br/>";pu()||(b+="More shortcuts will appear in this list later as you progress through the game.<br/><br/>");b+='<b>Mobile shortcuts:</b><br/><br/> \u2022 long-press icons/buttons to access the shift and ctrl variants of any button (e.g. try the refresh watercress button or the undo button).<br/> \u2022 long-press things to see tooltips, e.g on most buttons in the setting dialogs, or crops on the field.<br/> \u2022 <i>Note</i>: mobile browsers don\'t show scrollbars so you can\'t always see if something is scrollable. The game shows a shadow effect to show scrollable content but this may be subtle. E.g. in the (detailed) stats dialogs of some plants in the field.<br/><br/><b>Main shortcuts:</b><br/><br/> \u2022 <i>Note</i>: on mac, ctrl means command instead.<br/> \u2022 <b>esc</b>: close current dialog. If no dialogs are open, shows main menu.<br/> \u2022 <b>"p"</b>: when crop in field under mouse cursor: pick (=remember) this crop for planting. When empty field mouse cursor: plant the remembered crop here (no mouse click required)<br/> \u2022 <b>"shift+p"</b>: similar to p, but always plants, so replaces crop if there is an existing one below the mouse cursor.<br/> \u2022 <b>"d"</b>: delete crop under mouse cursor (no mouse click required)<br/> \u2022 <b>"shift+d"</b>: downgrade tier of crop under mouse cursor, that is keep same type of crop but replace it with the crop that is one tier lower, especially handy in ethereal field (no mouse click required)<br/> \u2022 <b>"u"</b>: upgrade tier: replace crop or template under mouse cursor with highest available tier of the same type that you can afford (no mouse click required)<br/> \u2022 <b>shift + click empty field</b>: plant last planted or unlocked crop type.<br/> \u2022 <b>ctrl + click empty field</b>: plant a watercress (does not affect last planted type for shift key).<br/> \u2022 <b>ctrl + click non-empty field</b>: delete crop.<br/> \u2022 <b>shift + click non-empty field</b>: replace crop.<br/> \u2022 <b>ctrl + shift + click field</b>: upgrade tier: replace crop or template with highest unlocked tier (if enabled in preferences), pick this crop type as last planted, and on empty field, plant highest tier of picked crop type you can afford.<br/> \u2022 <b>"w"</b>: replant watercress on all field tiles that have a watercress remainder, and refresh existing ones. Such a remainder appears for watercress that have been copying from multiple plants, that is, a good copying spot. Copying has diminishing returns if there are multiple watercress anywhere on the map, 1 or 2 is effective (check the seeds/s income to view the effect).<br/> \u2022 <b>"t"</b>: show transcend dialog (if available)<br/> \u2022 <b>"f"</b>: go to the basic field tab<br/> \u2022 <b>"e"</b>: go to the ethereal field tab (if available)<br/> \u2022 <b>"i"</b>: go to the infinity field tab (if available)<br/> \u2022 <b>"ctrl + z"</b>: undo / redo<br/> \u2022 <b>], }, ) or ></b>: select next active fruit. Can be changed in the preferences under "controls" to instead select next game tab.<br/> \u2022 <b>[, {, ( or <</b>: select previous active fruit. Can be changed in the preferences under "controls" to instead select previous game tab.<br/> \u2022 <b>number keys "1-9"</b>: by default, select fruit slot (when available). Can be changed in the preferences under "controls" to instead activate weather, change game tabs or do auto-actions.<br/> \u2022 <b>"shift" + number keys "1-9"</b>: by default, activate weather (1-3). Can be changed in the preferences under "controls" to instead select fruit slots, change game tabs or do auto-actions.<br/>';0<
G.od&&(b+="<br/><b>Fruits tab:</b><br/><br/> \u2022 <b>ctrl + click fruit</b>: move fruit between sacrificial and storage slots, if possible.<br/> \u2022 <b>shift + click fruit</b>: same as ctrl + click fruit.<br/> \u2022 <b>shift + click fruit ability upgrade</b>: buy multiple abilities up to 25% of currently available essence.<br/>");pu()&&(b+='<br/><b>Blueprints:</b><br/><br/> \u2022 <b>"b"</b>: open the blueprint library, when available.<br/> \u2022 <b>"t" followed by "b"</b>: transcend and open the transcend-with-blueprint dialog.<br/> \u2022 <b>"t" followed by "Enter" or "r"</b>: transcend without blueprint.<br/> \u2022 <b>"t" followed by "c"</b>: transcend and open the start-new-challenge dialog.<br/> \u2022 <b>number keys "1-9" in blueprint selection dialog</b>: open or use this blueprint<br/> \u2022 <b>"shift" + number keys "1-9" in blueprint selection dialog</b>: plant this blueprint (overriding)<br/> \u2022 <b>"p" in blueprint selection dialog</b>: toggle page 1 / page 2<br/> \u2022 <b>shift + click blueprint</b>: immediately plant this blueprint, rather than opening its edit screen.<br/> \u2022 <b>shift + click blueprint "To Field"</b>: plant this blueprint, but let it override non-matching crops. Without shift, it only plants on empty field spots.<br/> \u2022 <b>shift + click squirrel upgrade</b>: when you unlocked this type of upgrades and have respecced at least once: upgrade all upgrades until this one, only available if you can afford it and this upgrade was seen before.<br/> \u2022 <b>"f" in blueprint editing dialog</b>: set blueprint from field.<br/> \u2022 <b>"enter" in blueprint editing dialog</b>: plant blueprint (overriding).<br/>');
a.content.a.innerHTML=b+"<br/><b>Special button actions:</b><br/><br/> \u2022 <b>shift + click upgrade</b>: buy as many of this upgrade as you can afford.<br/> \u2022 <b>shift + click undo</b>: save the undo state now, rather than load it. This overwrites your undo so eliminates any chance of undoing now. This will also be overwritten again if you do actions a minute later.<br/> \u2022 <b>shift + click save import dialog</b>: import and old savegame, but force paused state, do not run the time, so you get the resources and season at the time of saving rather than with all production during that time added.<br/> \u2022 <b>ctrl + click save import dialog</b>: import and old savegame, but force non-paused state, even if the savegame was saved while paused, this will cause all time between saving and now to be ran.<br/><br/><b>Other:</b><br/><br/> \u2022 <b>ctrl + click dialog close (X) button</b>: close all dialogs (if multiple are open).<br/><br/>"}
function UR(){Da({Ia:!0,title:"Help"}).content.a.innerHTML='Ethereal farm is an incremental game taking place on a field with a mysterious tree in the center. Most crops are permanent and there\'s no harvesting/selling/withering as in many farm games, instead it\'s about growing better and better plant types, with various neighbor-interaction rules with other plants in the field.<br/><br/>The text in the message log at the bottom will guide you through how to play. A short summary of the first steps: initially you have no resources but can get some from clicking ferns. Then you can click on field tiles to plant crops and soon resources are gained automatically and soon after that permanently. The rest will be revealed when the time is ready.<br/><br/>You can click resources in the resource panel to see more detailed breakdown. You can click fullgrown crops to see detailed stats. As the game progresses, more types of information may appear in there.<br/><br/><b>Savegame recovery:</b><br/><br/>This game auto-saves every few minutes in local storage in the web browser, but please use <i>settings -> export save</i> regularly for backups, because a local storage savegame can easily get lost.<br/><br/>If something goes wrong with your savegame, there may be a few older recovery savegames. Click <a style="color:#11f;" id="recovery">here</a> to view them.<br/><br/><br/>Game version: Ethereal Farm v'+
UJ()+"<br/><br/>Copyright (c) 2020-2024 by Lode Vandevenne";E(document.getElementById("recovery"),function(){VJ()})}var OF=!1;
function nK(){function a(k){var l=(new F(b.content,.08,d,.92,d+.06)).a;La(l);d+=.066;l.j.innerText=k;return l}OF=!0;var b=Da({onclose:function(){OF=!1},Ia:!0,title:"Help"});yJ();var d=.05;var e=a("Main help");E(e,UR);e=a("Keyboard & mobile shortcuts");E(e,TR);e=a("Number format help");E(e,function(){CJ()});0<G.od&&(e=a("Fruit help"),E(e,UQ));pu()&&(e=a("Blueprint help"),E(e,VR));e=a("Recovery saves");E(e,function(){VJ()});d+=.03;for(var f=!1,g=0;g<BR.length;g++){var h=BR[g];if(G.Za[h]||G.Id[h])e=
zB[h],f||((new F(b.content,.1,d,.9,d+.06)).a.innerText="Dynamic help dialogs",d+=.06,f=!0),e=a(e.name),E(e,B(function(k){qu(k,!0)},h))}d+=.03;(new F(b.content,.1,d,.9,d+.06)).a.innerText="More help topics may appear here as the game progresses. Any in-game help dialog that pops up will become permanently available here once it's unlocked"}
function nM(){function a(k){var l=(new F(d,.08,e,.92,e+.06)).a;La(l);e+=.066;l.j.innerText=k;return l}var b=Da({title:"Automaton help",Ia:!0});yJ();var d=b.content;wb(d);var e=.05;b=[28,30,31,29,32,33,40,38,45];for(var f=0;f<b.length;f++){var g=b[f];if(G.Za[g]||G.Id[g]){var h=a(zB[g].name);E(h,B(function(k){qu(k,!0)},g));0==f&&(h=a("Blueprint help"),E(h,VR))}}(new F(d,.1,e,.9,e+.06)).a.innerText="More help topics may appear here as the game progresses, when new automaton features get unlocked"}
var WR=0,YR=WR++,ZR=WR++,$R=WR++,aS=WR++,bS=WR++,cS=WR++,dS=WR++,eS=WR++,fS=WR++,gS=WR++,hS=WR++,iS=WR++,jS=WR++,kS=WR++,lS=WR++,mS=WR++,nS=WR++,oS=WR++,pS=WR++,qS=WR++,rS=WR++,sS=WR++,tS=WR++,uS=WR++,vS=WR++,wS=WR++,xS=WR++,yS=WR++,zS=WR++,AS=WR++,BS=WR++,CS=WR++,DS=WR++,ES=WR++,FS=WR++,GS=YR,HS=0;
function IS(){if(G.ha[Vu].I)return[YR,0];var a=G.Ad+G.lc;if(0==G.na)if(0==G.qe){if(ac(G.b.f,10)&&0==a)return[aS,0];if(5>G.lc)return a=2*(25*G.bg+G.lc)+(0<Ua?1:0),[bS,a];if(G.o[$t].c&&0==G.o[$t].count&&!G.o[Ms].c)return a=(G.ra==XO?0:1)+(JS?0:2)+(G.Qd?0:4)+(G.b.f.ib(100)?0:8),[cS,a];if(10>G.lc)return a=2*(25*G.bg+G.lc)+(0<Ua?1:0),[dS,a];if(G.o[Ms].c&&0==G.o[Ms].count)return a=(G.ra==XO?0:1)+(JS?0:2)+(G.Qd?0:4)+(G.b.f.ib(1E3)?0:8),[eS,a];if(1>G.qe)return a=8*(25*G.bg+G.Ad)+(0<Ua?4:0)+(G.Bj?2:0)+(G.b.f.ib(1E3)?
1:0),[fS,a]}else{if(0==G.s)return G.o[kt].c&&0==G.o[kt].count?(a=(G.ra==XO?0:1)+(JS?0:2)+(G.Qd?0:4)+(G.b.f.ib(6330)?0:8),[gS,a]):1>G.Qb[br]&&!G.o[Ns].count?[hS,0]:G.o[Ns].count?1>G.Qb[Fq]&&!G.o[Os].count?(a=8*(25*G.bg+G.Ad)+(0<Ua?4:0)+(G.Bj?2:0)+(G.b.f.ib(4E4)?1:0),[jS,a]):0==G.o[vs].count?[kS,0]:G.b.B.ec(0)?[lS,0]:[mS,0]:(a=(G.ra==XO?0:1)+(JS?0:2)+(G.Qd?0:4)+(G.b.f.ib(4E4)?0:8),[iS,a]);if(10>G.s){if(!G.cf&&3>=G.s)return a=G.s,[nS,a];if(5>G.s)return[oS,0];if(!G.Eg&&5<=G.s&&7>G.s)return a=(G.ra==ZO?
1:0)+2*G.Fm,[pS,a];if(!G.o[st].count)return a=(G.ra==XO?0:1)+(JS?0:2)+(G.b.f.ib(238E12)&&G.o[ct].count?0:4),[qS,a];if(1>G.Qb[wp]&&!G.o[Rs].count)return[rS,0];if(10>G.s)return[sS,0]}else return a=0<Ua?1:0,[tS,a]}else{if(!G.Kg)return a=(G.ra==dL?1:0)+2*G.Fm+(0<Ua?4:0),[uS,a];if(!G.S[vt].count&&0==G.U&&!G.challenge)return ac(G.ma.h,50)&&4>G.na?ac(G.b.h,2<G.fj?25:2<=G.na?15:10)?[2>G.na&&1>G.s&&!G.o[Ns].count?wS:xS,0]:[vS,0]:[ac(G.b.h,25)?yS:zS,0];if(G.S[vt].count&&0==G.U)return G.ab[lr]?[CS,0]:G.o[wt].c?
(a=G.o[wt].c?1:0,[BS,a]):[AS,0];if(1<=G.U&&!Zt())return[G.b.h.ib(100)?ES:DS,0];if(Zt()&&!G.ha[Vu].I)return[FS,0]}return[YR,0]}function KS(){for(var a=0,b=0;;){if(0==G.G[b][a].index||G.G[b][a].index==AG)return[a,b];a++;a>=G.C&&(a=0,b++);if(b>=G.F)break}return null}var LS=!1;
function nb(){if(jm&&MS){var a=IS();var b=a[0]==YR?a:G.challenge?a[0]==uS||a[0]==vS||a[0]==zS||a[0]==ES?a:0==G.zh?G.s>=V[G.challenge].ei()?[$R,0]:[ZR,0]:[YR,0]:a;a=b[0];b=b[1];if(a!=GS||b!=HS){rc();if(a==YR)FP(void 0);else if(a==ZR)FP("Click the challenge info dialog in the tree to see the goal and reward during a challenge.",!0);else if(a==$R)FP("You finished the challenge, transcend to complete challenge and get its reward.");else if(a==aS)FP("Collect 10 seeds by clicking ferns.");else if(a==bS){FP("Plant 5 watercress on the field ("+
G.lc+" / 5 planted). To plant, click a field cell, then choose the watercress crop. Each costs 10 seeds, but will also produce seeds.");var d=0<Ua?document.getElementById("help_arrow_plant_watercress"):null;if(LS)if(d)oc(d,1.5,1,d,.8,.5);else{var e=KS();e&&(d=e[0],e=e[1],oc(jm[e][d].a,1.5,1.5,jm[e][d].a,.8,.8,lN.a))}}else if(a==cS)FP("Upgrade watercress, after getting enough seeds."),LS&&(1==G.ra&&FQ[0]?(d=document.getElementById("help_arrow_upgrade_watercress"))&&oc(NS.a,.6,.2,d,.85,.5):JS&&OS[1]?
(d=document.getElementById("help_arrow_upgrade_watercress_side"))&&oc(NS.a,.9,.2,d,.15,.5):JS||!G.Qd&&!G.b.f.ib(100)||oc(NS.a,.6,.2,IO[1],.5,1));else if(a==dS)FP("Plant up to 10 watercress on the field to reveal a next upgrade ("+G.lc+" / 10 planted).");else if(a==eS)FP('Buy the "Unlock blackberry" upgrade, the first permanent (non-withering) crop.'),LS&&(1==G.ra&&FQ[0]?(d=document.getElementById("help_arrow_unlock_blackberry"))&&oc(NS.a,.6,.2,d,.85,.5):JS&&OS[1]?(d=document.getElementById("help_arrow_unlock_blackberry_side"))&&
oc(NS.a,.9,.25,d,.15,.5):JS||!G.Qd&&!G.b.f.ib(1E3)||oc(NS.a,.6,.2,IO[1],.5,1));else if(a==fS){if(FP('Plant a blackberry and wait for it to grow. It produces more seeds. If the field is full of watercress, you can click one and use "replace crop" to delete it and plant blackberry there.'),LS&&!G.Bj&&G.b.f.ib(1E3))if(d=0<Ua?document.getElementById("help_arrow_plant_blackberry"):null)oc(d,1.5,1,d,.8,.5);else if(e=KS())d=e[0],e=e[1],oc(jm[e][d].a,1.5,1.5,jm[e][d].a,.8,.8,lN.a)}else a==gS?(FP("Unlock the anemone flower. To get more seeds, remember to combine a watercress with berries for the copying effect."),
LS&&(1==G.ra&&FQ[0]?(d=document.getElementById("help_arrow_unlock_anemone"))&&oc(d,1.2,1.2,d,.85,.5,NS.a):JS||!G.Qd&&!G.b.f.ib(6330)||oc(NS.a,.6,.2,IO[1],.5,1))):a==hS?FP("Plant an anemone flower. Plant it orthogonally next to a berry to boost the berry (a flower on its own doesn't produce anything). Keep planting more watercress, berries and flowers for more income."):a==iS?(FP("Unlock blueberry. Remember to boost berries with flowers, and have a watercress copying from a good berry, to speed up income."),
LS&&(1==G.ra&&FQ[0]?(d=document.getElementById("help_arrow_unlock_blueberry"))&&oc(NS.a,.6,.2,d,.85,.5):JS&&OS[1]||JS||!G.Qd&&!G.b.f.ib(1E3)||oc(NS.a,.6,.2,IO[1],.5,1))):a==jS?(FP("Plant a blueberry, or replace a blackberry by one, and wait for it to grow."),LS&&!G.ab[Fq]&&G.b.f.ib(4E4)&&G.o[Ns].count&&!G.o[Os].c&&(d=0<Ua?document.getElementById("help_arrow_plant_blueberry"):null)&&oc(d,1.5,1,d,.8,.5)):a==kS?FP("Unlock champignon. To afford this, if needed plant more berries boosted by flowers and watercress copying, or use upgrades. Plant watercress next to your best berry to copy its production, this copy effect works best if there are only a few watercress on the whole field"):
a==lS?FP("Plant champignon next to a high tier berry to produce spores. It will consume seeds directly from that berry. Also leave some berry without mushroom to keep global seed production."):a==mS?FP("Wait for the tree to level up through enough spores. Improve berries next to champignons to speed up spore production. Also keep berries without champignon for global seed production."):a==nS?(FP("Reach tree level 2 and activate the sun ability. It's also possible to unlock other crops like cranberry while waiting."),
LS&&2<=G.s&&(d=document.getElementById("sun_button"))&&oc(d,2.5,1.5,d,1,.6)):a==oS?FP("Reach tree level 5 to get a fruit drop. Keep upgrading, unlocking new crop tiers (clover, currant, ...) and replacing existing crops with them for more income. Find an effective field layout. Put a flower next to mushrooms for more spores."):a==pS?(FP("Check the fruit tab to see the newly dropped fruit and inspect its abilities."),LS&&G.ra!=ZO&&oc(NS.a,.5,.2,IO[ZO],.5,1)):a==qS?(FP("Unlock nettle. To reach this, unlock and grow other crops first, up to matsutake mushroom (requires fullgrown currant). Keep upgrading and improving for more income."),
LS&&(1==G.ra&&FQ[0]?(d=document.getElementById("help_arrow_unlock_nettle"))&&oc(d,1.2,1.2,d,.85,.5,NS.a):JS&&OS[1]?(d=document.getElementById("help_arrow_unlock_nettle_side"))&&oc(NS.a,.9,.2,d,.15,.5):!JS&&G.b.f.ib(238E12)&&G.o[ct].count&&oc(NS.a,.5,.3,IO[1],.5,.9))):a==rS?FP("Plant a nettle. Plant it next to a mushroom to boost its spore production by 500% (but keep at least 1 berry and flower). Beware that nettle negatively affects other flowers and berries it orthogonally touches."):a==sS?FP("Reach tree level 10 to unlock transcension."):
a==tS?FP("Click the tree and then transcend. Check fruit tab first in case you want to keep a fruit. You can also get a few more tree levels to collect more resin first - but transcending will be worth it!"):a==uS?(FP("Plant an ethereal crop of your choice in the new ethereal field."),LS&&G.ra!=dL&&0==Ua&&oc(NS.a,.5,.2,IO[dL],.6,.95)):a==wS?FP("Grow the basic field again and reach tree level 10 or higher to transcend again for more resin.\nTIP: shift+click watercress icon in top right corner to fill entire field with watercress (requires enough seeds). Check help -> keyboard shoftcuts for easier ways to plant.",
!1):a==xS?FP("Grow the basic field again and reach tree level 10 or higher to transcend again for more resin.",!0):a==yS?FP('Collect 25 resin from transcensions to afford the "unlock mistletoe" ethereal upgrade.',!0):a==vS?FP("Plant a crop in the ethereal field, or choose an upgrade in the ethereal upgrades tab, with the resin you have."):a==zS?FP("Unlock mistletoes in the ethereal upgrades tab."):a==AS?FP("Grow the basic field until you can plant mistletoe."):a==BS?FP("Unlock and plant a mistletoe next to the basic tree to collect twigs."):
a==CS?FP("Reach enough twigs from mistletoes through transcensions to level up the ethereal tree.",!0):a==DS?FP("Unlock the automaton in the ethereal upgrades tab once you have enough resin.",!0):a==ES?FP("Unlock the automaton in the ethereal upgrades tab"):a==FS?FP("Place the automaton in the ethereal field. After that, the goals here will disappear but the automaton tab will get a few lower paced goals to improve the automaton!"):FP("UNKNOWN GOAL (TODO)");GS!=a&&(GS!=YR&&0<=GS&&(a==YR?T("Goal completed!",
zP):a>GS&&T("Goal completed! A new goal appeared.",zP)),a!=YR&&JP());GS=a;HS=b}}};function PS(a,b,d,e,f,g,h,k){d.clear();d.a.style.backgroundColor=b?"#aaf":f?g?"#fbb":"#ff7":"#edc";a||(a=new TG);f=a.C;var l=(g=a.F)?f/g:1;l=new F(d,[.5,0,-.5,l],[.5,0,-.5,1/l],[.5,0,.5,l],[.5,0,.5,1/l]);for(var p=[],q=[],n=0;n<g;n++){p[n]=[];for(var u=0;u<f;u++){var x=a.data[n][u];if(x=b?Uu[VG(x,a.g[n][u])]:Pm[UG(x)]){if(p[n][u]=x.image[4],x.Oc)if(1==f&&1==g)p[n][u]=Zg;else{var y=n*f+u;q[y]?p[n][u]=x.Rg[q[y]][4]:(p[n][u]=x.Rg[0][4],q[y+1]=1,q[y+f]=2,q[y+f+1]=3)}}else p[n][u]=void 0}}f=pb("0%","0%",
"100%","100%",l.a);fd.Bo(p,f);a.C&&a.F||(sa(l.a),l.a.j.innerText="[empty]",l.a.j.style.color="#000");g=a.name;if(b){var r=QS(a,0),v=QS(a,1),w=QS(a,2),H=QS(a,3);Lb(f,function(){var D="Ethereal field resin value: "+(r.empty()?"0 resin":r.toString());D=D+"<br>Blueprint resin value: "+(v.empty()?"0 resin":v.toString());D=D+"<br>Plant resin cost: "+(w.empty()?"0 resin":w.toString());D=D+"<br>Override resin cost: "+(H.empty()?"0 resin":H.toString());return D=D+"<br><br>Currently have resin: "+G.b.h.toString()})}k||
(b="",g&&void 0!=e&&h?b="["+(e+1)+"] "+g+":":void 0!=e&&h?b="["+(e+1)+"]:":g&&(b=g+":"),b&&(h=new F(d,0,-.1,1,0),h.a.innerText=b,h.a.style.whiteSpace="nowrap"));h="blueprint";void 0!=e&&(h+=" "+(e+1));a.name&&(h+=": "+a.name);d.a.setAttribute("aria-description",h+": "+RS(a))}
function SS(a,b,d){if(a&&0!=a.C&&0!=a.F&&tB(G.challenge,!0)){var e=!1,f=Math.floor((a.C-1)/2)-Math.floor((G.C-1)/2),g=Math.floor(a.F/2)-Math.floor(G.F/2),h=a.C,k=a.F,l=!1;1==h&&1==k&&(h=G.C,k=G.F,l=!0);for(var p=[],q=!1,n=0;n<k;n++)for(var u=0;u<h;u++){if(l){var x=G.G[n][u];var y=a.data[0][0];var r=u;var v=n}else{r=u-f;v=n-g;if(0>r||0>v||r>=G.C||v>=G.F)continue;x=G.G[v][r];y=a.data[n][u]}var w=v*G.C+r;if(!p[w]&&(y=Pm[UG(y)])){if(y.Oc&&(p[w+1]=p[w+G.C]=p[w+G.C+1]=!0,b)){w=G.G[v][r+1];var H=G.G[v+1][r],
D=G.G[v+1][r+1];Yo(w,!0)&&tp(w)!=x&&W({type:rH,x:r+1,y:v,silent:!0,la:!!d});Yo(H,!0)&&tp(H)!=x&&W({type:rH,x:r,y:v+1,silent:!0,la:!!d});Yo(D,!0)&&tp(D)!=x&&W({type:rH,x:r+1,y:v+1,silent:!0,la:!!d})}y.type!=Gl||G.D[Yr].c||(e=!0);if((w=S(x))&&w.type==Al&&y.type==Al)if(Ub(G.b.f,1E4))y=w;else{if(.25<x.H)continue}else if(b){if(0!=x.index&&x.index!=AG&&(w=S(x,!0),x.index!=sp)){if(!w)continue;if(w.index==y.index)continue;H=w.type==y.type&&!w.Vb;G.challenge==Kl&&y.type==Dl&&fs.hasOwnProperty(y.index)&&fs[y.index]!=
w.index&&(H=!1);if(H)continue}}else if(!(0==x.index||x.index==AG||w&&w.Vb&&w.type==y.type))continue;G.D[y.index].c&&(w&&x.index==sp&&(W({type:rH,x:r,y:v,silent:!0,la:!!d}),w=void 0),W({type:w?RK:sH,x:r,y:v,aa:y,Ka:!1,silent:!0,la:!!d}),q=!0)}}q?T("Planted blueprint"+(a.name?' "'+a.name+'"':"")):T("This blueprint had no effect on the current field");e&&4!=zG()&&T("Pumpkins can no longer be planted, the event finished",uB)}}
function TS(a,b,d){if(0==a||0>a)return[0,0];if(void 0!=b&&void 0!=d){if(0>a||a>=b*d)return[0,0];var e=Math.min(b,d),f=Math.floor((e-1)/2),g=Math.floor(e/2),h=e*e;if(a>=h)return h=a-h,a=h%e,h=Math.floor(h/e),b>d?(e&1)==(h&1)?[-(-f-1-Math.floor(h/2)),g-a-(e&1?0:1)]:[-(e-f+Math.floor(h/2)),a-g]:(e&1)!=(h&1)?[f-a,-g-1-Math.floor(h/2)]:[a-f-(e&1?0:1),e-g+Math.floor(h/2)]}b=Math.floor((Math.sqrt(a)-1)/2)+1;d=(a-4*b*(b-1))%(8*b);e=d%(2*b);switch(Math.floor(d/(2*b))){case 0:return[b-d,-b];case 1:return[-b,
e-b];case 2:return[e-b,b];case 3:return[b,b-e]}}
function US(a,b,d){if(a&&0!=a.C&&0!=a.F){var e=Math.floor((a.C-1)/2)-Math.floor((G.qa-1)/2),f=Math.floor(a.F/2)-Math.floor(G.pa/2),g=a.C,h=a.F;if(1==g&&1==h)T("1x1 blueprint not supported on ethereal field",uB);else{for(var k=[],l=[],p=[],q=0;q<h;q++)for(var n=0;n<g;n++){var u=h;var x=TS(q*g+n,g,u);x[0]+=g>>1;x[1]+=u>>1;u=x;var y=u[0],r=u[1];u=y-e;x=r-f;if(!(0>u||0>x||u>=G.qa||x>=G.pa)&&(y=Uu[VG(a.data[r][y],a.g[r][y])])){if(r=S(G.xa[x][u])){if(r.index==y.index)continue;if(!b)continue;l.push({type:wL,
x:u,y:x,Ka:!1,silent:!0,la:!!d})}p.push({type:uL,x:u,y:x,aa:y,Ka:!1,silent:!0,sp:!0,la:!!d})}}for(b=0;b<l.length;b++)k.push(l[b]);for(b=0;b<p.length;b++)k.push(p[b]);if(k.length){for(b=0;b<k.length;b++)W(k[b]);T("Planted ethereal blueprint"+(a.name?' "'+a.name+'"':""))}else T("This ethereal blueprint had no effect on the current field")}}}function VS(a){var b=G.C,d=G.F;a.C=b;a.F=d;a.data=[];for(var e=0;e<d;e++){a.data[e]=[];for(var f=0;f<b;f++)a.data[e][f]=WG(S(G.G[e][f],!0))}WS(a)}
function XS(a){var b=G.qa,d=G.pa;a.C=b;a.F=d;a.data=[];a.g=[];for(var e=0;e<d;e++){a.data[e]=[];a.g[e]=[];for(var f=0;f<b;f++){var g=G.xa[e][f],h=S(g);a.data[e][f]=WG(S(g));a.g[e][f]=h?h.g:0}}WS(a)}function WS(a){if(a){for(var b=a.C,d=a.F,e=0;e<d;e++)for(var f=0;f<b;f++)if(0!=a.data[e][f])return;a.C=0;a.F=0;a.data=[];a.g=[]}}
function RS(a,b){var d="";if(a){var e=a.C,f=a.F,g=[];if(b)for(var h=0;h<f;h++)for(var k=0;k<e;k++)if(0==h&&(g[k]=0),a.g&&a.g[h]){var l=a.g[h][k];100<=l?g[k]=Math.max(g[k],3):10<=l?g[k]=Math.max(g[k],2):0<=l&&(g[k]=Math.max(g[k],1))}for(h=0;h<f;h++){for(k=0;k<e;k++){var p=a.data[h][k];l=0==p?".":2==p?"W":3==p?"B":4==p?"M":5==p?"F":6==p?"S":7==p?"Z":8==p?"I":9==p?"N":32==p?"A":33==p?"Q":34==p?"L":35==p?"E":60==p?"U":100==p?"0":101==p?"1":102==p?"2":103==p?"3":104==p?"4":105==p?"5":-1;d+=l;if(b){p="";
"."!=l&&a.g&&a.g[h]&&(l=a.g[h][k],0<=l&&(p+=a.g[h][k]));for(;p.length<g[k];)p=" "+p;d+=p}}d+="\n"}}return d}function YS(a){var b="B=berry, M=mushroom, F=flower, S=stinging, Z=bee, I=mistletoe, W=brassica (watercress, ...), ";G.D[rr].c&&(b+="N=nuts, ");a&&(b+="E=fern, L=lotus, ",a&&G.ha[Vu].c&&(b+="A=automaton, "),G.ha[Wu].c&&(b+="Q=squirrel, "));return b+".=empty/tree, space=ignored"}
function ZS(a,b,d){var e=Da({vb:function(){a(g.value)},names:"import",title:"Import blueprint"}),f="Letter meanings: "+YS(d);e.content.a.innerHTML=f;f+=".";var g=m.Yf("textarea","1%","15%","98%","70%",e.content.a);b&&(g.value=RS(b,d));g.select();g.focus()}
function $S(a,b){function d(){l.clear();var p=new F(l,0,0,1,.25);p.a.innerText="Page: "+(1+Math.floor(a[0]/9));E(p.a,function(){a[0]=aT(a[0],(a[0]+9)%18,b,h);d()});for(p=0;3>p;p++)for(var q=0;3>q;q++){var n=new F(l,.33*q,.25+.25*p,.33*(q+1),.25+.25*(p+1));n.a.className=3*p+q==a[0]%9?"efFlatButtonHighlighted":"efFlatButton";E(n.a,B(function(u,x){a[0]=aT(a[0],a[0]-a[0]%9+3*x+u,b,h);d()},q,p))}}function e(p,q,n){var u=(new F(f.content,.25,[0,0,g],.75,[0,0,g+.055])).a;g+=.055*1.1;La(u);u.j.innerText=
p;E(u,q);n&&Lb(u,n);return u}var f=Da({title:"Move blueprint",pb:"This allows to move the blueprint around in the blueprint dialog grid, to re-organize your blueprints. Any move will swap this blueprint with the blueprint that is in the target slot, so none get overwritten.<br><br>The forward/backward movement move its index within the grid/pages, this may move to the other page if beginning/end of a page is reached.<br><br>Up/down/left/right move in that direction in the grid.<br><br>Move to other page swaps this blueprint between the two blueprint pages.<br><br>For any of the movements, if the beginning/end is reached it wraps around to the other side. E.g. when moving left while the blueprint is on the left side of the 3x3 grid, it will end up on the right side. Or if moving the index backwards of the first blueprint of the first page, it will end up in the last slot of the second page.<br><br>You can also click locations on the small 3x3 grid indicator to swap immediately with that blueprint, just keep in mind that clicking this a lot may cause all your blueprints to shuffle around since each time you move it, it swaps with the other one."}),
g=.01,h=OH();e("Move index backwards",function(){a[0]=aT(a[0],(a[0]-1+18)%18,b,h);d()});e("Move index forwards",function(){a[0]=aT(a[0],(a[0]+1)%18,b,h);d()});e("Move left",function(){var p=a[0]%3;a[0]=aT(a[0],a[0]-p+(p+2)%3,b,h);d()});e("Move right",function(){var p=a[0]%3;a[0]=aT(a[0],a[0]-p+(p+1)%3,b,h);d()});e("Move up",function(){var p=a[0]%9;a[0]=aT(a[0],a[0]-p+(p+6)%9,b,h);d()});e("Move down",function(){var p=a[0]%9;a[0]=aT(a[0],a[0]-p+(p+3)%9,b,h);d()});e("Move to other page",function(){a[0]=
aT(a[0],(a[0]+9)%18,b,h);d()});if(OH()){var k=new F(f.content,.25,[0,0,g],.75,[0,0,g+.055]);g+=.055*1.1;Cc(k,h,"Also update automaton actions",function(p){h=p},"If enabled, automaton auto-action numeric references will be updated too, so that they will refer to the same actual blueprint. If disabled, automaton auto-action numeric references will keep referring to the same index, so the actual blueprint they point to can change due to moving them around.")}g+=.05;var l=new F(f.content,[.5,0,-.06],
[0,0,g],[.5,0,.06],[0,0,g+.16]);d()}var bT=void 0,cT=-1;
function dT(a,b,d,e){if(Zt()){var f=!1,g=a;a=YG(a);var h=Da({vb:function(){f?(a=YG(g),l(),f=!1):bT&&cT==d[0]&&(a=YG(bT),l(),f=!0);return!0},names:"undo",oncancel:function(){!eT&&f&&(bT=YG(g),cT=d[0],XG(a,g))},Wc:"ok",title:"Blueprint",onclose:e,pb:VR,Qe:function(x){var y=VK(x);"f"!=y.key||y.shift||y.Bh||(b?XS(a):VS(a),l(),f=!0);"Enter"!=x.key||y.shift||y.Bh||(b?US(a,!0):SS(a,!0),XG(a,g),fb(),l())}}),k=new F(h.content,[0,0,.25],0,[0,0,.75],[0,0,.5]);PS(a,b,k,d[0],void 0,void 0,void 0,!0);var l=function(){PS(a,
b,k,d[0],void 0,void 0,void 0,!0);var x=a.name;x||(x=b?"Ethereal blueprint":"Blueprint");h.Hp.innerText=x;if(b){x="To field";var y=QS(a,2);y=y.empty()?"0 resin":y.toString();x+=" ("+y+")";y=QS(a,3);y=y.empty()?"0 resin":y.toString();n.j.innerText=x;u.j.innerText="Override field ("+(y+")");x=QS(a,1);q.a.innerText="Total value: "+x.toString()}},p=.51;if(b){var q=new F(h.content,[0,0,.25],[0,0,p],[0,0,.75],[0,0,p+.04]);p+=.04}e=function(x,y,r){var v=(new F(h.content,[0,0,.25],[0,0,p],[0,0,.75],[0,0,
p+.055])).a;p+=.055*1.1;La(v);v.j.innerText=x;E(v,y);r&&Lb(v,r);return v};var n=e("To field",function(){b?US(a,!1):SS(a,!1);XG(a,g);fb();l()},"Plant this blueprint on the field. Only empty spots of the field are overridden, existing crops will stay, even if their type differs.");var u=e("Override field",function(){b?US(a,!0):SS(a,!0);XG(a,g);fb();l()},"Plant this blueprint on the field. Existing crops from the field are also deleted and overridden, if their type differs and the blueprint is non-empty at that spot.");
e("From field",function(){b?XS(a):VS(a);l();f=!0},"Save the current field state into this blueprint. You can use the cancel button below to undo this.");e("Export to TXT",function(x){YJ("Export blueprint",void 0,RS(a,b&&b&&!x.shiftKey),"blueprint-"+m.gf(m.getTime(),!0)+".txt",!1)},"Export the blueprint to text format, for external storage and sharing");e("Import TXT (edit)",function(){ZS(function(x){var y=x;x=a;if(""!=y){y=y.trim();y=y.split("\n");var r=y.length;if(!(1>r||11<r)){for(var v=0,w=[],
H=[],D=0;D<r;D++){w[D]=[];H[D]=[];for(var A=0,I=y[D],X=0;X<I.length;){var z=I[X++];if("\t"!=z&&" "!=z){z?(z=z.toUpperCase(),z="."==z?0:"W"==z?2:"B"==z?3:"M"==z?4:"F"==z?5:"S"==z?6:"Z"==z?7:"I"==z?8:"N"==z?9:"A"==z?32:"Q"==z?33:"L"==z?34:"E"==z?35:"U"==z?60:"0"==z?100:"1"==z?101:"2"==z?102:"3"==z?103:"4"==z?104:"5"==z?105:0):z=0;w[D][A]=z;if(b){for(z="";X<I.length;){var $a=I.charCodeAt(X),db=I[X];if(48<=$a&&57>=$a)X++,z+=db;else if("\t"==db||" "==db)X++;else break}H[D][A]=""==z?-1:parseInt(z)}A++}}A>
v&&(v=A)}if(!(1>v||11<v)){for(D=0;D<r;D++)for(A=w[D].length;A<v;A++)w[D][A]=0,b&&(H[D][A]=0);x.C=v;x.F=r;x.data=w;x.g=H;WS(x)}}}l();f=!0},a,b)},"Import the blueprint from text format, as generated with To TXT. You can use the cancel button below to undo this.");e("Rename",function(){ic("Rename blueprint","Enter new blueprint name, or empty for default",function(x){a.name=Bc(x);l();f=!0},a.name)},"Rename this blueprint. This name shows up in the main blueprint overview. You can use the cancel button below to undo this.");
e("Delete blueprint",function(){a.C=0;a.F=0;a.data=[];a.name="";l();f=!0},"Delete this blueprint. You can use the cancel button below to undo this.");e("Move blueprint",function(){$S(d,b)},"Reorganize the order of your blueprints: moves this blueprint's location in the blueprint dialog horizontally, vertically or to another page.");l()}}
function VR(){Da({title:"Blueprint help",Ia:!0}).content.a.innerHTML='Blueprints allow planting a whole field layout at once, and storing layouts. They can be accessed from the blueprint library, which is in the tree dialog of both basic and ethereal field.<br/><br/>A field layout represents a crop type for each tile. Crop types are for example berry, mushroom, flower, nettle, ... A layout never refers to a specific crop, such as blackberry or blueberry, only to the type (here "berry") in general.<br/><br/>Planting a blueprint places crop templates on the field. You can also plant individual crop templates yourself using the regular plant dialog.<br/><br/>The blueprint will only plant templates on empty field cells, when a field cell already has something (including another template) it is not overplanted.<br/><br/>If the blueprint and field have a different size, it still just works and plants anything it can that is not out of bounds, centered around the tree. The tree is not present in the blueprint itself, it assumes where the standard position of a field of that size is.<br/><br/>To create a blueprint, you can use two methods:<br/> \u2022 From field: the current field layout is copied to the blueprint, e.g. wherever there\'s any berry on the field, produces a berry template in the blueprint.<br/> \u2022 From text (TXT): Write a field layout on multiple lines of text using letter symbols (B for berry, ...). Export TXT does the opposite.<br/><br/>Keyboard shotcuts for blueprints:<br/>Note: on mac, ctrl means command instead.<br/> \u2022 "b": open the blueprint dialog (from field, or from ethereal field)<br/> \u2022 shift + click blueprint in main blueprint dialog: plant it immediately, and overriding existing field crops, rather than opening its editing dialog (if not empty)<br/> \u2022 "t", "b": open transcend dialog, and then open transcend-with-blueprint dialog<br/> \u2022 "1-9" in blueprint selection dialog: shortcuts to open or use this blueprint<br/> \u2022 "shift 1-9" in blueprint selection dialog: override field with this blueprint (shift key not necessary in transcend-with-blueprint dialog)<br/> \u2022 "f" in blueprint editing dialog: set blueprint from fuild<br/> \u2022 "Enter" in blueprint editing dialog: override field with blueprint<br/> \u2022 "u": when mouse hovering over blueprint template: upgrade template to highest crop tier you can afford of that type<br/><br/>Once automaton is advanced enough, it can also use blueprints.'}
function fT(a,b,d,e,f,g,h,k){if(e)e(f),Ha();else{var l=Math.floor(f/9),p=f%9,q=g[p],n=[f],u=d?G.Ud:G.gd;for(e=0;e<=f;e++)u[e]||(u[e]=new TG);e=u[f]&&u[f].C&&u[f].F;a?G.s<ty&&0!=G.s&&!G.challenge?T("not high enough tree level to transcend (transcend with blueprint tries to transcend first, then plant the blueprint)",uB):(h=b||0,G.challenge?W({type:LM,challenge:h,tb:u[f]}):G.s>=ty&&W({type:LM,challenge:h,tb:u[f]}),fb(),Hm()):(h&&!k||!h&&k&&165024E4>G.Jc)&&e?(d?US(u[f],!0):SS(u[f],!0),fb(),Hm()):h&&
k&&e?1640995200<G.Jc||G.s<ty&&0!=G.s&&!G.challenge||d||(G.s>=ty&&(T("Transcended and planted blueprint"),W({type:LM,challenge:0,tb:u[f]})),fb(),Hm()):dT(u[f],d,n,function(){f=n[0];p=f%9;q=g[p];Math.floor(f/9)==l&&PS(u[f],d,q,f,a,b,!0)})}}function aT(a,b,d,e){var f=d?G.Ud:G.gd,g=f[a];f[a]=f[b];f[b]=g;gT&&gT();if(e)for(e=0;e<G.ua.length;e++)for(f=G.ua[e],g=0;5>g;g++){var h=f.effect;0<g&&(h=f.Dd[g-1]);d?h.zd==a?h.zd=b:h.zd==b&&(h.zd=a):h.tb==a?h.tb=b:h.tb==b&&(h.tb=a)}return b}var NM=!1,gT=void 0;
function fL(a,b,d,e){if(Zt()){var f=d?G.Ze:G.Ye,g=[],h=void 0,k=void 0;a&&!b&&(h="challenges",G.Vj&&(h="challenges\n(new!)"),k=function(){OM()});var l=a?b?la(V[b].name)+" with blueprint":"Transcend with blueprint":d?"Ethereal blueprint library":"Blueprint library";NM=!0;h=Da({Wc:e?"cancel":"back",title:l,Qe:function(q){var n=VK(q).key;"p"==n&&(d?(G.Ze=!G.Ze,f=G.Ze):(G.Ye=!G.Ye,f=G.Ye),Ha(),fL(a,b,d,e));var u=-1;"1"==n&&(u=1);"2"==n&&(u=2);"3"==n&&(u=3);"4"==n&&(u=4);"5"==n&&(u=5);"6"==n&&(u=6);"7"==
n&&(u=7);"8"==n&&(u=8);"9"==n&&(u=9);0>u||(u--,f&&(u+=9),n=m.Gh(q),q=m.Si(q),fT(a,b,d,e,u,g,n,q))},pb:VR,vb:[function(q){if(q){q=d?G.Ud:G.gd;for(var n=0;9>n;n++){var u=q[n];q[n]=q[n+9];q[n+9]=u}Ha();fL(a,b,d,e);return!0}d?(G.Ze=!G.Ze,f=G.Ze):(G.Ye=!G.Ye,f=G.Ye);Ha();fL(a,b,d,e);return!0},k],names:[f?"page 1":"page 2",h],po:["physically swap the blueprints to the other page",void 0],Lp:["go to the other page of the blueprint library. With shift button: physically swap the blueprints to the other page.",
void 0],onclose:function(){NM=!1;gT=void 0}});var p=new F(h.content,0,0,[0,0,1],[0,0,1]);gT=function(){var q=d?G.Ud:G.gd;p.clear();for(var n=0;9>n;n++){var u=n;f&&(u+=9);var x=n%3,y=Math.floor(n/3);x=new F(p,.33*(x+.05),.33*(y+.05),.33*(x+.95),.33*(y+.95));g[n]=x;PS(q[u],d,x,u,a,b,!0);Ga(x.a,!0);xa(x.a,B(function(r,v,w,H){return fT(a,b,d,e,r,g,w,H)},u,x),"edit blueprint "+(u+1),{Zc:"override field now"})}};gT();Nb(p,h.content)}}
function QS(a,b){var d=P();if(0==b)return JN();if(!a||0==a.C||0==a.F)return d;var e=Math.floor((a.C-1)/2)-Math.floor((G.qa-1)/2),f=Math.floor(a.F/2)-Math.floor(G.pa/2),g={};if(3==b){for(var h=G.qa,k=G.pa,l=0;l<k;l++)for(var p=0;p<h;p++){var q=p+e,n=l+f,u=void 0;if(0<=q&&0<=n&&q<a.C&&n<a.F){u=a.data[n][q];var x=a.g[n][q];u=Uu[VG(u,x)]}x=G.xa[l][p];x.index!=fm&&x.index!=em&&(b=S(x),u||(u=b),u&&(x=g[u.index]||0,g[u.index]=x+1,d.u(u.O(void 0,x))))}a=JN();d.wa(a)}else for(h=a.C,k=a.F,n=0;n<k;n++)for(q=
0;q<h;q++)if(p=q-e,l=n-f,!(0>p||0>l||p>=G.qa||l>=G.pa)&&(u=a.data[n][q],x=a.g[n][q],u=Uu[VG(u,x)]))x=G.xa[l][p],x.index==fm||x.index==em||2==b&&0!=x.index||(x=g[u.index]||0,g[u.index]=x+1,2==b&&(x+=G.Tb[u.index]),d.u(u.O(void 0,x)));return d};var hT=0,iT=1,sJ=2,tJ=3,uJ=4,jT=5,kT=6;function lT(a,b){return a==hT?lB:a==iT?mB:a==sJ?nB:a==tJ?oB:a==uJ?pB:a==jT?b&&!b.Uc?pB.Lc():qB:a==kT?rB:c(999999999)}
function eP(){function a(e,f){var g=(new F(mT,.1,b,.75,b+.065)).a;La(g);b+=.065*1.35;void 0!=f&&(e+=" ("+lT(f,G).toString()+" amber)");g.j.innerText=e;void 0!=f&&E(g,function(){W({type:nT,effect:f});Hm();eP()});return g}mT.clear();(new F(mT,0,0,1,.1)).a.innerHTML="\n      Amber Processor. Use amber for various effects.\n      <br><br>\n      Amber is gained gradually while the tree levels up, it may drop some every now and then.\n      <br><br>\n      Have amber: "+G.b.ta.toString();var b=.3;var d=
a("Production boost 100%",iT);Lb(d,"Get a 100% production boost (seeds and spores) during this run. Resets on transcend.");d.id="amber_prod";G.Bf?d.className="efButtonAmberActive":G.b.ta.ka(mB)?d.className="efButtonCantAfford":jn()&&(d.className="efButtonCantAfford");G.Mb?(d=a("Stop hold season",jT),Lb(d,"Stops the keep season effect. Refunds amber if keep season didn't have to extend the season. Otherwise starts the next season, which will last 24 hours."),d.id="amber_end_keep_season",G.Mb?d.className=
"efButtonAmberActive":G.b.ta.ka(qB)&&(d.className="efButtonCantAfford")):(d=a("Season hold this run",uJ),Lb(d,"Keep the current season until transcension, it won't change until the run is done. Ending the run will start the next season with 24 hours left. If the run is finished early (current season didn't need to be held), it'll give a full refund of the amber cost and no seasons are affected."),d.id="amber_keep_season",G.Mb?d.className="efButtonAmberActive":G.b.ta.ka(pB)&&(d.className="efButtonCantAfford"));
d=a("Season +1h",sJ);Lb(d,"Make the current season 1 hour longer (1-time). Can be used once per season.");d.id="amber_lengthen";if(G.Ve)d.className="efButtonAmberActive";else if(G.b.ta.ka(nB)||G.Mb)d.className="efButtonCantAfford";d=a("Season -1h",tJ);Lb(d,"Make the current season 1 hour shorter (1-time). If the season has less than 1 hour remaining, then it is only shortened by this remaining time, immediately activating the next season. Can be used once per season.");d.id="amber_shorten";if(G.Ve)d.className=
"efButtonAmberActive";else if(G.b.ta.ka(oB)||G.Mb)d.className="efButtonCantAfford";d=a("Reset choice upgrades",kT);Lb(d,"Resets all choice upgrades, and prevents the automaton from doing them for the rest of this run.");d.id="amber_reset_choice";G.pg?d.className="efButtonAmberActive":G.b.ta.ka(rB)&&(d.className="efButtonCantAfford");Ix()&&(d=a("Squirrel respec token",hT),Lb(d,"Get an additional respec token for resetting squirrel upgrades. Note that you already got some for free, no need to buy this if you still have some left."),
d.id="amber_respec");G.b.ta.ka(lB)&&(d.className="efButtonCantAfford");b+=.0325;d=a("Help");E(d,function(){qu(36,!0)})};function oT(a,b,d,e){var f="Squirrel upgrade: "+(e?"???":a.name);f=f+"<br><br>"+(e?"Buy more upgrades to reveal the description of this one":la(Vw(a)));f+="<br><br>";if(b||d)f+="Gated: you must buy all squirrel upgrades that come before this, including side branches above, before this one unlocks.<br><br>";a=new P({Y:kB(G.Sc)});f+="Next costs: "+a.toString()+" ("+Tb(a)+")";return f=f+"<br>Nuts available: "+(G.b.Y.toString()+". Grow nut crops in the main field to get more nuts.")}
function pT(a,b,d,e){for(var f=[],g=GA[G.Xa],h=-1,k=a.index;0<k;k--)if(g[k].Uh){h=k;break}for(var l=0;l<a.index;l++){var p=l<h;for(k=0;k<g[l].Dc.length;k++)0!=RH(l,1,k)&&f.push({type:qT,Cc:l,A:1,d:k});if(p){for(k=0;k<g[l].Se.length;k++)0!=RH(l,0,k)&&f.push({type:qT,Cc:l,A:0,d:k});for(k=0;k<g[l].S.length;k++)0!=RH(l,2,k)&&f.push({type:qT,Cc:l,A:2,d:k})}}for(k=0;k<=d;k++)f.push({type:qT,Cc:l,A:b,d:k});g=f.length;h=c(0);for(k=0;k<g;k++)h.u(kB(k));if(h.ba(G.b.Y))e?W({type:qT,Cc:a.index,A:b,d:d}):T("not enough resources to buy these "+
g+" squirrel upgrades: have: "+G.b.Y.toString(Math.max(5,uk))+", need: "+h.toString(Math.max(5,uk))+" ("+Tb(P({Y:h}))+")",uB,0,0);else for(k=0;k<f.length;k++)W(f[k])}
function rT(a,b,d,e,f,g,h){var k=GA[G.Xa],l=!1;if(0<b.index&&!h){var p=k[b.index-1],q=G.rb[b.index-1];q.$[1]+1==p.Dc.length&&0<q.$[1]&&(l=!0);1<b.index&&!l&&1==p.Dc.length&&G.rb[b.index-2].$[1]==k[b.index-2].Dc.length&&(l=!0)}k=h?0:RH(b.index,f,g);var n=0==k,u=2==k,x=1==k;l=b.em>G.Gk;var y=3<=k;y&&(d.ya[f]>g||b.fm<=G.Hk||3==k&&!l)&&(y=!1);var r=b.Uh,v=oT(e,u,r,y);d=new F(a,[0,0,.9],0,1,.97);sa(d.a);k=y?"???":la(e.name);l=kB(G.Sc).Sa(G.b.Y);a.a.className=n?"efSquirrelBought":x&&!l?"efSquirrelCantAfford":
x?"efSquirrelBuy":u?"efSquirrelGated":"efSquirrelUnknown";a=new F(a,[0,0,.05],[0,0,.15],[0,0,.8],[0,0,.9]);a.clear();a.a.style.backgroundColor="#ccc";a.a.style.border="1px solid black";l=pb("0%","0%","100%","100%",a.a);qb(y?Si[0]:e.image,l);Ga(a.a);h||(u?k+="<br>(Gated)":x?k+="<br>Buy":n&&(k+="<br>Bought"));var w=(x||u)&&!n&&!h,H=void 0;if(w||0<G.Jg&&!y&&!n)H=function(){0<G.Jg&&!x?pT(b,f,g,u):W({type:qT,Cc:b.index,A:f,d:g});gP&&(XB=gP.a.scrollTop);Hm();YB()};w?(Ga(d.a),E(d.a,H)):G.Jg&&!y&&H&&(d.a.onclick=
function(D){(G.b.Y.ba(kB(G.Sc+2))||D.shiftKey)&&H(D)});n?Lb(d.a,function(){return oT(e,u,r,y)}):Lb(d.a,function(){return"Buy "+na(oT(e,u,r,y))});xa(a.a,function(){var D=void 0,A=void 0;w?(D=function(I){H(I)},A="Buy"):0<G.Jg&&!y&&!n&&(D=function(){pT(b,f,g);gP&&(XB=gP.a.scrollTop);Hm();YB()},A="Buy all to here");Da({size:Za,vb:D,names:A,title:"Squirrel upgrade",icon:e.image}).content.a.innerHTML=oT(e,u,r,y)},"show squirrel upgrade info",{Ba:function(){return"show info for: "+e.name+"<br><hr><br>"+
v}});d.a.j.innerHTML=k}
function sT(a,b,d,e){var f=e?null:G.rb[b.index],g=[b.Se,b.Dc,b.S],h=d,k=e?.1:.145,l=k+.035,p=Math.max(Math.max(b.Se.length,b.Dc.length),b.S.length);if(g[0].length){var q=1,n=new F(a,.33*(q-1+.5),[h+.5*(k-l)+.03,-.005],.33*(q+.5),[h+.5*(k-l)+.03,.005]);n.a.className="efConnector";n=new F(a,.33*(q-1+.5)-.005,[h-.5*(l-k)+.03,-.005],.33*(q-1+.5)+.005,h+.03);n.a.className="efConnector"}g[2].length&&(q=1,n=new F(a,.33*(q+.5),[h+.5*(k-l)+.03,-.005],.33*(q+1+.5),[h+.5*(k-l)+.03,.005]),n.a.className="efConnector",
n=new F(a,.33*(q+1+.5)-.005,[h-.5*(l-k)+.03,-.005],.33*(q+1+.5)+.005,h+.03),n.a.className="efConnector");for(q=0;q<g.length;q++){for(var u=g[q],x=h,y=b.Uh,r=0;r<u.length;r++){n=DA[u[r]];var v=x;0==r&&(g[0].length||g[2].length)&&(x+=.03);var w=new F(a,.33*(q+.05),x,.33*(q+.95),x+k);rT(w,b,f,n,q,r,e);if(0<r||1==q)n=new F(a,.33*(q+.5)-.005,v+k-l,.33*(q+.5)+.005,x-(y?.014:0)),n.a.className="efConnector",y&&(n=new F(a,.33*(q+.5)-.005,x-.015,.33*(q+.5)+.005,x),n.a.className="efConnectorTriangle");x+=l}1==
q&&b.Dc.length<p&&(n=new F(a,.33*(q+.5)-.005,x+k-l,.33*(q+.5)+.005,x+(p-b.Dc.length)*l),n.a.className="efConnector");d=Math.max(d,x)}return d}var XB=void 0,gP=void 0,tT=void 0;
function YB(a){tT&&gP||(a=!1);var b=GA[G.Xa];gP&&(XB=gP.a.scrollTop);a||(uT.clear(),gP=void 0);if(Ix()){var d=a?tT:new F(uT,0,0,1,.1);tT=d;if(Eo()){var e=function(g){function h(){W({type:vT});gP&&(XB=gP.a.scrollTop);Hm();YB()}qa(g)?h():Da({size:Za,vb:h,names:"Respec now",title:"Squirrel respec"}).content.a.innerHTML="Really respec? This resets and refunds all squirrel upgrades, and consumes 1 respec token<br><br>Tip: after respec, you can click on upgrades further below the tree (as long as their name is revealed) to buy all upgrades up to that one at once, so you don't have to click all the individual ones."};sa(d.a);
var f=new P({Y:kB(G.Sc)});f="Upgrades done: "+G.Sc+". Next costs: "+f.toString()+" ("+Tb(f)+")<br>Have: "+G.b.Y.toString()+" nuts. ";No()&&(f+="Unspent nuts production boost: "+K(Jj(Oo(),1)));d.a.j.innerHTML=f;a||(d=new F(uT,0,.1,1,.2),f=new F(d,0,0,.24,.9),E(f.a,function(){qu(35,!0)}),La(f.a),f.a.j.innerText="Help",f=new F(d,.26,0,.5,.9),E(f.a,e),La(f.a),f.a.j.innerText="Respec\n(Available: "+G.ig+")",Lb(f.a,"Resets and refunds all squirrel upgrades, consumes 1 respec token"),G.Xa&&(e=new F(d,.52,
0,.76,.9),E(e.a,wT),La(e.a),e.a.j.innerText="See old tree",Lb(e.a,"Shows the old tree from before the squirrel evolution ")));gP=e=a?gP:new F(uT,0,.2,1,1);if(!a){wb(e);e.a.style.overflowY="scroll";a=.15;for(d=0;d<b.length;d++)a=sT(e,b[d],a,!1);!G.wi||G.Ue||void 0!=XB&&0!=XB||(XB=e.a.scrollHeight);XB&&(e.a.scrollTop=XB)}}else d.a.innerText="You must have squirrel in ethereal field to use the squirrel upgrades tab, place squirrel there first or replace an existing ethereal crop by a squirrel."}}
var VF=!1;function wT(){if(0<G.Xa){VF=!0;for(var a=Da({title:"View pre-evolution squirrel tree",Ia:!0,icon:mg,onclose:function(){VF=!1}}).content,b=0,d=GA[0],e=0;e<d.length;e++)b=sT(a,d[e],b,!0);a.update()}}var xT=void 0,yT=void 0,zT=void 0;
function yB(){return"\n    This will reset all squirrel upgrades and remove their effects, but unlocks a new squirrel tree with more expensive upgrades, and gives a permanent flat bonus.\n    <br><br>\n    After doing this, you will initially be weaker than before, but the new upgrade tree will eventually make you much stronger, so doing this is worth it at some point and you can earn your strength back multifold.\n    Most upgrades of the old squirrel upgrade tree will come back in the new tree (not necessarily in the same order as before), and some new ones appear too.\n    <br><br>\n    What you lose:\n    <br> \u2022 All current squirrel upgrades and their effects (including layout effects such as diagonal brassica)\n    <br> \u2022 All your nuts will be set to 0\n    <br> \u2022 Nuts will stay at 0 and cannot be produced until next transcension\n    <br><br>\n    What you get:\n    <br> \u2022 You can place a second squirrel in the ethereal field\n    <br> \u2022 Permanent flat production bonus of "+K(ro)+
"\n    <br> \u2022 Permanent ethereal tree neighbor bonus of "+K(Ou)+"\n    <br> \u2022 New squirrel upgrade tree with more expensive upgrades, a mix of new ones and the old ones returning\n    <br> \u2022 The first new squirrel upgrade is free and can be chosen immediately\n    <br><br>\n    WARNING: this is irreversible, you cannot respec to go back. Since you will initially be weaker, if there are any challenges or other runs you want to push soon, you may wish to do those first.\n    You can also store a backup of your savegame using export from the main menu first, so that if you feel the reset was not worth it yet, you can still go back to the old savegame.\n    <br><br>\n    TIP: to get back to original strength over the next days, try to get the first new squirrel upgrades. To get those, push to high level berries and mushrooms, then focus on spore production to afford better nuts crops.\n    "}
;var AT=-1,BT=-1,OS=[],CT=void 0,JS=!1,DT=!1;
function ET(a,b){if(b){b=Zt()?new F(a,0,0,.33,1):void 0;var d=wu()?new F(a,.33,0,.66,1):void 0;a=OH()?new F(a,.66,0,.99,1):void 0}else{var e=OH()?.33:.5;b=Zt()?new F(a,0,0*e,1,1*e):void 0;d=wu()?new F(a,0,1*e,1,2*e):void 0;a=OH()?new F(a,0,2*e,1,3*e):void 0}b&&E(b.a,function(){JH()&&(G.paused?(G.fd=1-G.fd,EM(),NJ()):(W({type:GM,cd:2,Mc:1-G.fd,hb:function(){EM();NJ()}}),Hm()))});d&&E(d.a,function(){JH()&&(G.paused?(G.Sd=1-G.Sd,EM(),NJ()):(W({type:GM,cd:1,Mc:1-G.Sd,hb:function(){EM();NJ()}}),Hm()))});
a&&E(a.a,function(){JH()&&(G.paused?(G.jc=1==G.jc?0:1,EM(),NJ()):(W({type:GM,cd:5,Mc:1==G.jc?0:1,hb:function(){EM();NJ()}}),Hm()))});var f=tu()&&!nH(),g=NH()&&!oH(),h="Plant: "+(MH()?f||g?'<font color="#bb0">auto</font>':'<font color="#0b0">auto</font>':'<font color="#b00">manual</font>'),k="Upgrades: "+(mH()?'<font color="#0b0">auto</font>':'<font color="#b00">manual</font>');e="Auto-action: "+(PH()?'<font color="#0b0">on</font>':2==G.jc?'<font color="#c60">off</font>':'<font color="#b00">off</font>')+
"&nbsp;&nbsp;";b&&(Ga(b.a),sa(b.a),b.a.title=f?"quick toggle auto-plant (auto unlock is currently disabled and not toggled by this button, use automaton tab to enable)":g?"quick toggle auto-plant (auto prestige is currently disabled and not toggled by this button, use automaton tab under the auto unlock settings to enable)":"quick toggle auto-plant",b.a.j.innerHTML=h);d&&(Ga(d.a),sa(d.a),d.a.title="quick toggle auto-upgrades",d.a.j.innerHTML=k);a&&(b=new F(a,0,0,[.95,-1],1),Ga(b.a),sa(b.a,2,1),b.a.title=
"quick toggle auto-action",b.a.j.innerHTML=e,b=new F(a,[.95,-1],0,.95,1),Ga(b.a),d=pb("0%","0%","100%","100%",b.a),qb(Zd,d),b.a.className="efFlatButton",b.a.title="quick edit auto-actions",E(b.a,function(l){AM();l.stopPropagation()}))}function FT(){return JH()&&(wu()||(Zt()?!0:!1)||OH())}function GT(){return G.pi&&(0<G.Xp||0<G.Wj)?.95<=window.innerWidth/window.innerHeight:!1}
function NJ(){var a=(JH()?1:0)|(mH()?2:0)|(MH()?4:0)|(wu()?8:0)|(Zt()?16:0)|(nH()?32:0)|(oH()?64:0)|(OH()?128:0)|(PH()?256:0),b=a!=AT;AT=a;a=BT!=300*uk+3*tk+G.td;BT=300*uk+3*tk+G.td;b&&(HT.clear(),!DT&&FT()?(ET(HT,!0),HT.a.style.border="1px solid gray"):HT.a.style.border="");if(IT){GT()?(IT.a.style.visibility="visible",JS=!0):(IT.a.style.visibility="hidden",JS=!1);JT.clear();if(BQ||b||a){BQ=!1;CT!=KT&&(KT.clear(),OS=[],CT=KT,a=m.Zf("span",KT.a),ua(a,"heading"),ta(a,"sidepanel upgrades (only a subset of upgrades tab)"));
for(var d=[],e=0;e<CQ.length;e++)a=CQ[e],Bn[a].Ff()&&d.push(a);for(e=0;e<=d.length&&!(12<=e);e++){var f=0==e?OS[e]||new F(KT,.01,(-.1+e)/12,.99,(e+1)/12):12==e+1&&12<=d.length+1?OS[e]||new F(KT,.01,(.03+e+.1)/12,.99,(e+1)/12):OS[e]||new F(KT,.01,(.03+e+.1)/12,.99,(e+1+.1)/12);OS[e]=f;0==e?b&&(f.clear(),a="Upgrades",DT&&FT()?(ET(f,!1),ta(f.a,"side panel abbreviated upgrades list")):d.length&&(sa(f.a),f.a.j.innerHTML=a,ta(f.a,"side panel abbreviated upgrades list"))):12==e+1&&12<=d.length+1?(f.clear(),
f.a.style.border="",sa(f.a),f.a.j.innerText="more in upgrades tab..."):zQ(Bn[d[e-1]],e&1,e>>1,f,!1,2)}for(;e<OS.length;e++)OS[e]&&(ob(OS[e],KT),OS[e]=void 0)}if(0<G.na||0<G.Wj){a="";Ub(G.ma.h,0)&&(a+="\u2022 Total resin earned ever: "+G.ma.h.toString(),a+="<br>");0<G.na&&(G.challenge?(d=V[G.challenge],e=G.P[G.challenge],b=e.Pa,1<d.ja&&(b=e.kb[e.Ab%d.ja]),e=Math.max(G.s,b),d.Hc()?a=e>b?a+("\u2022 Previous max challenge level: "+b+" (now: "+e+")"):a+("\u2022 Max challenge level reached: "+b):(d=d.ei(),
a=0==b?a+("\u2022 Challenge level goal: "+d):e>b?a+("\u2022 Previous max challenge level: "+b+" (goal: "+d+")"):a+("\u2022 Max challenge level reached: "+b+" (goal: "+d+")"))):a=G.Ic&&G.s>G.Ic?a+("\u2022 Previous max tree level ever: "+G.Ic+" (now: "+G.Oa+")"):a+("\u2022 Max tree level ever: "+G.Oa),a+="<br>");1<=G.s&&(b=wy().B.sub(G.b.B).a(Vb.B),a+="\u2022 Next tree level requires: "+wy().toString(),Ub(b,0)&&(a+=" ("+m.R(b.valueOf(),!0)+")"),a+="<br>");a+="\u2022 Season change in: "+dQ();a+="<br>";
if(b=uH())a+="\u2022 Fruit: "+b.toString()+": "+b.vi(!0,!0),a+="<br>";JT.a.innerHTML=a}}};var lN,IQ,oR,FN,WN,OQ,FM,uT,mT,pK,hQ,LT,kP,MT,NT,HT,OT,NS,GP,CP,HP,rQ,Hb=null,hc=null,kb=null,Ab=null,IT,JT,KT;window.onresize=function(){Hb&&Hb.update()};var gL,XO,ZO,dL,eL,NK,bP,fP,dP,HJ;
function hK(){rc();KJ();document.body.className="efBackground";NS.clear();PT=void 0;QT=-1;RT=void 0;kP.clear();IO=[];JO=[];var a=0;gL=a++;XO=a++;ZO=a++;dL=a++;eL=a++;NK=a++;HJ=a++;bP=a++;fP=a++;dP=a++;for(var b=0;b<a;b++)JO[b]=new F(NS,0,0,1,1);lN=JO[gL];lN.a.style.userSelect="none";IQ=JO[XO];oR=JO[ZO];rQ=JO[HJ];FN=JO[dL];FN.a.style.userSelect="none";OQ=JO[eL];WN=JO[NK];WN.a.style.userSelect="none";FM=JO[bP];uT=JO[fP];mT=JO[dP];hP();kN();RP=[];hQ.clear();rx();VN();iK();ST=-1;G?eM(G.ra):eM(0,!0);GS=
-1}function TT(){FT()?1>=hM?(NS.ic!=LT+NT&&(NS.ic=LT+NT,NS.update(hc.a)),HT.ic!=LT&&(HT.ic=LT,HT.update(hc.a))):(NS.ic!=OT&&(NS.ic=OT,NS.update(hc.a)),HT.ic!=MT&&(HT.ic=MT,HT.update(hc.a))):1>=hM?NS.ic!=LT&&(NS.ic=LT,NS.update(hc.a)):NS.ic!=MT&&(NS.ic=MT,NS.update(hc.a))}var PT=void 0,QT=-1,RT=void 0;
function iK(){var a=G.paused||eT;a&&!PT?(PT=new F(NS,0,0,1,1,3),sa(PT.a),PT.a.style.pointerEvents="none",PT.a.style.color="#f008"):!a&&PT&&(ob(PT,NS),RT=PT=void 0);a=void 0;G.paused?a=eT?"Computing<br>Paused":"Paused":eT&&(a=Math.floor((m.getTime()-G.time)/3600),a=1<a?"Computing <br>"+a+"h":"Computing");void 0!=a&&a!=RT&&(RT=a,PT.a.j.innerHTML=a);G.paused&&1!=QT?(QT=1,qb(ge,qK)):G.paused||0==QT||(QT=0,qb(fe,qK))}var UT=0;function GJ(){YO();hP();cP();EM();eP();YB();iK();TT()}
function VT(){G.F==jm.length&&G.C==jm[0].length||kN();if(G.challenge==Kl&&G.za&&G.za.path){var a=G.za,b=a.path;if(b.length!=G.F||b[0].length!=G.C)b=void 0;for(var d=[],e=0;e<G.F;e++){d[e]=[];for(var f=0;f<G.C;f++)d[e][f]=new cm}a.yn=!0;for(var g=0;g<a.yb.length;g++){var h=a.yb[g],k=Nl[h.index],l=d[h.y][h.x];l.code+=""+h.index+";";var p=h.oo;if(-1==p&&b){var q=b[h.y][h.x];-1!=q.dir&&(p=q.dir)}var n=0>p?0:p;4<l.images.length&&g+2<a.yb.length&&(n=l.images.length&3);l.images.push(k.images[n]);var u=Nl[h.index].name;
0<g&&(l.Ba+="<br>");l.Ba+=la(u)+" level "+a.hc+", hp: "+h.cc.toString()+" / "+h.$f.toString()+", speed: "+c(2/k.speed).toString();1!=k.group&&(l.Ba+=". Group size: "+k.group);k.mn&&(l.Ba+=". Splash resist");k.ql&&(l.Ba+=". Slow resist");h.mh&&(l.Ba+=". Slowed");h.Zg&&(l.Ba+=". Rich");l.ml=h.cc.a(h.$f);l.code+=Math.floor(20*l.ml)+";"}var x=d}else x=void 0;Ll=x;for(var y=0;y<G.F;y++)for(var r=0;r<G.C;r++){var v=void 0,w=void 0,H=r,D=y,A=G.G[D][H],I=jm[D][H],X=A.H,z=S(A);z&&z.type==Al?(w=1<=X?4:Math.min(Math.floor(5*
X),4),0<=w&&4>=w||(w=0),(!A||.001<A.H?0:Zp(z))&&(w=-1)):(w=.1>X?0:.25>X?1:.5>X?2:.9>X?3:4,G.challenge==Rn&&(w=4));var $a=Rm[D][H];z&&z.type==Bl&&!$a.bd&&(w=Math.max(0,w-2));var db=On(),t=-1;if(A.index==fm&&(0<G.s||Ub(G.b.B,0))){var ya=Math.min(.99,G.b.B.a(wy().B).valueOf());t=Math.round(5*ya)}var Ka=fN(),oa=G.Gb+G.Hb*G.C<<4|Ka<<3|G.Va,Ea=G.Ac+G.Bc*G.C<<3|G.fc,Q=H==G.wl&&D==G.xl&&.5>G.time-G.yi,Z=1>A.H,O=tp(A).index;Q&&Yo(A,!0)&&S(A,!0).Oc&&(Q=!1);var zb=H==tN&&D==uN&&.5>G.time-G.be,U=A.index==em||
A.index==fm?G.s:0,Fa=Ll?Ll[D][H]:void 0,$b=Fa&&Fa.images.length?Fa.code:"",jc=-1;if(A.index==gm&&G.challenge==Kl){var M=G.za;M.bc||!M.uc||Xl()||(jc=1-(Yl()-G.time)/10)}var ea=G.challenge==Kl&&z&&-1<=z.g&&G.Ib[z.type]>z.g&&hq[z.type][z.g+1]&&G.b.f.ba(hq[z.type][z.g+1].O().f);if(I.index!=A.index||I.vp!=O||I.jp!=Z||I.lj!=w||db!=I.Qj||U!=I.s||oa!=I.Fl||Ea!=I.Ap||t!=I.Kj||Q!=I.Zo||zb!=I.qp||I.um!=UT||I.zp!=$b||I.qj!=ea||I.Ep!=jc){I.index=A.index;I.vp=O;I.jp=Z;I.lj=w;I.Qj=db;I.s=U;I.Fl=oa;I.Ap=Ea;I.Kj=
t;I.Zo=Q;I.qp=zb;I.um=UT;I.zp=$b;I.qj=ea;I.Ep=jc;var cf=m.Lj(H,D,77777777),Ib=wd[db],Wa=.25>cf?Ib[0]:.5>cf?Ib[1]:.75>cf?Ib[2]:Ib[3];if(A.index==fm||A.index==em)Wa=Ib[4];qb(Wa,I.canvas);var wa="field tile "+H+", "+D,Lc=Fa&&Fa.images.length;if(Q)gd(lg[4],I.canvas);else if(zb)gd(Kd,I.canvas),Lc||Qa(I.progress,-1,void 0);else if(Yo(A,!0)){z=S(A,!0);v=-1==w?z.vm:z.image[w];z.Oc&&-1!=w&&z.Rg&&(v=z.Rg[no(H,D)][w]);gd(v,I.canvas);if(1<=A.H||A.index<Cs)Lc||Qa(I.progress,-1,void 0);wa=z.name+". "+wa;ea&&gd(Cd,
I.canvas)}else if(A.index==em)gd(Li[xy(G.s)][1][db],I.canvas),wa="tree level "+G.s+". "+wa,Lc||Qa(I.progress,-1,void 0);else if(A.index==fm){gd(Li[xy(G.s)][2][db],I.canvas);wa="tree level "+G.s+". "+wa;if(0<G.s||Ub(G.b.B,0))G.challenge==eo?sN(I.canvas,G.s,t,"#420","#fa0"):sN(I.canvas,G.s,t);Lc||Qa(I.progress,-1,void 0)}else if(A.index==AG){var Y=UH();0>Y&&(Y=0);gd(Pm[Y].wm||Gf,I.canvas);Lc||Qa(I.progress,-1,void 0)}else if(A.index==BG){var ib=Math.floor(4*m.Lj(H,D,245643));gd(Yd[ib],I.canvas);wa=
"rock. "+wa;Lc||Qa(I.progress,-1,void 0)}else A.index==gm?(gd(Vi,I.canvas),Lc||Qa(I.progress,-1,void 0)):(Lc||Qa(I.progress,-1,void 0),I.a.innerText="");if(G.Va&&H==G.Gb&&D==G.Hb){var ec=2==G.Va?id:hd;Ka&&(ec=jd);gd(ec[db],I.canvas);wa="fern. "+wa}else G.fc&&H==G.Ac&&D==G.Bc?G.$a&1?(gd(kd[G.Jj],I.canvas),wa="present. "+wa):(gd(ld[G.Jj],I.canvas),wa="egg. "+wa):0==A.index&&(wa="empty "+wa);if(Fa&&Fa.images.length){for(var N=0;N<Fa.images.length;N++)gd(Fa.images[N],I.canvas);var ka=Fa.ml,Pa="#0f0";
.5>ka&&(Pa="#ff0");.25>ka&&(Pa="#f00");Qa(I.progress,Fa.ml,Pa)}A.index==gm&&Qa(I.progress,jc,"#000");ta(I.a,wa)}Yo(A)&&1>A.H&&(z=S(A),Qa(I.progress,A.H,z.type==Al?"#0c0":"#f00"))}for(var Ma=0;Ma<G.pa;Ma++)for(var cb=0;cb<G.qa;cb++){var pc=cb,da=Ma,Na=G.xa[da][pc],Sa=vN[da][pc],Bf=1<=Na.H?4:Math.min(Math.floor(4*Na.H),3),Db=S(Na);Db&&Db.index==Gu&&!Na.wj&&(Bf=Math.max(0,Bf-2));var Mc=-1;if(Na.index==fm&&(0<G.U||Ub(G.b.K,0))){var Md=Math.min(.99,G.b.K.a(Uz(G.U+1).K).valueOf());Mc=Math.round(5*Md)}var Ei=
Db&&0<=Db.g&&G.Zd[Db.type]>G.Ik[Db.type]&&G.b.h.ba(Uu[G.pm[Db.type]].T.h);if(Sa.index!=Na.index||Sa.lj!=Bf||4!=Sa.Qj||G.U!=Sa.U||Mc!=Sa.Kj||Sa.um!=UT||Sa.qj!=Ei||Sa.Xa!=G.Xa){Sa.index=Na.index;Sa.lj=Bf;Sa.Qj=4;Sa.U=G.U;Sa.Kj=Mc;Sa.um=UT;Sa.qj=Ei;Sa.Xa=G.Xa;var C=m.Lj(pc,da,55555),wg=wd[4],km=.25>C?wg[0]:.5>C?wg[1]:.75>C?wg[2]:wg[3];if(Na.index==fm||Na.index==em)km=wg[4];qb(km,Sa.canvas);var Cf="ethereal field tile "+pc+", "+da;Yo(Na)?(Db=Uu[Bs(Na)],gd(Db.image[Bf],Sa.canvas),Ei&&gd(Cd,Sa.canvas),
1<=Na.H&&Qa(Sa.progress,-1,void 0),Cf=Db.name+". "+Cf):Na.index==em?(gd(Li[xy(G.U)][1][4],Sa.canvas),Cf="ethereal tree level "+G.U+". "+Cf):Na.index==fm?(gd(Li[xy(G.U)][2][4],Sa.canvas),(0<G.U||Ub(G.b.K,0))&&sN(Sa.canvas,G.U,Mc),Cf="ethereal tree level "+G.U+". "+Cf):(Qa(Sa.progress,-1,void 0),Sa.a.innerText="");0==Na.index&&(Cf="empty "+Cf);ta(Sa.a,Cf)}Yo(Na)&&1>Na.H&&Qa(Sa.progress,Na.H,"#f00")}for(var L=0;L<G.Ga;L++)for(var He=0;He<G.Ha;He++){var pe=He,Cb=L,R=G.va[Cb][pe],bc=KN[Cb][pe],Fi=1<=R.H?
4:Math.min(Math.floor(4*R.H),3),Xc=MN(R),Gc=6==R.index&&TN();if(bc.index!=R.index||bc.lj!=Fi||6!=bc.Qj||0!=bc.Fl||-1!=bc.Kj||Xc!=bc.$o||bc.Gp!=Gc){bc.index=R.index;bc.lj=Fi;bc.Qj=6;bc.Fl=0;bc.Kj=-1;bc.$o=Xc;bc.Gp=Gc;var uc=m.Lj(pe,Cb,55555),lb=wd[6],tb=.25>uc?lb[0]:.5>uc?lb[1]:.75>uc?lb[2]:lb[3];6==R.index&&(tb=lb[4]);qb(tb,bc.canvas);var Ie="infinity field tile "+pe+", "+Cb;if(Yo(R)){var Vf=Nz[Bs(R)];gd(Vf.image[Fi],bc.canvas);Ie=Vf.name+". "+Ie}else 6==R.index?gd(Mi,bc.canvas):R.index==AG?gd(Hf,
bc.canvas):bc.a.innerText="";Xc&&gd(zd,bc.canvas);Gc&&gd(ie,bc.canvas);(1<=R.H||!Yo(R))&&Qa(bc.progress,-1,void 0);0==R.index&&(Ie="empty "+Ie);ta(bc.a,Ie)}Yo(R)&&1>R.H&&Qa(bc.progress,R.H,"#f00")}CO();gQ();for(var qc=[],Ra=0;Ra<gq.length;Ra++){var mb=G.ab[gq[Ra]];qc[Ra]=!!mb}for(Ra=0;Ra<os.length;Ra++)mb=G.o[os[Ra]].count,qc[gq.length+Ra]=!!mb;var vc=!0;if(EQ.length!=qc.length)vc=!1;else for(Ra=0;Ra<qc.length;Ra++)if(EQ[Ra]!=qc[Ra]){vc=!1;break}if(vc)var Xh=!1;else EQ=qc,DQ(),Xh=!0;for(var df=[],
fc=0;fc<CQ.length;fc++){var Kj=CQ[fc];Bn[Kj].Ff()&&df.push(Kj)}var gc=[];for(fc=0;fc<df.length;fc++){var Je=Bn[df[fc]],lm=G.o[df[fc]],Qk=Je.O(0);gc[fc]=[G.b.ka(Qk),lm.count,Je.index]}var Ke=!1;if(HQ.length==gc.length)for(Ke=!0,fc=0;fc<gc.length;fc++)if(gc[fc][0]!=HQ[fc][0]||gc[fc][1]!=HQ[fc][1]||gc[fc][2]!=HQ[fc][2]){Ke=!1;break}if(!Ke||Xh)YO(),BQ=!0,HQ=gc;for(var Nc=[],md=0;md<Rw.length;md++){var Jb=Rw[md];Sw[Jb].Ff()&&Nc.push(Jb)}var wc=[];for(md=0;md<Nc.length;md++){var be=Sw[Nc[md]],Df=G.S[Nc[md]],
Wf=be.O(0);wc[md]=[G.b.ka(Wf),Df.count,be.index]}var xg=!1;if(PQ.length==wc.length)for(xg=!0,md=0;md<wc.length;md++)if(wc[md][0]!=PQ[md][0]||wc[md][1]!=PQ[md][1]||wc[md][2]!=PQ[md][2]){xg=!1;break}xg||(cP(),PQ=wc);hP();LK();NJ();iK();if(G.ra!=fP)var vb=!1;else{var Ef=!1,Rk=m.getTime()-zT;60<Rk&&(Ef=!0);xT&&yT||(Ef=!0,xT=G.b.Y.clone(),yT=Vb.Y.clone());Ub(G.b.Y,0)&&G.b.Y.ba(xT.i(1.1))&&(Ef=!0,xT=G.b.Y.clone());G.b.Y.mf(0)&&G.b.Y.ka(xT)&&(Ef=!0,xT=G.b.Y.clone());Ub(Vb.Y,0)&&Vb.Y.ba(yT.i(1.1))&&(Ef=!0,
yT=Vb.Y.clone());Vb.Y.mf(0)&&Vb.Y.ka(yT)&&(Ef=!0,yT=Vb.Y.clone());.5>Rk&&(Ef=!1);Ef&&(xT=G.b.Y.clone(),zT=m.getTime());vb=Ef}vb&&YB(!0);Gb&&Gb();Ta&&(Ta(),0==Ua&&(Ta=void 0));tK();G.$a!=UT&&(UT=G.$a,UB(G),GJ());TT()}document.body.style.fontFamily="Arial, sans-serif";function WT(a){document.getElementById("csslink").setAttribute("href",a)}var XT=void 0;
function KJ(){if(XT!=G.vd){XT=G.vd;var a="?v="+UJ().replace(/\./g,"_");2==G.vd?WT("style_dark.css"+a):3==G.vd?WT("style_dark2.css"+a):WT("style_light.css"+a)}};var G=void 0,YT=3600,ZT=!!document.getElementById("topnotice");Hb&&ob(Hb,null);Hb=new F(null,0,0,1,1);Ab=new F(Hb,0,0,1,1);hc=new F(Ab,[0,0,.01,.75],ZT?.03:.01,[0,0,.99,.75],.99);kb=new F(Hb,[0,0,.01,.75],ZT?.03:.01,[0,0,.99,.75],.99);kb.a.style.visibility="hidden";pK=new F(hc,0,0,1,.05);hQ=new F(hc,0,.05,1,.17);LT=.17;kP=new F(hc,0,.171,1,.29);MT=.292;NT=.32-MT;HT=new F(hc,0,MT,1,.32);OT=.325;NS=new F(hc,0,OT,1,.825);GP=.83;CP=new F(hc,0,GP,1,1);HP=new F(hc,0,GP,1,GP+.05);HP.a.style.visibility="hidden";
HP.a.className="efGoal";IT=new F(Ab,[0,0,.99,.75],ZT?.03:.01,[0,0,.99,1.1],.99);IT.a.style.visibility="hidden";IT.a.style.overflow="hidden";JT=new F(IT,.02,.05,.98,.25,4);KT=new F(IT,.02,.25,.98,1);JT.a.className="efBordered";JT.a.style.padding="1%";KT.a.className="efBordered";JT.a.style.borderBottom="none";KT.a.style.borderTop="none";Nb(Hb,document.body);Hb.update();kK();
(function(){var a=oK(0,1).a,b=pb("0%","0%","100%","100%",a);qb(Zd,b);Ga(a,!0);a.title="Settings";E(a,function(){jK()},"settings");a.id="settings_button";a=oK(10,11).a;rK=pb("0%","0%","100%","100%",a);tK();Ga(a,!0);a.title="About";E(a,function(){TJ()},"about");a.id="about_button";var d=oK(1,2).a;Lb(d,"Pause the game. Pauses seasons, timers, growth, all progress, and everything else.<br>Allows to interact and open dialogs, but actions cannot be performed.");qK=b=pb("0%","0%","100%","100%",d);qb(fe,
b);Ga(d,!0);E(d,B(function(){G.paused=!G.paused;G.jl=G.paused&&eT;G.Qa[4]&&(G.paused?T("game paused"):T("game resumed from pause"));iK();ta(d,G.paused?"paused":"pause")},b),"pause");a.id="pause_button";b=oK(2,4,eb);La(b.a,!0);b.a.j.innerText="Undo";xa(b.a,function(e){e?(T("held shift key while pressing undo button, so saving undo instead."),$T(G)):(fM(),Hm());hb()},"undo",{Ba:function(){return"Undo your last action(s). There is only a single undo, press again to redo.<br><br>Undo restores the state before your last action, in case of multiple actions in quick succesion (max "+
m.R(10)+"), this group of actions is undone.<br><br>No resource gain is lost (income during the undone timespan is computed correctly), even if pressing undo after a long time. However, undo save time duration is limited to "+m.R(YT)+"."},Zc:"store undo now"});b.a.id="undo_button"})();var XJ=!1,aU=0;function OJ(a){zJ(G,function(b){m.hg(b,ol);if(!bU){var d=m.getTime();if(d>aU+86400){var e=Math.floor(d/86400)%2;0==e&&m.hg(b,tl);1==e&&m.hg(b,ul);aU=d}}a&&a(b)})}
function cU(){if(!G.Mb)return G.Uc=!1;if(!G.Uc)return T("Keep season did not yet activate, refunding amber",vP,872341239),G.b.ta=G.b.ta.add(pB),G.Ml++,G.Mb=!1;var a=rJ(G.Ca)+1&3;G.Mb=!1;G.Uc=!1;G.kh=0;var b=(dU(G.time)+fQ()+G.xf)%345600;G.xf=b-86400*a-1;return!0}
function WJ(){var a=[],b=m.Hd(rl);b&&a.push(["last from older game version",b]);(b=m.Hd(tl))&&a.push(["daily cycle A",b]);(b=m.Hd(ul))&&a.push(["daily cycle B",b]);(b=m.Hd(sl))&&a.push(["last save for undo feature",b]);(b=m.Hd(ql))&&a.push(["last known good",b]);var d=m.Hd(pl);d&&a.push(["last known attempted",d]);d=m.Hd(ol);b&&a.push(["last",d]);return a}function xJ(a){XJ=!1;Rm=[];eU=fU=gU=void 0;eT=hU=!1;iU=0;jU=a?P(a.b):P();kU=lU=0;xR={};GS=YR;HS=0;MS=!1;Vb=P();jM=zM=!1;sK=-1}
function mU(){for(var a=0;a<os.length;a++)G.o[os[a]].c=!1}
function nU(){var a=G.challenge==Rn&&2>G.P[Rn].X;if(Zt()&&G.challenge!=Sn&&!a&&G.challenge!=cn&&2!=jn()){G.D[Kr].c=!0;G.D[Lr].c=!0;G.D[Mr].c=!0;G.D[Nr].c=!0;G.D[Or].c=!0;G.P[cn].X&&(G.D[Pr].c=!0);a=!!G.challenge&&!V[G.challenge].Ec;var b=!!G.challenge&&!V[G.challenge].og;G.S[vt].count&&!a&&(G.D[Wr].c=!0);G.challenge==cn&&(G.D[Pr].c=!1,G.D[Or].c=!1);b||(G.D[Xr].c=Eo());G.D[Yr].c=hu()||G.D[ms].c}else G.D[Kr].c=!1,G.D[Lr].c=!1,G.D[Mr].c=!1,G.D[Nr].c=!1,G.D[Or].c=!1,G.D[Pr].c=!1,G.D[Wr].c=!1,G.D[Xr].c=
!1,G.D[Yr].c=!1;G.ha[Vu].c?(G.ha[Cw].c=!0,G.ha[Dw].c=!0,G.ha[Ew].c=!0,G.ha[Gw].c=!0,G.ha[Hw].c=!0,G.ha[Fw].c=G.ha[nw].c,G.ha[Kw].c=G.ha[Vu].c,G.ha[Nw].c=G.ha[Wu].c,G.ha[Ow].c=G.ha[yw].c,G.ha[Pw].c=G.ha[Gu].c,G.ha[Qw].c=G.ha[qw].c):(G.ha[Cw].c=!1,G.ha[Dw].c=!1,G.ha[Ew].c=!1,G.ha[Gw].c=!1,G.ha[Hw].c=!1,G.ha[Fw].c=!1,G.ha[Kw].c=!1,G.ha[Nw].c=!1,G.ha[Ow].c=!1,G.ha[Pw].c=!1,G.ha[Qw].c=!1)}
function oU(){var a=new P(G.b),b=G.P[G.challenge];if(G.challenge){var d=V[G.challenge];b.Pa=Math.max(G.s,b.Pa);G.s&&b.$++;if(d.ja){var e=d.hj();b.kb[e]=Math.max(G.s,b.kb[e])}if(0==d.Rb())b.X=0<b.$;else if(d.si(0)){var f=b.X;b.Ab++;f<d.Rb()&&d.si(f)&&(1<d.Rb()?T("Completed the next stage of the challenge and got reward: "+d.Pc[f],uP,38658833):T("Completed the challenge and got reward: "+d.Pc[f],uP,38658833),b.X++,d.Co[f]())}1<d.Rb()&&b.X>=d.Rb()&&b.fi++}var g=EH();G.ii=P();G.ii.h=c(g);d=FH();f=G.s>=
ty;Zb(d,0)&&(f=!1);G.challenge&&!V[G.challenge].ed&&(f=!1);e=GH();var h=G.s>=ty;Zb(e,0)&&(h=!1);G.challenge&&!V[G.challenge].Ec&&(h=!1);var k=c(0),l="";k=CH();l=G.challenge?l+"Starting new run":l+"Transcended";f&&(l+=". Got resin: "+d.toString());h&&(l+=". Got twigs: "+e.toString());G.ea.length&&(l+=". Sacrificed "+G.ea.length+" fruits and got "+k.toString());b.Sk=G.s;b.Tk=G.ga;b.sj=d;b.Am=e;b.Xg=m.getTime();b.pp=G.ma.h;b.zm=G.U;b.ym=G.Oa;T(l,tP,669840411);0==G.na&&qu(1);G.b.h.u(d);G.ma.h.u(d);G.gb.h.u(d);
G.Lg.u(d);G.h=c(0);G.Mf=new P;G.b.K.u(e);G.ma.K.u(e);G.gb.K.u(e);G.K=c(0);G.zc=[];G.b.u(k);G.ma.u(k);G.gb.u(k);for(f=0;f<G.ea.length;f++)b=G.ea[f],b.Yh&&G.zc.push(b);G.ea=[];G.Eg=!0;for(f=0;f<G.ea.length;f++)G.ea[f].Yh=!1;for(f=0;f<G.Z.length;f++)G.Z[f].Yh=!1;for(f=0;f<G.zc.length;f++)G.zc[f].Yh=!1;b=new P(G.gb);b.h=g;G.Gg=ml(G.Gg,b);0<G.s&&(b=function(p,q){p.push(q);50<p.length&&p.splice(0,p.length-50)},b(G.vf,G.s),b(G.gn,G.U),b(G.sd,G.time-G.kd),b(G.hh,G.ma.h),b(G.wf,d),b(G.Oj,e),b(G.gg,G.challenge),
b(G.Nj,On()));G.challenge||(G.Gj=G.kd,G.Nc=G.ga,G.Vm=G.sh,G.Ld=G.gb,G.Fj=G.bf,G.Ej=G.Ef,G.cl=G.ug,G.gl=G.lc,G.Tm=G.Ad,G.fl=G.qe,G.hl=G.th,G.il=G.uh,G.Wm=G.vh,G.bl=G.cf,G.dl=G.rh,G.el=G.vg,G.Rm=G.pe,G.Pm=G.oe,G.Om=G.Bi,G.Sm=G.Ci,G.eh=G.Bd,G.bh=G.re,G.dh=G.se,G.Xm=G.wg,G.Um=G.Di,G.Qm=G.ck,G.ji=G.s);G.challenge==dp&&(G.Nm=G.Ai);G.challenge==Kl&&(G.an=G.Fi,G.bn=G.Gi,G.$m=G.xh,G.Ym=G.Ei,G.Zm=G.wh);d=G.time-G.kd;G.challenge||(0==G.lf?(G.Rf=G.ga,G.lf=G.ga,G.Fg=d,G.Mg=d):(G.Rf=Math.min(G.Rf,G.ga),G.lf=Math.max(G.lf,
G.ga),G.Fg=Math.min(G.Fg,d),G.Mg=Math.max(G.Mg,d)));G.challenge||(G.Oa=Math.max(G.s,G.Oa),G.Ic=Math.max(G.s,G.Ic));G.challenge?G.s?(G.uk++,10<=G.s&&G.Oh++):G.Yl++:G.na++;G.Mb&&cU();G.qg.u(G.b.sub(a))}
function pU(a,b){m.ld(pl);XJ=!1;oU();G.challenge=a||0;G.Ii=0;G.Bf=!1;G.pg=!1;G.ai=0;G.bi=0;G.ha[Fv].c=!0;G.ha[Nv].c=!0;G.ha[fw].c=!0;G.ha[yv].c=!0;G.ha[rw].c=!0;G.kd=G.time;G.ga=0;G.sh=0;G.gb=P();G.bf=P();G.Ef=P();G.ug=0;G.lc=0;G.Ad=0;G.qe=0;G.th=0;G.uh=0;G.vh=0;G.cf=0;G.rh=0;G.vg=0;G.pe=0;G.oe=0;G.Bi=0;G.Ci=0;G.Bd=P();G.re=P();G.se=P();G.wg=0;G.Di=0;G.ck=0;G.Ai=0;G.Fi=0;G.Gi=0;G.xh=0;G.Ei=0;G.wh=0;G.Ed=c(-1);G.Be=c(0);G.Nf=0;G.Of=0;G.Fd=c(-1);G.Ce=c(0);G.Pf=0;G.Qf=0;G.sf=c(-1);G.qf=c(0);G.Tf=0;G.rf=
0;G.Ug=P();G.Sg=P();G.Tg=-Infinity;G.b.f=c(0);G.b.B=c(0);var d=Wz();G.b.u(d);G.ma.u(d);G.gb.u(d);2==jn()?d=[5,5]:(d=[5,5],G.S[Ox].count?d=[9,8]:G.S[Lx].count?d=[8,8]:G.S[Ex].count?d=[7,8]:G.S[Cx].count?d=[7,7]:G.S[wx].count?d=[7,6]:G.S[ix].count&&(d=[6,6]),G.challenge==Kl&&(d=[d[0]+2,d[1]+2]));d[0]!=G.C||d[1]!=G.F?(G.C=d[0],G.F=d[1],fH(G),kN()):fH(G);for(d=0;d<G.pa;d++)for(var e=0;e<G.qa;e++)G.xa[d][e].Zh=!1;G.s=0;G.rd=[0,0,0];G.ee=[0,0];G.fg=0;G.Lf=new P;G.Va=!1;G.nc=G.time;Vb=new P;G.xb=0;G.Lb=
0;for(d=G.zb=0;d<gq.length;d++)G.D[gq[d]]||(G.D[gq[d]]=new KG),e=G.D[gq[d]],e.c=!1,e.oa=0,e.I=0;G.D[jr].c=!0;sB();for(d=0;d<os.length;d++)G.o[os[d]]||(G.o[os[d]]=new OG),e=G.o[os[d]],e.ya=!1,e.c=!1,e.count=0;if(a&&a){a==cn&&(mU(),G.D[Pp].c=!0,G.D[Qp].c=!0,G.D[Rp].c=!0,G.D[Hr].c=!0,G.D[Uq].c=!0,G.D[Eq].c=!0,G.o[Rt].c=!0,G.o[St].c=!0,G.o[Tt].c=!0,G.o[$t].c=!0);a==Kl&&(G.D[vm].c=!0,G.D[wm].c=!0,G.D[xm].c=!0,G.D[ym].c=!0,G.D[zm].c=!0,G.D[Am].c=!0,G.D[Zr].c=!0,G.D[$r].c=!0,G.D[as].c=!0,G.D[bs].c=!0,G.D[cs].c=
!0,G.D[ds].c=!0,G.za=new Wl);if(a==iu||a==vp){d=Math.floor(m.getTime()/10800);var f=a==iu?(d%16777216^6515571)+16777216*(Math.floor(d/16777216)^29295):(d%16777216^5592405)+16777216*(Math.floor(d/16777216)^21845);var g=Math.floor(G.C*G.F/3),h=[];for(d=0;d<G.F;d++)for(e=0;e<G.C;e++){var k=G.G[d][e];0==k.index&&h.push([e,d])}for(k=0;k<g&&0!=h.length;k++){d=Dm(f);f=d[0];var l=Math.floor(d[1]*h.length);e=h[l][0];d=h[l][1];h.splice(l,1);a==iu?G.G[d][e].index=BG:(G.G[d][e].index=Cs+up,G.G[d][e].H=1)}}if(a==
Mp){f=yu[G.P[Mp].Ab%yu.length];for(d=0;d<G.F;d++)for(e=0;e<G.C;e++)k=G.G[d][e],0==k.index&&(k.index=BG);g=Math.floor((G.C-1)/2)-2;h=Math.floor(G.F/2)-2;for(d=0;5>d;d++)for(e=0;5>e;e++)"1"==f[5*d+e]&&(k=G.G[h+d][g+e],k.index==BG&&(k.index=0))}if(a==go)for(d=0;d<G.F;d++)for(e=0;e<G.C;e++)e&1&&d&1&&(k=G.G[d][e],0==k.index&&(k.index=Cs+xp));a==xu&&(mU(),G.D[jr].c=!0,G.D[Uq].c=!0,G.D[Eq].c=!0,G.D[br].c=!0,G.D[lr].c=!0,G.D[wp].c=!0,G.o[$t].c=!0,G.o[Vt].c=!0,G.o[Ut].c=!0,G.o[Wt].c=!0,G.o[Xt].c=!0,G.P[cn].X&&
(G.D[mr].c=!0,G.o[bu].c=!0));a==Kl&&(G.G[0][0].index=gm,qu(44),T("Welcome to tower defense! Build a maze of crops, press the GO button at the top when ready to start the waves",pm,1920341654,void 0,void 0,!0),Fm("Welcome to tower defense! Build a maze of crops, press the GO button at the top when ready to start the waves"))}G.Hi=!1;2==G.jc&&(G.jc=1);G.S[Yt].count&&gx();G.S[jt].count&&px();G.S[bt].count&&tx();G.qb=-1;G.D[Eq].c?G.qb=Eq:G.D[jr].c&&(G.qb=jr);G.ih=c(0);G.ph=c(0);G.oj=!1;for(d=0;d<G.ua.length;d++)G.ua[d].done=
0,G.ua[d].Re=0;3600<G.$c&&(G.$c=3600);nU();Tu++;G.Pj=!b;b||eM(0);bK();jb();RP=[];hQ.clear()}function mN(){this.progress=this.a=void 0}var qU=[],rU=0,iN=rU++,jN=rU++,sH=rU++,rH=rU++,RK=rU++,yQ=rU++,uL=rU++,wL=rU++,tL=rU++,KQ=rU++,MK=rU++,LM=rU++,gR=rU++,YK=rU++,dR=rU++,eR=rU++,ZQ=rU++,uR=rU++,sU=rU++,qT=rU++,vT=rU++,xB=rU++,nT=rU++,GM=rU++,mO=rU++,lO=rU++,TK=rU++,SK=rU++,pL=rU++,xO=rU++,uO=rU++,wO=rU++,tU=rU++,uU=rU++,PK=rU++,vU=m.getTime(),eK="",fK=0,gK=!1,lK=!1,wU=!1;
function $T(a){fK=a.time;zJ(a,function(b){eK=b;m.hg(eK,sl);wU=!1},function(){eK=""})}function fM(){xU=!1;0!=fK&&!gK&&G.time-fK>YT&&(eK="",fK=0,gK=!1);eK?(zJ(G,function(a){AJ(eK,function(){T(wU?"Redone":"Undone",vP,217654408);wU=!wU;hK();Hm();eK=a;m.hg(eK,sl)},function(){T("Not undone, failed to load undo-save",ZJ,0,0)})},function(){T("Not undone, failed to save redo save",ZJ,0,0)}),bK(),cK(),dK(),fK=0,gK=!1):T("No undo present. Undo is stored when performing an action.",uB,0,0)}
function yU(){var a=G.bg;if(a<(G.$a&3?3:2)){a=Math.floor(Math.random()*G.C);for(var b=Math.floor(Math.random()*G.F),d=4;;){var e=a,f=b,g=G.G[b][a];if(g.index==em||g.index==fm)a=(a+1)%G.C;G.Va&&a==G.Gb&&b==G.Hb&&(b=(b+1)%G.F);G.fc&&a==G.Ac&&b==G.Bc&&(b=(b+1)%G.F);if(0>d--)break;if(e==a&&f==b)break}return[a,b]}G.Va&&(G.Gb>=G.C&&(G.Gb=G.C-1),G.Hb>=G.F&&(G.Hb=G.F-1),g=G.G[G.Hb][G.Gb],0!=g.index&&g.index!=AG||a--);G.fc&&(G.Ac>=G.C&&(G.Ac=G.C-1),G.Bc>=G.F&&(G.Bc=G.F-1),g=G.G[G.Bc][G.Ac],0!=g.index&&g.index!=
AG||a--);d=Math.floor(Math.random()*a);for(b=e=0;b<G.F;b++)for(a=0;a<G.C;a++){g=G.G[b][a];f=G.Va&&a==G.Gb&&b==G.Hb;var h=G.fc&&a==G.Ac&&b==G.Bc;if(!(0!=g.index&&g.index!=AG||f||h)){if(e==d)return[a,b];e++}}}function zU(){for(var a=c(-1),b=0,d=null,e=0;e<G.F;e++)for(var f=0;f<G.C;f++){var g=f,h=e;G.Aj&1&&(g=G.C-1-f,h=G.F-1-e);g=G.G[h][g];io(g)&&(!io(g)||.1>g.H?0:S(g).type!=Al)&&(h=S(g).T.f,h.ba(a)||h.Ub(a)&&g.H>b)&&(a=h,b=g.H,d=g)}return d}function dU(a,b){b=b||G;return a-b.Jc-b.jf-b.xf}
function fQ(a){return(a||G).kh?86400:0}function AU(a,b){var d=b||G;if(d.Uc)return d.xi;a=dU(a,b);if(isNaN(a)||Infinity==a||-Infinity==a)return 0;a=Math.floor(a/86400)%4;0>a&&(a=4+a);return a}function rJ(a,b){return AU(a+fQ(b),b)}function On(){return G.challenge==eo?5:rJ(G.time)}function eQ(){var a=dU(G.time);a/=86400;a-=Math.floor(a);return 86400-86400*a}
function BU(a,b){this.x=a;this.y=b;this.Ea=new c;this.zl=c(0);this.zj=0;this.$k=c(1);this.gi=0;this.Oe=new P;this.eg=new P;this.Md=new P;this.kg=new P;this.Ng=new P;this.Dk=new P;this.Yb=new P;this.Nd=new P;this.fh=new P;this.xo=this.dn=void 0;this.Ki=[];this.Pe=[];this.di=new c;this.Qc=0;this.zi=this.af=void 0;this.hm=function(){if(void 0==this.af){this.af=[];var d=G.G[this.y][this.x],e=DG(d);if(e&&(this.nm?e.Cb(d,0,this.af):this.Ek?jo(e,d,0,this.af):this.ho&&Op(e,d,0,this.af),this.Df)){d=this.Df[1];
e=this.Df[2];var f=this.Df[3];this.Df[0]?this.af.push(['<span class="efWatercressHighlight">copying neighbors ('+d+")</span>",!1,e,f.clone()]):G.o[Ms].count&&this.af.push(["no neighbors, not copying",!1,e,f.clone()])}}return this.af};this.eo=function(){if(void 0==this.zi){this.zi=[];var d=G.G[this.y][this.x],e=DG(d);e&&this.om&&qp(e,d,0,this.zi,this.gm())}return this.zi};this.om=this.Ek=this.nm=!1;this.Df=void 0;this.Bm=-1;this.pk=this.bd=!1;this.Hm=this.jd=this.bk=0;this.gm=function(){return this.jd&
1?wl:this.jd&2?xl:this.jd&4?Fl:wl};this.reset=function(){this.Ea.reset();this.zl.reset();this.zj=0;this.$k=c(1);this.gi=0;this.Oe.reset();this.eg.reset();this.Md.reset();this.kg.reset();this.Ng.reset();this.Dk.reset();this.Yb.reset();this.Nd.reset();this.fh.reset();this.Ki=[];this.Pe=[];this.di.reset();this.Qc=0;this.zi=this.af=void 0;this.om=this.Ek=this.nm=!1;this.Df=void 0;this.Bm=-1;this.pk=this.bd=!1;this.Hm=this.jd=this.bk=0}}var Rm=[];
function CU(a,b){DU++;var d=b||0;b=G.C;for(var e=G.F,f=0;f<e;f++){a[f]||(a[f]=[]);for(var g=0;g<b;g++)a[f][g]?a[f][g].reset():a[f][g]=new BU(g,f)}G.ce=0;G.Yj=c(0);if(G.challenge==cn){for(f=0;f<e;f++)for(g=0;g<b;g++){var h=G.G[f][g];var k=DG(h);if(k&&k.index==Qp){var l=a[f][g],p=Op(k,h,d);l.Ea=c(p);for(var q=0;4>q;q++){var n=g+(1==q?1:3==q?-1:0),u=f+(2==q?1:0==q?-1:0);if(!(0>n||n>=b||0>u||u>=e)){var x=G.G[u][n];(h=DG(x))&&h.index==Rp&&l.Ea.u(p.sa(Op(h,x,d)))}}}}for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=
G.G[f][g],(k=DG(h))&&k.index==Pp){l=a[f][g];p=Op(k,h,d);l.Ea=c(p);for(q=0;4>q;q++)n=g+(1==q?1:3==q?-1:0),u=f+(2==q?1:0==q?-1:0),0>n||n>=b||0>u||u>=e||(x=G.G[u][n],h=DG(x),n=a[u][n],h&&h.index==Qp&&l.Ea.u(p.sa(n.Ea)),h&&h.index==Hr&&(l.pk=!0));l.pk&&G.Yj.u(l.Ea)}}for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],h.index==em||h.index==fm)for(q=0;8>q;q++)n=h.x+(1==q||4==q||5==q?1:3==q||6==q||7==q?-1:0),u=h.y+(0==q||4==q||7==q?-1:2==q||5==q||6==q?1:0),0>n||n>=b||0>u||u>=e||4<=q&&!Np(g,f,n,u,G.G)||(x=G.G[u][n],
x.index==sp&&(x=tp(x),n=x.x,u=x.y),!(k=S(x))||(k.type==Bl?!G.S[dn].count:jn()||!G.S[lx].count)&&4<=q||(n=a[u][n],n.bd=!0));var y=(G.challenge==Mp?0:0==On())?8:4,r=!1;for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],k=DG(h))l=a[f][g],k.type==zl&&(l.Ea=jo(k,h,d),l.Ek=!0),k.type==Cl&&(l.Ea=Op(k,h,d),l.ho=!0),k.type==Gl&&(r=!0);for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],k=DG(h))if(l=a[f][g],k.type==yl||k.type==wl||k.type==Gl||k.type==xl){var v=Xo(h,!1);for(q=0;q<v.length;q++)n=g+v[q][0],u=f+v[q][1],
0>n||n>=b||0>u||u>=e||(x=G.G[u][n],(h=DG(x))&&h.type==zl&&(k.type!=xl&&(n=a[u][n],p=n.Ea,l.$k.l(fo(p))),l.gi++))}for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],k=DG(h))if(l=a[f][g],k.type==yl)for(q=0;q<y;q++)n=g+(1==q||4==q||5==q?1:3==q||6==q||7==q?-1:0),u=f+(0==q||4==q||7==q?-1:2==q||5==q||6==q?1:0),0>n||n>=b||0>u||u>=e||4<=q&&!Np(g,f,n,u,G.G)||(x=G.G[u][n],(h=DG(x))&&h.type==Cl&&(n=a[u][n],l.zl.u(n.Ea),l.zj++));for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],k=DG(h))l=a[f][g],k.type==yl&&(l.Ea=jo(k,
h,d),l.Ek=!0),k.type==Cl&&(l.Ea=Op(k,h,d),l.ho=!0),k.type==Bl&&l.bd&&G.ce++;for(f=0;f<e;f++)for(g=0;g<b;g++)if(l=a[f][g],h=G.G[f][g],(k=DG(h))&&k.type==Al){k=qp(k,h,d,null,wl);var w=YA()?8:4;for(q=0;q<w;q++)if(n=g+(1==q||4==q||5==q?1:3==q||6==q||7==q?-1:0),u=f+(0==q||4==q||7==q?-1:2==q||5==q||6==q?1:0),!(0>n||n>=b||0>u||u>=e||4<=q&&!Np(g,f,n,u,G.G))&&(x=G.G[u][n],x.index==sp&&(x=tp(x),n=x.x,u=x.y),n=a[u][n],n.Hm++,n.di.u(k),h=S(x))){if(h.type==wl||h.type==Gl)l.jd|=1;h.type==xl&&(l.jd|=2);h.type==
Fl&&(l.jd|=4)}}y=!jn()&&G.fa[rp].count;if(r)for(G.$j=P(),G.ak=P(),G.Al=!1,f=0;f<e;f++)for(g=0;g<b;g++)h=G.G[f][g],(k=DG(h))&&k.type==wl&&(l=k.Cb(h,3,void 0),l.f.ba(G.$j.f)&&(G.$j=l,G.Al=G.D[k.index].oa),l=k.Cb(h,4,void 0),l.f.ba(G.ak.f)&&(G.ak=l));for(f=0;f<e;f++)for(g=0;g<b;g++)h=G.G[f][g],(k=DG(h))&&k.type!=yl&&k.type!=zl&&k.type!=Cl&&(l=a[f][g],n=k.Cb(h,d),ac(n.f,0)&&(y||n.f.l(l.di.L(1)),l.kg.f=n.f.Lc()),l.nm=!0,l.Oe=n,l.eg=P(n),l.Md=P(n));for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],(k=DG(h))&&
(k.type==wl||k.type==Gl||k.type==xl))for(l=a[f][g],v=Xo(h,!1),q=0;q<v.length;q++)if(n=g+v[q][0],u=f+v[q][1],!(0>n||n>=b||0>u||u>=e)&&(x=G.G[u][n],x.index==sp&&(x=tp(x),n=x.x,u=x.y),h=DG(x)))n=a[u][n],k.type!=wl&&k.type!=Gl||h.type!=xl||l.Ki.push(n),k.type!=xl||h.type!=wl&&h.type!=Gl||l.Pe.push(n);for(q=0;4>q;q++){x=4==q+1;u=!1;for(v=0;v<e;v++)for(r=0;r<b;r++)if(f=v,g=r,q&1&&(f=e-v-1,g=b-r-1),h=G.G[f][g],(k=DG(h))&&k.type==xl){l=a[f][g];if(0==q){f=[];for(g=0;g<l.Pe.length;g++)n=l.Pe[g],1<n.Ki.length?
f.push(n):(k=l.kg.f.sub(l.Ng.f),h=n.Md.f,p=Yb(k,h),l.Dk.f.u(h),p.mf(0)&&(u=!0,l.Ng.f.u(p),n.Md.f.wa(p)));l.Pe=f}if(0!=l.Pe.length)for(k=l.kg.f.sub(l.Ng.f).ub(l.Pe.length),g=0;g<l.Pe.length;g++)n=l.Pe[g],n.Bm!=q&&(n.Yb=P(n.Md),n.Bm=q),h=n.Yb.f.ub(n.Ki.length),x&&(k=l.kg.f.sub(l.Ng.f),h=n.Md.f),p=Yb(k,h),Ub(k,0)&&l.Dk.f.u(h),p.ba(n.Md.f)&&p.ka(n.Md.f.i(1.01))&&(p=n.Md.f),p.mf(0)&&(u=!0,l.Ng.f.u(p),n.Md.f.wa(p))}if(!u)break}for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],k=DG(h))l=a[f][g],l.Yb=new P(l.Md),
l.Nd=new P(l.Oe),l.fh=new P(l.Oe),k.type!=xl||Zb(l.kg.f,0)||(n=l.Ng.f.a(l.kg.f),l.Yb.B.l(n),l.Yb.f=c(0),l.Nd.B.l(n),l.Nd.f.l(n));v=new P;for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],l=a[f][g],(k=DG(h))&&k.type==Al){r=l.jd&1?qp(k,h,d,null,wl):c(0);p=l.jd&2?qp(k,h,d,null,xl):c(0);var H=l.jd&4?qp(k,h,d,null,Fl):c(0);l=a[f][g];v.reset();var D=0;w=YA()?8:4;for(q=0;q<w;q++)if(n=g+(1==q||4==q||5==q?1:3==q||6==q||7==q?-1:0),u=f+(0==q||4==q||7==q?-1:2==q||5==q||6==q?1:0),!(0>n||n>=b||0>u||u>=e||4<=q&&!Np(g,
f,n,u,G.G))&&(x=G.G[u][n],x.index==sp&&(x=tp(x),n=x.x,u=x.y),h=DG(x)))if(n=a[u][n],h.type==wl||h.type==Gl||h.type==xl||h.type==Fl)k=h.type==Fl?H:h.type==wl||h.type==Gl?r:p,x=n.Yb.sa(k),u=n.Nd.sa(k),h=n.fh.sa(k),h.f=n.Yb.f.sa(k),ac(x.f,0)&&(x.f=new c(0)),y&&ac(u.f,0)&&(u.f=new c(0)),ac(h.f,0)&&(h.f=new c(0)),l.Yb.u(x),l.Nd.u(u),l.fh.u(h),l.eg.u(h),v.u(h),D++;v.empty()?l.Df=[!1,D,v,l.Nd]:(l.om=!0,l.Df=[!0,D,v,l.Nd])}y=0<on(aq);d=3==On();r=!!jn()&&4>G.Ib[wl];var A=!r,I=p=!1,X=G.Ib[yl];l=G.ab[br+X%$m[yl]];
if(2==l||6==l)I=!0;if(3==l||7==l)p=!0;I&&(A=!1);for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],k=S(h)){l=a[f][g];w=0;D=H=1;var z=!1;v=Xo(h,YA());for(q=0;q<v.length;q++){n=g+v[q][0];u=f+v[q][1];var $a=v[q][2];0>n||n>=b||0>u||u>=e||(x=G.G[u][n],x.index==sp&&(x=tp(x),n=x.x,u=x.y),h=S(x),!h||r&&!zn(h)||$a&&h.type!=Al||(n=a[u][n],k.type!=wl&&k.type!=Gl))||(h.type==yl&&(w+=1+l.zj-l.gi,h.g==X&&l.bk++),h.type==Al&&(H*=(4<G.ab[jr]?1.5:2.5)*(y?3:1)),h.type==zl&&(D*=.25),A||h.type!=xl||(H*=2,I&&n.gi&&n.Hm&&
(z=!0)))}z&&!l.bk&&(H*=8);if(k.type==wl||k.type==Gl)d&&!l.bd&&(D*=.5),l.Qc=(1+w)*H*D}for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],k=S(h)){l=a[f][g];I=A=w=0;D=H=1;v=Xo(h,YA());for(q=0;q<v.length;q++)(n=g+v[q][0],u=f+v[q][1],$a=v[q][2],0>n||n>=b||0>u||u>=e||(x=G.G[u][n],x.index==sp&&(x=tp(x),n=x.x,u=x.y),h=S(x),!h||r&&!zn(h)||$a&&h.type!=Al||(n=a[u][n],k.type!=xl||(h.type==yl&&(w+=1+l.zj),h.type==Al&&(H*=(4<G.ab[jr]?1.25:2)*(y?3:1)),h.type==zl&&H++,h.type!=wl&&h.type!=Gl))))||(A++,n.bk&&I++);k.type==
xl&&(d&&!l.bd&&(D*=.5),l.Qc=(1+w)*H*(A?1:0)*(I?1.5:1)*D)}for(f=0;f<e;f++)for(g=0;g<b;g++)if(h=G.G[f][g],k=S(h)){l=a[f][g];A=0;D=H=1;for(q=0;4>q;q++)if(n=g+(1==q?1:3==q?-1:0),u=f+(2==q?1:0==q?-1:0),!(0>n||n>=b||0>u||u>=e)&&(x=G.G[u][n],x.index==sp&&(x=tp(x),n=x.x,u=x.y),h=S(x)))n=a[u][n],k.type==yl&&(h.type==Cl&&H++,h.type==zl&&(D*=.5),h.type==wl&&(A+=p?.5*n.Qc:n.Qc),h.type==Gl&&(A+=p?.75*n.Qc:1.5*n.Qc),h.type==xl&&(A+=p?n.Qc:.5*n.Qc),h.type==Fl&&(A+=.65)),k.type==zl&&(h.type==xl&&A++,h.type!=wl&&
h.type!=Gl||A--,h.type==Fl&&A--,h.type==yl&&A--),k.type==Cl&&(h.type==yl&&A++,h.type==zl&&(D*=.5));k.type==yl&&(d&&!l.bd&&(D*=.5),l.Qc=H*D*A);k.type==zl&&(d&&!l.bd&&(D*=.5),l.Qc=A);k.type==Cl&&(d&&!l.bd&&(D*=.5),l.Qc=D*A)}if(G.challenge==bq)for(f=0;f<e;f++)for(g=0;g<b;g++)l=a[f][g],h=G.G[f][g],(k=S(h))&&k.type!=Al&&(l.dn=l.Nd,l.xo=l.Oe,n=new P,l.Oe=n,l.eg=n,l.Md=n,l.Yb=n,l.Nd=n,l.fh=n);for(f=0;f<e;f++)for(g=0;g<b;g++)l=a[f][g],l.Pe=[],l.Ki=[]}
function wJ(){var a=G.C,b=G.F;Rm&&Rm[0]&&Rm.length==b&&Rm[0].length==a||(Rm=[]);CU(Rm,0)}function EU(a){var b=a%16777216;return((3454577*Math.floor(a/16777216)+9*b)%16777216*16777216+3454577*b)%281474976710656}
function Dm(a){if(0>a||281474976710656<=a)a=0;var b=EU(a);var d=23,e=b%16777216;b=Math.floor(b/16777216);var f=e,g=b;24<=d&&(f=g,g=0,d-=24);b=EU(((f>>d|g*(1<<24-d)%16777216)^e)+16777216*(g>>d^b));d=23;e=b%16777216;b=Math.floor(b/16777216);f=e;g=b;24<=d&&(g=f,f=0,d-=24);a++;return[a,((f*(1<<d)%16777216^e)+16777216*((g*(1<<d)%16777216|f>>24-d)^b))/281474976710656]}function FU(){0>G.Dg&&(G.Dg=Math.floor(281474976710656*Math.random()));var a=Dm(G.Dg);G.Dg=a[0];return a[1]}
function GU(){0>G.dg&&(G.dg=Math.floor(281474976710656*Math.random()));var a=Dm(G.dg);G.dg=a[0];return a[1]}function HU(){0>G.nd&&(G.nd=Math.floor(281474976710656*Math.random()));var a=Dm(G.nd);G.nd=a[0];return a[1]}
function IU(a,b){for(var d=[];;){var e=HU(),f=HU(),g=HU(),h=[HU(),HU(),HU(),HU(),HU(),HU()],k=[HU(),HU(),HU(),HU(),HU(),HU()],l=my(f,a,G.fa[LA].count||G.fa[iB].count);f=new sy;f.g=l;var p=ny(l),q=[uo,wo,xo,zp,aq,Gn,pn,Ap];5<=l&&(q.push(Rx),q.push(Sx),q.push(yo),q.push(Tp));7<=l&&(q.splice(q.indexOf(xo),1),q.push(Bp),q.push(Tx),q.push(zo));9<=l&&(q.splice(q.indexOf(Tp),1),q.splice(q.indexOf(pn),1),q.push(Ao));10<=l&&(q.splice(q.indexOf(Rx),1),q.splice(q.indexOf(Sx),1),q.push(Ux));for(l=0;l<p;l++){var n=
Math.floor(h[l]*q.length),u=q[n];q.splice(n,1);n=1+Math.floor(4*k[l]);f.V.push(u);f.Fa.push(n);f.Ua.push(0)}f.V=f.V.sort(function(x,y){x=vo(x);y=vo(y);return x<y?-1:x>y?1:0});if(4<=G.od){h=.75;if(G.fa[MA].count||G.fa[jB].count)h=.666;g>h&&(g=On(),0<=g&&3>=g&&(f.type=1+g))}1==f.type&&(f.V.push(Vx),f.Fa.push(1));2==f.type&&(f.V.push(Wx),f.Fa.push(1));3==f.type&&(f.V.push(Xx),f.Fa.push(1));4==f.type&&(f.V.push(Yx),f.Fa.push(1));for(l=0;l<f.Fa.length;l++)f.ud[l]=f.Fa[l];g=G.Rc;1<=f.type&&4>=f.type&&(G.Rc|=
1<<f.type-1);h=G.Rc;!g&&h&&(tR("You got a seasonal fruit for the first time! One extra fruit storage slot added to cope with the variety."),G.Da++);15!=(g&15)&&15==(h&15)&&(tR("You've seen all 4 possible seasonal fruits! One extra fruit storage slot added to cope with the variety."),G.Da++);if(g=qR(f))G.Eg=!1;h=!uH();0==G.Z.length?xH(G.Z.length,f):G.$h&&g&&G.Z.length<G.Da&&(!h||G.Z.length+1!=G.Da)?(xH(G.Z.length,f),h&&(G.ob++,G.ob>=XK()&&(G.ob=-1))):yH(f);G.rh++;G.od++;d.push(f);f=0;G.fa[NA].count&&
(f=.25);G.fa[iB].count&&(f+=.125);G.fa[jB].count&&(f+=.125);if(!(f&&!b&&1==d.length&&e<f))break}return d}function mx(a){var b=G.ha[a];b.c||(T('Ethereal crop unlocked: "'+Uu[a].name+'"',tP,494369596),b.c=!0)}function JU(a){var b=G.da[a];b.c||(T('Infinity crop unlocked: "'+Nz[a].name+'"',tP,494369596),b.c=!0)}function KU(a){var b=G.Aa[a];b.c||(T('Fish unlocked: "'+pC[a].name+'"',tP,494369596),b.c=!0)}
function LU(){var a=G.Aa[Ly].c;KU(Ly);KU(Sy);KU(Xy);G.Aa[Xy].I&&KU(bz);G.Aa[bz].I&&KU(gz);G.Aa[gz].I&&KU(nz);G.Aa[nz].I&&KU(uz);G.Aa[uz].I&&KU(yz);G.Aa[gz].I&&KU(My);G.Aa[My].I&&KU(Ty);G.Aa[My].I&&KU(hz);G.Aa[hz].I&&KU(oz);G.Aa[oz].I&&KU(vz);G.Aa[oz].I&&KU(Dz);G.Aa[vz].I&&KU(zz);G.Aa[Dz].I&&KU(Iz);G.Aa[Dz].I&&KU(cz);G.Aa[Dz].I&&KU(Yy);(G.Aa[cz].I||G.Aa[Yy].I)&&KU(Ny);G.Aa[Ny].I&&KU(Jz);G.Aa[Ny].I&&KU(iz);G.Aa[iz].I&&KU(pz);G.Aa[pz].I&&KU(Ez);var b=G.Aa[Ly].c;!a&&b&&qu(43)}
function sM(a,b){if(0==a)return 10>G.ga;a=b.km();if(0==a.type&&G.s>=a.level)return!0;if(1==a.type||2==a.type||3==a.type||5==a.type){if(0==a.aa)return!1;b=Pm[a.aa-1];var d=G.D[a.aa-1];if(!b||!d)return!1;var e=d.c&&d.oa>=a.oa;if(!e)return!1;if(1==a.type&&e||2==a.type&&(G.ab[b.index]>=a.we||G.Ib[b.type]>b.g)||3==a.type&&(d.I>d.oa&&G.Qb[b.index]>=a.we||G.Ib[b.type]>b.g)||5==a.type&&(b.Ta&&G.o[b.Ta].count>=a.zf||G.Ib[b.type]>b.g))return!0}return 4==a.type&&G.ga>=a.time?!0:!1}var MU=5,NU=5;
function OU(a,b,d){var e=G.ua[a].ij(),f=!1;1==b&&(d?T("Manually activating auto-action "+a):T("Activating auto-action "+a),e.Ag&&QH()&&(QK(!1,!1,!0),f=!0),e.ye&&(!G.Jo||d||0!=a)&&(a=G.gd[e.tb])&&(SS(a,!0,!d),f=!0),e.zg&&(a=G.Ud[e.zd])&&(US(a,!0,!d),f=!0),e.ze&&(W({type:YK,slot:e.Gd,la:!d}),f=!0),e.Bg&&QH()&&(W({type:MK,mg:e.Af,la:!d,Xc:!0}),f=!0),e.Fh&&bH()&&(W({type:nT,effect:uJ,la:!d}),f=!0));2==b&&e.If&&QH()&&G.Va&&(W({type:iN,x:G.Gb,y:G.Hb,la:!d}),f=!0);3==b&&e.Jf&&bH()&&(W({type:LM,la:!d}),f=
!0);return f}
function PU(){var a=P(G.b),b=!1,d=!1;if(nH()){QU=void 0;for(var e=0;e<os.length;e++){var f=Bn[os[e]],g=G.o[os[e]];if(f.Ie&&g.c&&!g.count&&g.I&&void 0!=f.Ra){var h=Pm[f.Ra];if(h.type!=Gl||G.qh[Gl])if(g=f.O(),!Ub(G.Cf,0)||!Ub(g.f,G.Cf))if(h=RU(G.ke?G.Zb:G.Rd,h.type),g=SU(g,h),Infinity!=g&&!f.O().ba(G.b.i(h))){if(void 0==QU||g<QU.time)QU={index:f.index,time:g};if(f.index==wt&&2>g){QU={index:f.index,time:g};break}}}}QU?(e=Bn[QU.index],f=nl(a,G.b.i(RU(G.ke?G.Zb:G.Rd,Pm[e.Ra].type))),g=e.O(),g.ba(f)?e=
!1:(a.wa(g),W({type:yQ,Ya:e.index,shift:!1,la:!0}),e=!0)):e=!1;d|=e}if(oH()){TU=void 0;for(e=0;e<os.length;e++)f=Bn[os[e]],g=G.o[os[e]],f.Uf&&g.c&&!g.count&&g.I&&void 0!=f.Ra&&(h=f.O(),Ub(G.Cf,0)&&Ub(h.f,G.Cf)||(g=RU(G.ke?G.Zb:G.Rd,Pm[f.Ra].type),h=SU(h,g),Infinity!=h&&!f.O().ba(G.b.i(g))&&(void 0==TU||h<TU.time)&&(TU={index:f.index,time:h})));TU?(e=Bn[TU.index],f=nl(a,G.b.i(RU(G.ke?G.Zb:G.Rd,Pm[e.Ra].type))),g=e.O(),g.ba(f)?e=!1:(a.wa(g),W({type:yQ,Ya:e.index,shift:!1,la:!0}),e=!0)):e=!1;d|=e}if(MH()){UU=
void 0;if(G.challenge!=Sn)for(b=[Ym,Al,Bl,wl,xl,yl,Cl,zl,Fl,Gl,Dl],e=0;e<b.length;e++)if(f=b[e],g=VU(f)){if(G.challenge==Kl&&G.za.uc&&(g.O().f.ba(G.b.f.i(.005))&&(g=bN(g)),!g))continue;if(f==Fl&&0==g.g&&0<G.xe[Fl]-0&&(g=VU(f,G.Og[f]),!g))continue;if(f!=Gl||!G.ab[ms])if(h=RU(G.Zb,g.type),0!=h){var k=g.O();0==G.qe&&0<h&&(f==Al||f==wl)&&(h=1);h=SU(k,h);if(Infinity!=h)for(k=0;k<G.F;k++)for(var l=0;l<G.C;l++){var p=G.G[k][l];if(Yo(p)){var q=S(p);if(!(q.Vb||q.type!=f||q.g>=g.g||q.index==up&&G.challenge==
vp||q.index==xp&&G.challenge==go||f==Fl&&0<G.xe[Fl]-(zn(q)?1:0))){if(G.challenge==Kl){if(1<=G.ah&&G.za.uc){var n=!1;q.mc&&(n=!0);1>p.H&&(n=!0);q.type==Al&&(n=!0);if(!n)continue}if(g.type==Dl&&fs.hasOwnProperty(q.index)&&fs[q.index]!=g.index)continue}if(void 0==UU||h<UU.time)UU={index:g.index,x:l,y:k,time:h};k=G.F;break}}}}}b=WU(a)}if(JH()&&KH()&&G.je&&!jM&&!G.pg)for(e=0;e<Js.length;e++)f=Js[e],g=f.index,h=G.o[g],!f.$d||!h.c||0!=f.Db&&h.count>=f.Db||(h=0,2==G.xd[e]&&(h=1),3==G.xd[e]&&(h=2),g==so&&
1==h&&G.challenge&&!V[G.challenge].ed&&(h=2),0<h&&(T("Automaton auto chose: "+la(f.name)+": "+la(1==h?f.ue:f.ve),ru,101550953),W({type:yQ,Ya:f.index,shift:!1,la:!0,Gf:h})));if(mH()){XU=void 0;if((G.challenge!=Kl||G.za.uc)&&!G.b.f.ec(3E3))for(e=0;e<os.length;e++)f=Bn[os[e]],g=G.o[os[e]],!f.Xh||!g.c||0!=f.Db&&g.count>=f.Db||void 0==f.Ra||!G.ab[f.Ra]||Pm[f.Ra].g<G.Og[Pm[f.Ra].type]||G.challenge==go&&f.Ra==xp||(g=RU(G.Td,Pm[f.Ra].type),h=f.O(),G.challenge==Kl&&h.f.ba(G.b.f.i(.005))||(g=SU(h,g),Infinity!=
g&&(void 0==XU||g<XU.time)&&(XU={index:f.index,time:g})));if(!b&&!d&&XU){d=Bn[XU.index];b=RU(G.Td,Pm[d.Ra].type);for(e=0;;){f=nl(a,G.b.i(b));g=d.O(e);if(g.ba(f))break;if(ck(g.f)||ck(g.B)||ck(g.h)||ck(g.K)||ck(g.Y)||ck(g.v)||ck(g.ta)||ck(g.ca)||ck(g.W)){e--;break}if(100<e)break;e++;a.wa(g)}0<e&&W({type:yQ,Ya:d.index,shift:!1,la:!0,$:e})}}if(PH()&&!zM)for(bH()&&void 0==G.Id[45]&&qu(45),1!=vu()||G.ua[0].enabled||(G.ua[0].enabled=!0),a=!1,d=0;d<G.ua.length&&(b=G.ua[d],3<=b.done||!b.enabled||(e=sM(d,b),
f=1==b.done&&G.ga>=b.Re,g=2==b.done&&G.ga>=b.Re,e&&!b.ij().ye&&(f=!0),f&&!b.ij().If&&(g=!0),!b.done&&e&&(W({type:tU,Kn:d,la:!0}),b.done=1,b.Re=G.ga+MU,a|=OU(d,1)),2>b.done&&f&&(b.done=2,b.Re=G.ga+NU,a|=OU(d,2)),3>b.done&&g&&(b.done=3,a|=OU(d,3)),!a));d++);}var xU=!0;
function ZK(a){if(OH())if(2==jn())T("Auto actions are disabled during the truly basic challenge.",uB,0,0);else{var b=OU(a,1,!0);b?(xU=!0,window.setTimeout(function(){xU&&(W({type:uU}),OU(a,2,!0)?window.setTimeout(function(){xU&&(W({type:uU}),OU(a,3,!0))},1E3*NU):OU(a,3,!0))},1E3*MU)):(b=OU(a,2,!0))?window.setTimeout(function(){xU&&(W({type:uU}),OU(a,3,!0))},1E3*NU):OU(a,3,!0);Hm()}}var XU=void 0;
function RU(a,b){var d=a[0];LH()&&void 0!=b&&(d=b==wl?a[3]:b==xl?a[4]:b==yl?a[5]:b==zl?a[6]:b==Cl?a[7]:b==Al?a[2]:b==Bl?a[8]:b==Fl?a[9]:a[1]);return d}function SU(a,b){b=a.ub(b);a=0;if(b.ba(G.b)){if(G.challenge==Kl)return Infinity;b=b.sub(G.b);a=-Infinity;Ub(b.f,0)&&(a=Math.max(a,b.f.a(Vb.f).valueOf()));Ub(b.B,0)&&(a=Math.max(a,b.B.a(Vb.B).valueOf()));-Infinity==a&&(a=Infinity);isNaN(a)&&(a=Infinity)}return a}
function rL(a,b,d){for(var e=G.Ib[a];;){if(0>e&&!d)return null;var f=hq[a][e];if(!f)return null;if(f.O().Sa(b))return f;e--}}function VU(a,b){if(a==Dl){if(!G.challenge)return null;for(var d in fs)if(fs.hasOwnProperty(d)&&G.ab[d])return Pm[fs[d]];return null}b=void 0==b?G.Vk[a]+1:b+1;if(0>b||Infinity==b)return null;b<G.uj[a]&&(b=G.uj[a]);return(a=hq[a][b])&&G.D[a.index].c?a:null}var UU=void 0;
function WU(a){if(!UU)return!1;var b=Pm[UU.index],d=UU.x,e=UU.y,f=RU(G.Zb,b.type),g=b.type;0==G.qe&&0<f&&(g==Al||g==wl)&&(f=1);f=nl(a,G.b.i(f));var h=b.O();if(h.ba(f))return!1;G.challenge!=Kl&&(g=rL(g,f,!1))&&g.O().Sa(f)&&(b=g,h=b.O());g=!1;if(eT){var k=G.qh[b.type]-G.ab[b.index];1<k&&(k=b.O(k-1).add(b.O(k-2)).i(1.5),il(a,k)&&il(f,k)&&(g=!0))}if(g)for(f=d=0;f<G.F;f++)for(h=0;h<G.C;h++){if(g=G.G[f][h],Yo(g)&&(g=S(g),!(g.Vb||g.type!=b.type||g.g>=b.g||g.index==up&&G.challenge==vp||g.index==xp&&G.challenge==
go))){e=b.O(d);if(!il(a,e))return!0;a.wa(e);d++;W({type:RK,x:h,y:f,aa:b,la:!0,silent:!0})}}else{a.wa(h);a=Bs(G.G[e][d]);if(0>a)return;a=Pm[a].type;k=Rm[e][d].Qc;for(f=0;f<G.F;f++)for(h=0;h<G.C;h++)g=G.G[f][h],Yo(g)&&(g=S(g),g.Vb||g.type!=a||g.g>=b.g||g.index==up&&G.challenge==vp||g.index==xp&&G.challenge==go||(g=Rm[f][h],g.Qc>k&&(k=g.Qc,d=h,e=f)));W({type:RK,x:d,y:e,aa:b,la:!0,silent:!0})}return!0}var QU=void 0,TU=void 0;
function YU(a){function b(k,l,p){isNaN(k)||(0>k&&(k=0),d=Math.min(d,k),p&&(e=Math.min(e,k)))}var d=Infinity,e=Infinity;G.challenge==Kl&&a&&1>=a&&(a=G.za,!a.bc&&a.uc&&(Xl()?b(.33,"towerdefense"):b(Yl()-G.time,"towerdefense_nextwave")));G.Uc||b(eQ(),"season");G.time-G.xb<gn(180)&&b(gn(180)-G.time+G.xb,"mist");G.time-G.Lb<gn(120)&&b(gn(120)-G.time+G.Lb,"sun");G.time-G.zb<gn(240)&&b(gn(240)-G.time+G.zb,"rainbow");for(a=0;a<G.F;a++)for(var f=0;f<G.C;f++){var g=G.G[a][f],h=S(g);h&&zn(h)&&(h.type==Al&&G.challenge!=
Kl?Zp(h)&&0==g.H||(2==G.o[En].count&&b(10,"brassica"),b(h.Ja()*g.H,"brassica")):G.challenge==Rn?b(2,"wither"):1>g.H&&b(2,"growth"))}for(a=0;a<G.pa;a++)for(f=0;f<G.qa;f++)g=G.xa[a][f],(h=S(g))&&1>g.H&&b(h.Ja()*(1-g.H),"growing2");if(ZD())for(a=0;a<G.Ga;a++)for(f=0;f<G.Ha;f++)g=G.va[a][f],(h=DG(g))&&(h.type==Al?0!=g.H&&b(h.Ja()*g.H,"brassica"):1>g.H&&b(h.Ja()*(1-g.H),"growing3"));G.challenge!=Kl&&(a=wy().B.sub(G.b.B).a(Vb.B).valueOf(),b(a,"tree"));mH()&&XU&&b(XU.time,"auto-upgrade");MH()&&UU&&b(UU.time,
"auto-plant");nH()&&QU&&b(QU.time,"auto-unlock");oH()&&TU&&b(TU.time,"auto-prestige");G.fa[lp].count&&(a=wB(),a<np&&b(120,"time at tree level"));0==G.Va&&G.challenge!=Kl&&(a=G.nc-G.time+nA(),b(a,"fern",!0));G.challenge==dp&&0<G.Aj&&b(Math.max(0,120-(G.time-G.be)),"storm");if(PH())for(a=0;a<G.ua.length;a++)f=G.ua[a],!f.enabled||3<=f.done||(0==a&&f.enabled&&0==f.done&&sM(a,f)&&b(.1,"auto-action 0"),g=f.km(),4==g.type&&0==f.done&&b(g.time-G.ga,"auto-action",!0),0<f.done&&3>f.done&&b(f.Re-G.ga,"auto-action2",
!0));if(0>d||isNaN(d))d=0;if(0>e||isNaN(e))e=0;return[d,e]}function W(a){G.paused||qU.push(a)}function ZU(){var a=c(0);if(1<G.na&&(9<=G.s||0==G.s)){var b=G.time-G.Jd,d=3600;300<=b?d=1800:240<=b?d=2E3:180<=b?d=2200:120<=b?d=2400:60<=b?d=2600:30<=b&&(d=3E3);G.time-G.Xf>=d&&(a=1,7200<=b?a=3:5400<=b?a=2.5:3600<=b?a=2:1800<=b&&(a=1.5),G.Xf=G.time,G.Il++,a=c(a));a.J(0)&&T("the tree dropped "+a.toString()+" amber",wP,1046741287)}a.J(0)&&Zb(G.ma.ta,0)&&qu(36);return a}
function YP(a){var b=[];CU(b,a);a=P();for(var d=0;d<G.F;d++)for(var e=0;e<G.C;e++)io(G.G[d][e])&&a.u(b[d][e].Yb);return a}function $U(){if(G.challenge==Kl){var a=G.za,b=Xb(a.he.f,G.b.f).i(.05);a=Xb(a.he.B,G.b.B).i(.05);return(new P({f:b,B:a})).ub(300)}return YP(5)}function gN(){var a=G.fc;2==a&&G.b.B.ec(0)&&(a=1);4==a&&G.ma.Y.ec(0)&&(a=1);6==a&&0>=G.od&&(a=3);7==a&&G.ma.ta.ec(0)&&(a=1);jn()&&(3==a&&(a=1),5==a&&(a=G.b.B.ec(0)?1:2));G.challenge==Kl&&2==a&&(a=1);return a}var aV=[];
function IM(a){50<aV.length||aV.push(a)}var gU=void 0,eU=void 0,fU=void 0,bV=0,cV=0,dV=0,eT=!1,hU=!1,iU=0,jU=P(),lU=0,kU=0,eV=!1,ST=-1,MS=!1,fV=0,gV=0,DU=0,lH=0,hV=!1;
function Hm(a){MS=!0;var b=G.paused&&!a,d=dH!=ST||b!=eV;eV=b;ST=dH;var e=!1;Rm&&Rm.length||(!b||d)&&wJ();var f=m.getTime()-G.Ca,g=2<f;if(b){if(g&&G.jl)eT=!0;else{var h=f;G.wg+=h;G.jf+=h;G.Ca=G.time=m.getTime();G.xb+=h;G.Lb+=h;G.zb+=h;G.nc+=h;G.yi+=h;G.Jd+=h;G.ci+=h;G.Xf+=h;G.ai+=h;G.bi+=h;G.be+=h;G.Vg+=h;G.fg+=h;G.ni+=h;G.li+=h;if(G.challenge==Kl){var k=G.za;k.lg+=h;k.Te+=h}var l=GT();hV!=l&&(NJ(),hV=l)}d&&(VT(),G.challenge==Kl&&(Zl(),VT()))}else{fV++;var p=hU,q=!1,n=void 0;0<qU.length&&10<m.getTime()-
fK&&(n=m.clone(G),gK=!1);var u=!1,x=!1;0==G.Ca?G.Ca=m.getTime():(G.nc>G.Ca&&(G.nc=G.Ca),G.xb>G.Ca&&(G.xb=0),G.Lb>G.Ca&&(G.Lb=0),G.zb>G.Ca&&(G.zb=0),G.Jd>G.Ca&&(G.Jd=G.Ca),G.Xf>G.Ca&&(G.Xf=G.Ca),G.be>G.Ca&&(G.be=G.Ca),G.yi>G.Ca&&(G.yi=G.Ca));for(var y=!1,r=0,v=0,w=P(G.b),H=G.Ca,D=void 0,A=!1,I=0,X=!1;!A;){if(500<I++){window.setTimeout(Hm,.1);break}gV++;G.challenge&&!G.Hi&&V[G.challenge].ie&&OH()&&(G.Hi=!0,PH()&&(G.jc=2,T("Auto-action temporarily disabled for this challenge! Check your selected fruit etc... You can simply enable auto-actions again if you want to use them this challenge. ",
AP,6786965)));WB(G);PU();nU();var z=m.getTime(),$a=!1;if(0==G.Ca)h=0;else if(G.Ca>z){var db=G.Ca-z;G.$c+=db;G.tl+=db;G.Yk=Math.max(G.Yk,db);G.Cm=db;G.Im++;h=0}else if(h=z-G.Ca,3E3<h&&0<G.$c){var t=Math.min(G.$c,h);h-=t;G.$c-=t;y=!0}var ya=2<h,Ka=0;if(ya){var oa=YU(z-G.Ca);Ka=oa[0]+1;var Ea=oa[1]+.5,Q=10<Ka;Q&&!X&&(Ka=2);X=Q;20<I&&2>Ka&&(Ka=2);50<I&&5>Ka&&(Ka=5);200<I&&10>Ka&&(Ka=10);Ka>Ea&&(Ka=Ea);0<qU.length&&.01<Ka&&(Ka=.01)}else X=!1;h>Ka&&ya?(h=Ka,z=G.Ca+h,A=!1):A=!0;if(0>h||isNaN(h))console.log("invalid delta time"),
z=m.getTime(),h=z-G.Ca;G.time=G.Ca;G.Ca=z;var Z=G.challenge==eo?5:rJ(G.time),O=Z!=(G.challenge==eo?5:rJ(z));G.Mb&&O&&(O=!1,G.Uc=!0,eP());Z!=gU&&void 0!=gU&&r++;gU=Z;var zb=rJ(G.time),U=zb!=rJ(z);zb!=fU&&void 0!=fU&&(v++,G.Rh++);fU=zb;G.kh&&(AU(G.time)!=AU(G.Ca)||U)&&(G.kh=0);G.kf+=h;G.ga+=h;for(var Fa=new P,$b=!1,jc=!1;qU.length;){var M=qU[0];qU.shift();if(!g||M.la){M.la||(G.xm=G.time,G.yj=0,G.Pj=!0,Tu++);var ea=M.type;if(ea==tU){if(10<G.ga){var cf=G.ua[M.Kn].effect.Jf;if(G.Pj||cf)n||(n=m.clone(G)),
n.ua[M.Kn].done=3,u=!0,cf&&(gK=!0)}}else if(ea==uU)x=!0;else if(ea==yQ){if(G.Qd)for(var Ib=0;Ib<os.length;Ib++)if(JS||!M.la||Ib==M.Ya){var Wa=G.o[os[Ib]];Wa.c&&!Wa.ya&&(Wa.ya=!0)}Wa=Bn[M.Ya];for(var wa=G.o[M.Ya],Lc=M.shift&&1!=Wa.Db,Y=M.$?M.$:1,ib=0,ec=P(G.b);;){var N=Wa.O();if(G.challenge==ju&&su(Wa))break;else if(G.b.ka(N)){Lc&&0<ib||T("not enough resources for upgrade: have "+ll(N).toString()+", need "+N.toString()+" ("+Tb(N)+")",uB,0,0);break}else if(Wa.Ff()){G.b.wa(N);Wa.hb(M.Gf);wa.I=!0;ib++;
var ka="upgraded: "+Wa.Ee()+", consumed: "+N.toString();Wa.$d&&(ka+=". Chosen: "+(1==G.o[Wa.index].count?Wa.ue:Wa.ve));Wa.Ie&&(N=Pm[Wa.Ra].O(),ka+=". Planting cost: "+N.toString()+" ("+Tb(N)+")");Lc||M.la||T(ka);M.la||(u=!0);Wa.Ie&&!M.la&&(G.qb=Wa.Ra);G.uh++;G.ej++;M.la&&(G.pe++,G.Rl++);Wa.Uf&&(G.Di++,G.cj++,M.la&&(G.ck++,G.Pl++))}else{Lc&&0<ib||T("this upgrade is not currently available",uB,0,0);break}if(!Lc&&ib>=Y)break;if(Wa.Wh())break;if(1E3<ib)break}if(Lc&&ib&&!M.la){var Pa=ec.sub(G.b);1==ib?
T("upgraded: "+Wa.Ee()+", consumed: "+Pa.toString()):T("upgraded "+Wa.name+" "+ib+" times to "+Wa.Ee()+", consumed: "+Pa.toString())}ib&&(M.Ya==Ms&&qu(3),M.Ya==vs&&qu(19),M.Ya==kt&&qu(20),M.Ya==xt&&qu(27),M.Ya==wp&&qu(21),M.Ya==wt&&0<G.na&&qu(17))}else if(ea==KQ)Wa=Sw[M.Ya],N=Wa.O(),G.b.ka(N)?T("not enough resources for ethereal upgrade: have "+ll(N).toString()+", need "+N.toString(),uB,0,0):Wa.Ff()?(G.b.wa(N),Wa.hb(),T("Ethereal upgrade applied: "+Wa.Ee()+", consumed: "+N.toString()),u=!0,G.fj++):
T("this ethereal upgrade is not currently available",uB,0,0),Tu++;else if(ea==qT){var Ma=GA[G.Xa][M.Cc],cb=G.rb[M.Cc],pc=M.A;h=M.d;var da=!0,Na=0==pc?Ma.Se:1==pc?Ma.Dc:Ma.S,Sa=RH(M.Cc,pc,h),Bf=0==Sa,Db=2==Sa,Mc=1==Sa;Ka=3==Sa;Eo()?Bf?(T("Already bought this squirrel upgrade",uB),da=!1):0>pc||2<pc?(T("Invalid branch",ZJ),da=!1):Mc?h>=Na.length&&(T("Index out of range",ZJ),da=!1):(Db?T("Cannot buy this upgrade yet, it is gated: you must buy all squirrel upgrades that come before this, including side branches above, before this one unlocks.",
uB):T("Not available for buy",uB),da=!1):(T("Don't have squirrel",uB),da=!1);var Md=kB(G.Sc);da&&G.b.Y.ka(Md)&&(da=!1,T("not enough resources for the next squirrel upgrade: have: "+G.b.Y.toString(Math.max(5,uk))+", need: "+Md.toString(Math.max(5,uk))+" ("+Tb(P({Y:Md}))+")",uB,0,0));if(da){Wa=DA[Na[h]];wa=G.fa[Na[h]];var Ei=!1;Wa.hb&&(Ei=Wa.hb());Ei||(wa.count++,cb.$[pc]++,cb.ya[pc]=Math.max(cb.ya[pc],cb.$[pc]),G.b.Y.wa(Md),G.nh.u(Md),G.Ll++,G.Sc++,T("Purchased squirrel upgrade: "+Wa.name+". Next costs: "+
kB(G.Sc).toString()+" nuts"),Wa.index!=SA&&Wa.index!=TA&&Wa.index!=UA||qu(37),u=!0)}}else if(ea==vT){if(da=!0,Eo()?1>G.ig&&(T("Cannot respec, no respec token available. It's possible to get one in the amber tab.",uB,0,0),da=!1):da=!1,da){G.fa=[];for(var C=0;C<CA.length;C++)G.fa[CA[C]]=new VB;var wg=[];for(C=0;C<GA[G.Xa].length;C++)if(wg[C]=new QG,G.rb[C])for(Ib=0;Ib<wg[C].ya.length;Ib++)wg[C].ya[Ib]=G.rb[C].ya[Ib];G.rb=wg;G.Jg++;G.b.Y.u(G.nh);G.nh=c(0);G.ig--;for(C=0;C<G.fa.length;C++)G.fa[C]=new VB;
T("Reset all squirrel upgrades and gave all nuts back. Consumed 1 squirrel respec token.");u=!0}}else if(ea==xB)SB(),u=!0;else if(ea==nT){if(da=!0,N=lT(M.effect),M.effect==iT&&(G.Bf&&(T("Already active.",uB,0,0),da=!1),jn()&&(T("This amber effect cannot be used during the basic challenge.",uB,0,0),da=!1)),M.effect==sJ&&(G.Ve?(T("Already used this season.",uB,0,0),da=!1):G.Mb&&(T("This doesn't work when hold season is active.",uB,0,0),da=!1)),M.effect==tJ&&(G.Ve?(T("Already used this season.",uB,0,
0),da=!1):G.Mb&&(T("This doesn't work when hold season is active.",uB,0,0),da=!1)),M.effect==uJ&&(G.Mb&&(T("Already used this run.",uB,0,0),da=!1),G.challenge==eo&&(T("This effect doesn't work during the infernal challenge.",uB,0,0),da=!1)),M.effect!=jT||G.Mb||(T("Keep season isn't active.",uB,0,0),da=!1),M.effect==kT&&G.pg&&(T("Already used reset choices this run",uB,0,0),da=!1),N=new P({ta:N}),da&&G.b.ka(N)&&(da=!1,T("not enough resources: have: "+ll(N).toString(Math.max(5,uk))+", need: "+N.toString(Math.max(5,
uk)),uB,0,0)),da){M.effect==hT&&(G.ig++,T("One squirrel respec token added, now have: "+G.ig,wP,2215651,1));M.effect==iT&&(G.Bf=!0,T("Amber production bonus activated for the remainder of this run",wP,2215651,1));M.effect==sJ&&(24<=(eQ()+fQ())/3600+1&&(G.kh=1),G.Ve=!0,G.xf+=3600);if(M.effect==tJ){var km=Math.min(3600,eQ()+fQ());G.Ve=!0;G.xf-=km}M.effect==uJ&&(G.xi=On(),G.Mb=!0);M.effect==jT&&cU()&&(O=!0,eU=P(Vb));if(M.effect==kT){G.pg=!0;T("Reset all choice upgrades, you can now choose them manually",
wP,23987254,1);var Cf=[du,hn,En,so];for(C=0;C<Cf.length;C++)G.o[Cf[C]].count=0}G.b.wa(N);G.Yd[M.effect]||(G.Yd[M.effect]=0);G.Yd[M.effect]++;M.la||(u=!0)}}else if(ea==sU)SS(M.tb,!0);else if(ea==sH||ea==rH||ea==RK){var L=G.G[M.y][M.x];L.index==sp&&(L=tp(L),M.x=L.x,M.y=L.y);var He=L.H,pe=Yo(L)&&S(L).type==Al;if(M.la){if(M.x!=G.wl||M.y!=G.xl)q=!0;G.wl=M.x;G.xl=M.y;G.yi=G.time}var Cb=void 0;if(ea==rH||ea==RK)if(Yo(L)){var R=S(L);Cb=R.Wa(L)}else Cb=P();(da=!0,G.challenge==vp)&&Yo(L)&&S(L).index==up&&(T("Cannot remove thistles during the thistle challenge",
uB,0,0),da=!1);da&&G.challenge==vp&&ea==sH&&M.aa.type==up&&(T("Cannot plant thistles during the thistle challenge",uB,0,0),da=!1);da&&G.challenge==go&&Yo(L)&&S(L).index==xp&&(T("Cannot remove poison ivy during the poison ivy challenge",uB,0,0),da=!1);da&&G.challenge==go&&ea==sH&&M.aa.type==xp&&(T("Cannot plant poison ivy during the poison ivy challenge",uB,0,0),da=!1);da&&ea==RK&&M.aa&&L.index==Cs+M.aa.index&&Yo(L)&&S(L).type!=Al&&(T("Already have this crop here",uB,0,0),da=!1);if(da&&(ea==rH||ea==
RK)){var bc=Yo(L)&&S(L).type==Al;G.challenge!=Sn||bc||JG(L)?G.challenge!=Rn||bc||JG(L)||ea==RK&&Yo(L)&&M.aa.T.ba(S(L).T)&&M.aa.type==S(L).type||(T("Cannot delete or downgrade crops during the wither challenge, but they'll naturally disappear over time. However, you can replace crops with more expensive crops.",uB,0,0),da=!1):(T("Cannot delete or replace crops during the nodelete challenge. Ensure to leave open field spots for higher level plants.",uB,0,0),da=!1)}da&&G.challenge==Kl&&(ea==rH&&G.za.uc&&
(T("Cannot delete crops during the tower defense challenge. You can still replace them with other types, or upgrade or downgrade crops. But once set, the shape of the blockades for the pests cannot be altered.",uB,0,0),da=!1),ea!=sH||$l(G.za,[M.x,M.y])||(T("Cannot place crop here: it blocks the way from the burrow to the tree. You can build a maze, but it must always allow reaching the tree.",uB,0,0),da=!1));if(da&&(ea==sH||ea==RK)&&(R=M.aa,M.Ka&&R.Vb&&((R=Pm[Ir[R.type]])?M.aa=R:R=M.aa),N=R.O(),ea==
RK&&Yo(L)&&(N=N.sub(Cb)),ea!=RK&&Yo(L)?(T("field already has crop",uB,0,0),da=!1):0==L.index||L.index==AG||Yo(L)?!G.D[R.index].c||R.Vb?(M.Ka&&(G.qb=-1,T("shift+click, or p, repeats last planted plant, but no last plant is set, plant the regular way first",uB,0,0)),da=!1):il(G.b,N)?R.index==or&&G.ab[or]?(T("already have squirrel, cannot place more",uB,0,0),da=!1):R.type==Fl&&zn(R)&&0<G.xe[Fl]-(ea==RK&&io(L)&&S(L).type==Fl?1:0)?(T("you can only plant max 1 nut plant in the field",uB,0,0),da=!1):R.index==
ms&&G.ab[ms]?(T("already have a pumpkin, cannot place more",uB,0,0),da=!1):R.type==Gl&&G.challenge==Kl&&(T("cannot use pumpking during tower defence",uB,0,0),da=!1):(M.silent||T("not enough resources to plant "+R.name+": have: "+ll(N).toString(Math.max(5,uk))+", need: "+N.toString(Math.max(5,uk))+" ("+Tb(N)+")",uB,0,0),da=!1):(T("field already has something",uB,0,0),da=!1),da&&R.Oc)){var Fi=!0,Xc=M.x,Gc=M.y;if(Xc+1>=G.C||Gc+1>=G.F)Fi=!1;else{var uc=G.G[Gc][Xc+1],lb=G.G[Gc+1][Xc],tb=G.G[Gc+1][Xc+1];
if(!IG(uc)&&tp(uc)!=L||!IG(lb)&&tp(lb)!=L||!IG(tb)&&tp(tb)!=L)Fi=!1}Fi||(T("the pumpkin requires a 2x2 open field plot to plant. The pumpkin is planted with the top left corner where you click, and requires a free space to the right, bottom and bottom-right.",uB,0,0),da=!1)}if(da&&(ea==rH||ea==RK))if(Yo(L)){R=S(L);zn(R)&&((G.challenge==Rn||1>L.H)&&R.type!=Al?(G.Lh--,G.Ad--):(G.wk++,G.th++,M.la&&(G.Bi++,G.Nl++)));if(R.Oc)for(var Ie=[[0,1],[1,0],[1,1]],Vf=0;Vf<Ie.length;Vf++){var qc=Ie[Vf];G.G[M.y+
qc[1]][M.x+qc[0]].index=0;G.G[M.y+qc[1]][M.x+qc[0]].H=0}L.index=0;L.H=0;G.b.u(Cb);M.silent||T("deleted "+R.name+", got back: "+Cb.toString());M.la||(u=!0);qH(rH,R)}else L.index==AG&&(L.index=0,L.H=0);if(da&&(ea==sH||ea==RK)){R=M.aa;N=R.O();zn(R)&&(R.type==Al?(G.bj++,G.lc++):(G.Lh++,G.Ad++,M.la&&(G.oe++,G.Ol++)));G.b.wa(N);L.index=R.index+Cs;L.H=0;if(R.Oc)for(Ie=[[0,1],[1,0],[1,1]],Vf=0;Vf<Ie.length;Vf++)qc=Ie[Vf],G.G[M.y+qc[1]][M.x+qc[0]].index=sp,G.G[M.y+qc[1]][M.x+qc[0]].H=0;R.type==Al&&(L.H=ea==
RK&&M.la&&pe?He:1);G.challenge==Rn&&(L.H=1);var Ra=R.O(1);M.silent||T("planted "+R.name+". Consumed: "+N.toString()+". Next costs: "+Ra+" ("+Tb(Ra)+")");1>=G.Ad+G.lc&&zn(R)&&5>G.na&&T("Keep planting more crops on other field cells to get more income",us,28466751);var mb=G.D[R.index];if(mb){var vc=mb.oa+1;mb.Ke<vc&&(mb.Ke=vc)}qH(sH,R);M.la||(u=!0)}}else if(ea==uL||ea==wL||ea==tL){L=G.xa[M.y][M.x];Cb=void 0;var Xh=ea==wL&&Yo(L);ea==tL&&Yo(L)&&(R=S(L),R.type!=M.aa.type?Xh=!0:M.aa.g<R.g&&(Xh=!0));var df=
ea==uL;ea==tL&&((R=S(L))&&R.type==M.aa.type?R&&M.aa.g>R.g&&(df=!0):df=!0);var fc=Xh&&(Yo(L)&&S(L).mc||1>L.H&&!L.Wf),Kj=-1;if(ea==wL||ea==tL)Yo(L)?(R=S(L),Cb=R.Wa(),Kj=R.type):Cb=P();(da=!0,ea==tL)&&M.aa&&L.index==Cs+M.aa.index&&(T("Already have this crop here",uB,0,0),da=!1);if(da&&(ea==wL||ea==tL)){var gc=null;Bs(L)==yv&&(gc=Wz().sub(Wz(void 0,yv)));Bs(L)==zv&&(gc=Wz().sub(Wz(void 0,zv)));Bs(L)==yv&&G.b.ka(gc)&&(T("cannot delete: must have at least the starter seeds which this crop gave to delete it, they will be forfeited.",
uB,0,0),da=!1)}if(da&&(ea==uL||ea==tL)){R=M.aa;N=R.O();ea==tL&&Yo(L)&&(N=N.sub(Cb));if(M.sp&&G.b.ka(N)){var Je=R.g,lm=-1;for(ea==tL&&Yo(L)&&S(L).type==M.aa.type&&(lm=S(L).g+1);;){Je--;if(Je<lm)break;mb=lv[R.type][Je];if(!Yo(L)||mb.index!=S(L).index){if(!mb)break;var Qk=mb.O();ea==tL&&Yo(L)&&(Qk=Qk.sub(Cb));if(Qk.Wk(G.b)){R=mb;M.aa=mb;N=Qk;break}}}}ea!=tL&&Yo(L)?(T("field already has crop",uB,0,0),da=!1):0==L.index||Yo(L)?G.ha[R.index].c?G.b.ka(N)?(T("not enough resources to plant "+R.name+": have: "+
ll(N).toString(Math.max(5,uk))+", need: "+N.toString(Math.max(5,uk)),uB,0,0),da=!1):R.index==Vu&&G.Tb[Vu]?(T("already have automaton, cannot place more",uB,0,0),da=!1):R.index==Wu&&G.Tb[Wu]>=G.Xa+1?(1==G.Tb[Wu]?T("already have squirrel, cannot place more",uB,0,0):T("already have the max amount of squirrels, cannot place more",uB,0,0),da=!1):R.index==Gu&&G.Tb[Gu]>(Ro(gC)?1:0)&&(1==G.Tb[Gu]?T("already have ethereal mistletoe, cannot place more",uB,0,0):T("already have the max amount of ethereal mistletoes, cannot place more",
uB,0,0),da=!1):(M.Ka&&(G.Wb=-1,T("shift+click, or p, repeats last planted plant, but no last plant is set, plant the regular way first",uB,0,0)),da=!1):(T("field already has something",uB,0,0),da=!1)}!da||ea!=wL&&ea!=tL||(R=Uu[Bs(L)],Bs(L)==yv&&(G.b.wa(gc),G.ma.wa(gc),G.gb.wa(gc)),1>L.H&&G.Kg--,fc||G.dj++,M.silent||T("deleted ethereal "+R.name+", got back "+Cb.toString()),L.index=0,L.H=0,G.b.u(Cb),ea==wL&&(L.Wf=!1),Xh&&!fc&&(G.ai=G.time),WB(G),M.la||(u=!0));if(da&&(ea==uL||ea==tL)){R=M.aa;var Ke=
N=R.O();ea==tL&&Cb&&(Ke=N.sub(Cb));M.silent||T("planted ethereal "+R.name+". Consumed: "+Ke.toString()+". Next costs: "+R.O(1));G.Kg++;G.b.wa(N);L.index=R.index+Cs;L.H=0;ea==tL?(L.Zh|=Kj!=M.aa.type,L.Wf|=!fc):(L.Zh=!0,L.Wf=!1);if(Bs(L)==yv){var Nc=Wz(yv).sub(Wz());G.b.u(Nc);G.ma.u(Nc);G.gb.u(Nc)}Bs(L)==zv&&(Nc=Wz(zv).sub(Wz()),G.b.u(Nc),G.ma.u(Nc),G.gb.u(Nc));Bs(L)==Av&&(Nc=Wz(Av).sub(Wz()),G.b.u(Nc),G.ma.u(Nc),G.gb.u(Nc));Bs(L)==Bv&&(Nc=Wz(Bv).sub(Wz()),G.b.u(Nc),G.ma.u(Nc),G.gb.u(Nc));Bs(L)==Cv&&
(Nc=Wz(Cv).sub(Wz()),G.b.u(Nc),G.ma.u(Nc),G.gb.u(Nc));!df||M.aa&&M.aa.mc||(G.bi=G.time);WB(G);M.la||(u=!0)}Tu++}else if(ea==TK||ea==SK||ea==pL){L=G.va[M.y][M.x];var md=S(L);Cb=void 0;if(ea==SK||ea==pL)Yo(L)?(R=S(L),Cb=R.Wa(L)):Cb=P();(da=!0,ea==pL)&&M.aa&&L.index==Cs+M.aa.index&&Yo(L)&&S(L).type!=Al&&(T("Already have this crop here",uB,0,0),da=!1);!da||ea!=SK&&ea!=pL||Yo(L)||ea==SK&&L.index==AG||(T("no crop to delete here",uB,0,0),da=!1);!da||ea!=TK&&ea!=pL||((R=M.aa,N=R.O(),ea==pL&&Yo(L)&&(N=N.sub(Cb)),
ea!=pL&&Yo(L))?(T("field already has crop",uB,0,0),da=!1):0==L.index||L.index==AG||Yo(L)?G.da[R.index].c?G.b.ka(N)&&(T("not enough resources to plant "+R.name+": have: "+ll(N).toString(Math.max(5,uk))+", need: "+N.toString(Math.max(5,uk))+" ("+Tb(N)+")",uB,0,0),da=!1):(M.Ka&&(G.Jb=-1,T("shift+click, or p, repeats last planted plant, but no last plant is set, plant the regular way first",uB,0,0)),da=!1):(T("field already has something",uB,0,0),da=!1));!da||ea!=SK&&ea!=pL||(Yo(L)?(R=Nz[Bs(L)],1>L.H&&
G.Mh--,G.xk++,M.silent||ea!=SK||T("deleted infinity "+R.name+", got back "+Cb.toString()),L.index=0,L.H=0,WB(G),G.b.u(Cb),u=!0):L.index==AG&&(L.index=0,L.H=0));if(da&&(ea==TK||ea==pL)){R=M.aa;Ke=N=R.O();ea==pL&&Cb&&(Ke=N.sub(Cb));G.Mh++;G.b.wa(N);L.index=R.index+Cs;L.H=R.type==Al?1:0;if(R.type==Hl)for(var Jb=0;4>Jb;Jb++){var wc=M.x+(1==Jb?1:3==Jb?-1:0),be=M.y+(2==Jb?1:0==Jb?-1:0);if(!(0>wc||wc>=G.Ha||0>be||be>=G.Ga)){var Df=G.va[be][wc];mb=DG(Df)}}else if(R.type!=Al)for(Jb=0;4>Jb;Jb++)wc=M.x+(1==
Jb?1:3==Jb?-1:0),be=M.y+(2==Jb?1:0==Jb?-1:0),0>wc||wc>=G.Ha||0>be||be>=G.Ga||(Df=G.va[be][wc],mb=DG(Df));Ra=R.O(1);if(!M.silent){var Wf="planted";ea==pL&&md&&R.index==md.index?Wf="refreshed":ea==pL&&(Wf="replaced with");T(Wf+" infinity "+R.name+(ac(Ke.v,0)?". Got back: "+Ke.Lc().toString():". Consumed: "+Ke.toString())+". Next costs: "+Ra.toString()+" ("+Tb(Ra)+")")}WB(G);u=!0}}else if(ea==xO||ea==uO||ea==wO){L=G.Fb[M.y][M.x];Cb=void 0;if(ea==uO||ea==wO)Yo(L)?(R=S(L),Cb=R.Wa(L)):Cb=P();(da=!0,ea==
wO)&&M.md&&L.index==Cs+M.md.index&&Yo(L)&&(T("Already have this fish here",uB,0,0),da=!1);!da||ea!=uO&&ea!=wO||Yo(L)||ea==uO&&L.index==AG||(T("no fish to delete here",uB,0,0),da=!1);!da||ea!=xO&&ea!=wO||((R=M.md,N=R.O(),ea==wO&&Yo(L)&&(N=N.sub(Cb)),ea!=wO&&Yo(L))?(T("there already is a fish here",uB,0,0),da=!1):0==L.index||L.index==AG||Yo(L)?G.Aa[R.index].c?(R.type==tz||R.type==Gy||R.type==az)&&0<R.g&&G.cb[R.index]?(T("Can have only max 1 of this fish",uB,0,0),da=!1):R.type!=tz&&R.type!=Gy||0!=R.g||
!(4<=G.Wd[R.type])||Yo(L)&&S(L).type==R.type?R.type==az&&0==R.g&&9<=G.Wd[R.type]&&(!Yo(L)||S(L).type!=R.type)?(T("Can have only max 9 of this fish type",uB,0,0),da=!1):G.b.ka(N)?(T("not enough resources to plant "+R.name+": have: "+ll(N).toString(Math.max(5,uk))+", need: "+N.toString(Math.max(5,uk))+" ("+Tb(N)+")",uB,0,0),da=!1):R.type==az&&0<G.Wd[R.type]&&0==G.cb[R.index]&&(!Yo(L)||S(L).type!=R.type||1!=G.Wd[R.type])&&(T("Cannot have multiple tiers of shrimp at the same time. Remove all other shrimp, then try to place this tier again",
uB,0,0),da=!1):(T("Can have only max 4 of this fish type",uB,0,0),da=!1):(M.Ka&&(G.Jb=-1,T("shift+click, or p, repeats last planted plant, but no last plant is set, plant the regular way first",uB,0,0)),da=!1):(T("there already is something here",uB,0,0),da=!1));!da||ea!=uO&&ea!=wO||(Yo(L)?(R=pC[Bs(L)],G.yk++,M.silent||T("deleted "+R.name+", got back "+Cb.toString()),L.index=0,L.H=0,WB(G),G.b.u(Cb),u=!0):L.index==AG&&(L.index=0,L.H=0));!da||ea!=xO&&ea!=wO||(R=M.md,Ke=N=R.O(),ea==wO&&Cb&&(Ke=N.sub(Cb)),
M.silent||T("placed fish "+R.name+". Consumed: "+Ke),G.tk++,G.b.wa(N),L.index=R.index+Cs,G.Aa[R.index].I=!0,WB(G),u=!0)}else if(ea==iN)G.Va&&G.Gb==M.x&&G.Hb==M.y&&($b=!0,G.De++,G.ug++,M.la||(u=!0));else if(ea==jN){if(G.$a&3&&G.fc&&G.Ac==M.x&&G.Bc==M.y){jc=!0;var xg=yG();G.Nh[xg]=(G.Nh[xg]||0)+1;u=!0}}else if(ea==MK){var vb=M.mg,Ef=G.time-G.xb,Rk=G.time-G.Lb,pr=G.time-G.zb,mm=Cu();0==vb?G.o[tn].count?Rk<mn(720)?mm?T("Sun selected."):G.wb!=vb&&Rk<gn(120)?(G.wb=vb,M.Xc&&(G.Ob=vb),T("Changed weather into sun. Only one weather effect can be active at the same time.")):
T(Rk<gn(120)?"sun is already active":"sun is not ready yet",uB,0,0):(G.Lb=G.time,T("sun activated, berries get a +"+K(ep())+" boost and aren't negatively affected by winter"),M.la||(u=!0),G.cf++,G.Jh++,G.wb=vb,M.Xc&&(G.Ob=vb)):M.la&&(G.wb=vb,M.Xc&&(G.Ob=vb)):1==vb?G.o[vn].count&&(Ef<mn(1080)?mm?T("Mist selected."):G.wb!=vb&&Ef<gn(180)?(G.wb=vb,M.Xc&&(G.Ob=vb),T("Changed weather into mist. Only one weather effect can be active at the same time.")):mm||T(Ef<gn(180)?"mist is already active":"mist is not ready yet",
uB,0,0):(G.xb=G.time,T("mist activated, mushrooms produce +"+K(hp())+" more spores, consume "+K(Lj(gp()))+" less seeds, and aren't negatively affected by winter"),M.la||(u=!0),G.cf++,G.Jh++,G.wb=vb,M.Xc&&(G.Ob=vb))):2==vb&&G.o[xn].count&&(pr<mn(1440)?mm?T("Rainbow selected."):G.wb!=vb&&pr<gn(240)?(G.wb=vb,M.Xc&&(G.Ob=vb),T("Changed weather into rainbow. Only one weather effect can be active at the same time.")):T(pr<gn(240)?"rainbow is already active":"rainbow is not ready yet",uB,0,0):(G.zb=G.time,
T("rainbow activated, flowers get a +"+K(Lp())+" boost and aren't negatively affected by winter"),M.la||(u=!0),G.cf++,G.Jh++,G.wb=vb,M.Xc&&(G.Ob=vb)));mm&&(G.wb=vb,M.Xc&&(G.Ob=vb))}else if(ea==gR){L=M.Yc;if(void 0!=M.Ij){var Le=M.Ij,Gi=L.slot;da=!0;var ma=M.Gl&&wH(Le);100>Le&&100<=Gi&&G.Z.length>=G.Da?ma=!0:100>Le&&Le>=G.Da&&(da=!1);if(da){if(ma)AH(Gi,Le);else{if(100>Gi){for(C=Gi;C+1<G.Z.length;C++)G.Z[C]=G.Z[C+1],G.Z[C]&&(G.Z[C].slot=C);G.Z.length--}else{for(C=Gi-100;C+1<G.ea.length;C++)G.ea[C]=
G.ea[C+1],G.ea[C]&&(G.ea[C].slot=C);G.ea.length--}if(100>Le){for(;Le>G.Z.length;)Le--;for(C=G.Z.length;C>Le;C--)G.Z[C]=G.Z[C-1],G.Z[C]&&(G.Z[C].slot=C);G.Z[Le]=L}else{for(var Wb=Le-100;Wb>G.ea.length;)Wb--;for(C=G.ea.length;C>Wb;C--)G.ea[C]=G.ea[C-1],G.ea[C]&&(G.ea[C].slot=C);G.ea[Wb]=L}L.slot=Le}u=!0}}else{var dd=M.ol;if(dd!=(100>L.slot?0:1))if(0==dd)if(G.Z.length>=G.Da)T("stored slots already full",uB,0,0);else{var vg=G.Z.length;xH(L.slot,void 0);xH(vg,L)}else 1==dd&&(vg=100+G.ea.length,xH(L.slot,
void 0),xH(vg,L));u=!0}aP()}else if(ea==YK){if(vg=M.slot,da=!0,-1>vg&&(da=!1),!M.Ln&&vg>=G.Z.length&&(da=!1),vg>=G.Da&&(da=!1),da){G.ob=vg;aP();NJ();if(!M.silent){var AB=uH();T("Set active fruit: "+(AB?AB.toString()+": "+AB.vi(!1,!0):"none"))}M.la||(u=!0)}}else if(ea==dR){L=M.Yc;var Lm=M.index;vb=L.V[Lm];N=iy(vb,L.Fa[Lm],L.g).ca;var Qr=G.b.ca.sub(L.ca);if(!hy(vb))if(M.shift){Qr.Na(.25);for(ib=0;Qr.mj(N)&&!(L.ca.u(N),L.Fa[Lm]++,u=!0,G.vg++,G.Zi++,Qr.wa(N),N=iy(vb,L.Fa[Lm],L.g).ca,ib++,1E3<ib););0<
ib&&T("Fruit ability "+vo(vb)+" leveled up "+ib+" times to level "+L.Fa[Lm])}else Qr.ka(N)?T("not enough essence for fruit upgrade: need "+N.toString()+", available for this fruit: "+Qr.toString(),uB,0,0):(L.ca.u(N),L.Fa[Lm]++,T("Fruit ability "+vo(vb)+" leveled up to level "+L.Fa[Lm]),u=!0,G.vg++,G.Zi++)}else if(ea==eR){L=M.Yc;vb=M.index;var BB=M.Lo,CV=ny(L.g);da=!0;BB&&0>=vb&&(da=!1);!BB&&vb+1>=CV&&(da=!1);if(da){pc=vb+(BB?-1:1);var Rr=L.V[vb];L.V[vb]=L.V[pc];L.V[pc]=Rr;Rr=L.Fa[vb];L.Fa[vb]=L.Fa[pc];
L.Fa[pc]=Rr;Rr=L.Ua[vb];L.Ua[vb]=L.Ua[pc];L.Ua[pc]=Rr;aP();u=!0}}else if(ea==ZQ){vb=M.Jn;pc=M.A;var Uv=0;fy(1)&&(Uv=2);fy(2)&&(Uv=4);fy(3)&&(Uv=5);if(L=ry(vb,pc,Uv,M.Ko,M.mo)){L.slot=vb.slot;100<=L.slot&&100>pc.slot&&(L.slot=pc.slot);100<=L.slot&&G.Z.length<G.Da&&(L.slot=G.Z.length);100>L.slot?G.Z[L.slot]=L:G.ea[L.slot-100]=L;var CB=L.slot,DB=vb.slot,Vv=pc.slot;CB!=Vv&&Vv>DB&&xH(pc.slot,null);CB!=DB&&xH(vb.slot,null);CB!=Vv&&Vv<DB&&xH(pc.slot,null);var EB=G.Rc;4<L.type&&(G.Rc|=1<<L.type-1);var FB=
G.Rc;240!=(EB&240)&&240==(FB&240)&&(tR("You've seen all 4 possible 2-seasonal fruits! One extra fruit storage slot added to cope with the variety."),G.Da++);256!=(EB&256)&&256==(FB&256)&&(tR("You've seen a star fruit for the first time! One extra fruit storage slot added to cope with the variety."),G.Da++);512!=(EB&512)&&512==(FB&512)&&(tR("You've seen a dragon fruit for the first time! One extra fruit storage slot added to cope with the variety."),G.Da++);G.Ci++;G.Tl++;u=!0;$O=L;aP()}}else if(ea==
uR){L=G.zc[M.yo];(da=!0,!L)&&(da=!1);var zL=BH(L);da&&G.b.ka(zL)&&(T("Not enough essence to recover fruit",uB,0,0),da=!1);da&&(G.zc.splice(M.yo,1),yH(L),G.b.wa(zL),G.Ui++,u=!0)}else if(ea==GM)0==M.cd&&(G.Xe=M.Mc),4==M.cd&&(G.je=M.Mc),1==M.cd&&(G.Sd=M.Mc),2==M.cd&&(G.fd=M.Mc),3==M.cd&&(G.We=M.Mc),5==M.cd&&(M.Mc&&rM(),G.jc=M.Mc),M.hb&&M.hb(),u=!0;else if(ea==mO){if(da=!0,0<=G.lb)T("Already have an ethereal mistletoe upgrade active",uB,0,0),da=!1;var $f=aC[M.index],re=G.Kb[M.index];$f&&re||(da=!1);mC($f.index)||
(da=!1);$f.de&&0<re.$&&(T("This mistletoe upgrade can be performed only once, you already have this upgrade",uB,0,0),da=!1);(N=$f.Ck())&&!il(G.b,N)&&(T("not enough resources for "+$f.name+": have: "+ll(N).toString(Math.max(5,uk))+", need: "+N.toString(Math.max(5,uk))+" ("+Tb(N)+")",uB,0,0),da=!1);da&&(0==re.time?T("Started ethereal mistletoe upgrade: "+la($f.name),sP,35481154,.5,!0):T("Continued ethereal mistletoe upgrade: "+la($f.name),sP,35481154,.5,!0),G.lb=M.index,G.Xl++,N&&G.b.wa(N),u=!0)}else if(ea==
lO)if($f=aC[G.lb],re=G.Kb[G.lb],0<=G.lb&&$f&&re){if(N=$f.Ck())T("Stopped mistletoe upgrade. Got back the cost: "+N.toString()+". The time is remembered and the upgrade can be continued at any later time, by paying the cost again"),G.b.u(N);G.Wl++;G.lb=-1;u=!0}else 0>G.lb&&T("Cannot stop upgrade, no mistletoe upgrade in progress",uB,0,0);else ea==PK?(G.challenge!=Kl||G.za.bc||(G.za.uc?Xl()||(u=$a=!0):(u=G.za.uc=!0,Tm())),G.za.bc&&T("Can't spawn any more waves, it's game over",pm,1250454032)):ea==LM&&
(da=!0,M.challenge&&!G.P[M.challenge].c&&(da=!1),!G.challenge&&10>G.s&&(da=!1),M.la&&20<=G.yj&&(da=!1),da&&(D=M,M.la||(u=!0),Tm(),M.la?(G.Ne++,G.yj++,G.Ig++):G.Ne=0,qU=[],void 0!=M.tb&&W({type:sU,tb:M.tb}),pU(D.challenge,M.la),WB(G),D.la||(G.qg=new P),wJ(),G.Jo=void 0!=D.tb))}}var Wv=!1;if(eT){Wv=!0;var AL=m.getTime()-G.time;3600>AL&&(Wv=!1);D&&AL<G.Nc+3600&&(Wv=!1)}u&&n&&!x&&!Wv&&$T(n);O&&lU++;if(G.challenge==dp&&0<G.Aj&&G.time>=G.be+120){if(L=zU())T(S(L).name+" was hit by lighting!"),L.index=Cs+
hs[S(L).type],L.H=1,G.Ai++,G.Kl++,tN=L.x,uN=L.y;G.be=G.time}G.challenge!=dp&&(G.be=0);wJ();G.qk=c(G.gb.B);Vb=P();for(Gc=0;Gc<G.F;Gc++)for(Xc=0;Xc<G.C;Xc++){L=G.G[Gc][Xc];if(io(L)){var DV=Rm[Gc][Xc];R=S(L);var GB=P();if(G.challenge==Kl){k=G.za;var EV=R.Ja();if(1>L.H){var Kb=h/EV;L.H+=Kb}1<L.H&&(L.H=1)}else if(R.type==Al||G.challenge==Rn){var BL=R.type==Al,HB=BL?R.Ja():120;Kb=h/HB;L.H-=Kb;if(0>=L.H)if(Zp(R)&&G.challenge!=Rn)L.H=0;else{L.H=0;var Xv=!1;if(BL){var IB=0;for(Jb=0;4>Jb;Jb++)wc=Xc+(1==Jb?
1:3==Jb?-1:0),be=Gc+(2==Jb?1:0==Jb?-1:0),0>wc||wc>=G.C||0>be||be>=G.F||(Df=G.G[be][wc],(mb=S(Df))&&mb.type!=Al&&IB++);2<=IB&&(Xv=!0);1==IB&&1>=G.ab[jr]&&0==G.Sj[AG]&&(Xv=!0);Xv&&(L.index=AG)}Xv||(L.index=0)}}else 0==R.Ja()&&(L.H=1),1>L.H&&(Kb=h/R.Ja(),L.H+=Kb,1<=L.H&&(L.H=1,G.challenge!=Rn&&(G.$i++,G.qe++),G.Me[1]&&(R.type==wl?m.getTime()>bV+5&&(Ac(2E3),bV=m.getTime()):R.type==xl?m.getTime()>cV+5&&(Ac(1800),cV=m.getTime()):m.getTime()>dV+5&&(Ac(2200),dV=m.getTime()))));GB=DV.Yb;Vb.u(GB);G.challenge!=
Kl&&Fa.u(GB.i(h))}else if(JG(L)||Yo(L)&&S(L).Vb)L.H=1;Yo(L)&&(R=S(L),1<=L.H||R.type==Al||G.challenge==Rn)&&(mb=G.D[R.index],mb.I<=mb.oa&&(mb.I=mb.oa+1))}for(Gc=0;Gc<G.pa;Gc++)for(Xc=0;Xc<G.qa;Xc++)L=G.xa[Gc][Xc],Yo(L)&&(R=Uu[Bs(L)],1>L.H?0==R.Ja()?L.H=1:(Kb=h/R.Ja(),L.H+=Kb,1<=L.H&&(L.H=1,G.aj++,1==G.aj&&T("your first ethereal plant in the ethereal field has fullgrown! It provides a bonus to your basic field.",us,126850492),L.Wf=!1)):G.ha[R.index].I=!0);if(ZD())for(ac(G.b.v,10.0000000001)&&ZD()&&
0==G.tf&&Fa.u(P({v:10.0000000001-G.b.v})),Vb.u(G.Wg),Fa.u(G.Wg.i(h)),Gc=0;Gc<G.Ga;Gc++)for(Xc=0;Xc<G.Ha;Xc++)L=G.va[Gc][Xc],io(L)&&(R=S(L),R.type==Al?(G.da[R.index].I=!0,HB=R.Ja(),Kb=h/HB,L.H-=Kb,0>=L.H&&(L.H=0,L.index=AG,G.am++)):1>L.H&&(Kb=h/R.Ja(),L.H+=Kb,1<=L.H&&(L.H=1,G.da[R.index].I=!0,G.rk++)));if($b){var CL=$U(),JB=!1,KB=new P;if(1==G.o[du].count){var DL=G.time-G.nc,EL=oA();if(0<EL&&0<DL){var FV=G.gb.f.sub(G.Lf.f),GV=G.gb.B.sub(G.Lf.B),HV=EL/DL;KB=(new P({f:FV,B:GV})).i(HV);JB=!0}var FL=pA();
0<FL&&KB.u(CL.i(FL))}var LB=2==G.Va||JB,Sr=G.Ti;0==Sr&&(Sr=nA());var GL=.25*Sr,Tr=FU();Tr=LB?.5*Tr+1:Tr+.5;var HL=GL*Tr;2==G.o[du].count&&(HL*=1.25);Kb=CL.i(HL);ac(Kb.f,2)&&(Kb.f=Xb(Kb.f,c(2*FU()+1)));var Ur=Wz();Kb.f.ka(Ur.f)&&(Kb.f=Xb(Kb.f,Ur.f.i(Tr)));var Vr=new P({f:Kb.f,B:Kb.B});if(LB){Vr=Vr.i(1.75);Vr.f.mb(5);var IV=Sr/120;120<=Sr+1&&1<G.na&&(!G.challenge||V[G.challenge].ed)&&Vr.h.u(G.Gg.h.ub(200).i(IV))}var Vj=Vr.add(KB);JB?T("This fern has been here a long time! It gave "+Vj.toString(),sP,
989456955,1,!0):LB?T("This fern is extra bushy! It gave "+Vj.toString(),sP,989456955,1,!0):T("That fern gave: "+Vj.toString(),sP,989456955,.5,!0);G.Jl.u(Vj);Vj.h.J(0)&&(G.Mf.h.u(Vj.h),Vj.h=c(0));Fa.u(Vj);G.nc=G.time;G.Va=0;0==G.al&&G.b.add(Vj).f.ib(10)&&T("You have enough resources to plant. Click an empty field to plant",us,64721)}GL=0;if(!G.Va&&!$b&&G.challenge!=Kl){var IL=nA();if(G.time>G.nc+IL){G.Ti=IL;if(Ma=yU()){G.Va=1;G.Gb=Ma[0];G.Hb=Ma[1];if(3==G.De||jn()&&3==G.ug||7<G.De&&.1>FU())G.Va=2;
G.Me[0]&&Ac(1E3);T('A fern spawned<span style="color:#0000"> at '+G.Gb+", "+G.Hb+"</span>",sP,2352600596,.5)}G.nc=G.time;G.Lf=new P({f:G.gb.f,B:G.gb.B})}}G.Va&&(0>G.Gb&&(G.Gb=0),0>G.Hb&&(G.Hb=0),G.Gb>=G.C&&(G.Gb=G.C-1),G.Hb>=G.F&&(G.Hb=G.F-1));if(G.$a&3){if(jc){G.ll=1500*(1+GU());var Mm=gN(),JL=jn(),KL=G.challenge==Kl;if(1==Mm){Kb=$U().i(300);Ur=Wz();Kb.f.ka(Ur.f)&&!KL&&(Kb.f=Xb(Kb.f,Ur.f));ac(Kb.f,10)&&(Kb.f=Xb(Kb.f,c(10)));var Kf=new P({f:Kb.f});JL&&(Kf=Kf.i(.3));G.$a&1?T("That present contained: "+
Kf.toString(),xP,38753631,.8,!0):T("That egg contained "+Kf.toString(),yP,38753631,.8,!0);Fa.u(Kf);G.Va&&G.Lf.u(Kf)}else if(2==Mm){Kb=$U().B.i(300);var LL=G.gb.B.i(.0035);Kb.ka(LL)&&!KL&&(Kb=LL);JL&&(Kb=Kb.i(.3));ac(Kb,1)&&(Kb=Xb(Kb,c(1)));Kf=new P({B:Kb});G.$a&1?T("That present contained: "+Kf.toString(),xP,38753631,.8,!0):T("That egg contained "+Kf.toString(),yP,38753631,.8,!0);Fa.u(Kf);G.Va&&G.Lf.u(Kf)}else if(3==Mm)G.ni=G.time,G.$a&1?T("This present boosts production for 15 minutes!",xP,38753631,
.8,!0):T("This egg boosts production for 15 minutes!",yP,38753631,.8,!0);else if(4==Mm){var ML=kB(G.Sc).i(4E-4).i(1+GU());Kb=$U().i(300);Kb.Y.ka(ML)&&(Kb.Y=ML);Kf=new P({Y:Kb.Y});G.$a&1?T("That present contained a nutcracker! It gave "+Kf.toString(),xP,38753631,.8,!0):T("That egg was nut flavored! It gave "+Kf.toString(),yP,38753631,.8,!0);Fa.u(Kf)}else if(5==Mm)G.li=G.time,G.$a&1?T("This present doubles crop grow speed for 15 minutes!",xP,38753631,.8,!0):T("This egg doubles crop grow speed for 15 minutes!",
yP,38753631,.8,!0);else if(6==Mm){G.$a&1?T("This present contained fruit!",xP,38753631,.8,!0):T("This egg contained fruit!",yP,38753631,.8,!0);var gi=IU(Math.max(5,G.Oa-2),!0);if(gi){var JV=G.$a&1?xP:yP;for(C=0;C<gi.length;C++)G.Qa[5]&&T("fruit dropped: "+gi[C].toString()+". "+gi[C].vi(),JV,38753631,.8)}}else if(7==Mm){var MB=c(Math.floor(2*GU())+2);Fa.ta.u(MB);G.$a&1?T("That present contained "+MB.toString()+" amber!",xP,38753631,.8,!0):T("That egg contained "+MB.toString()+" amber!",yP,38753631,
.8,!0)}G.rj=G.time;G.fc=0}if(!G.fc&&!jc&&2<=G.Lh&&!(3E3<G.Nh[xg])&&G.challenge!=Kl&&G.time>G.rj+G.ll){if(Ma=yU())G.fc=1+Math.floor(7*GU())%7,G.Jj=Math.floor(4*GU())&3,G.Ac=Ma[0],G.Bc=Ma[1],G.$a&1?T('A present appeared<span style="color:#0000"> at '+G.Ac+", "+G.Bc+"</span>",xP,5,.8):T('An egg appeared<span style="color:#0000"> at '+G.Ac+", "+G.Bc+"</span>",yP,5,.8);G.rj=0}}else G.fc=0;G.qk=G.gb.B.add(Fa.B);var NL=on(Rx);if(NL){var KV=qn(Rx,NL,rn());G.ih.u(Fa.B.sa(KV))}var OL=on(Sx);if(OL){var LV=qn(Sx,
OL,rn());G.ph.u(Fa.B.sa(LV))}var PL=on(Ux);if(PL){var QL=qn(Ux,PL,rn());G.ih.u(Fa.B.sa(QL));G.ph.u(Fa.B.sa(QL))}var Yv=wy(),RL=.5;for(G.challenge==Kl&&(RL=0);G.time>=G.Jd+RL&&G.b.Ma(Yv);){var Zv=c(0),$v=c(0),MV=G.time-G.Jd;G.ee[1]=mp(!1);10>=MV?(G.ee[0]=Math.max(G.ee[0],G.ee[1]),G.fg=G.time):(G.ee[0]=0,G.fg=0);var NB=!0;G.challenge&&!V[G.challenge].Ec&&(NB=!1);G.challenge&&!V[G.challenge].dd&&G.s>G.Oa&&(NB=!1);NB&&($v=Pz(void 0).K,G.K.u($v));var SL=ZU();Fa.ta.u(SL);G.qg.ta.u(SL);G.s++;kU++;var OB=
!0;G.challenge&&!V[G.challenge].ed&&(OB=!1);G.challenge&&!V[G.challenge].dd&&G.s>G.Oa&&(OB=!1);OB&&(Zv=Ay(G.s,void 0),G.h.u(Zv));G.b.wa(Yv);G.Oa=Math.max(G.s,G.Oa);for(C=1;C<G.rd.length;C++)G.rd[G.rd.length-C]=G.rd[G.rd.length-1-C];G.rd[0]=wB();G.Jd=G.time;var PB=G.Qa[1]||G.s>=G.Oa;PB&&(ka="Tree leveled up to: "+Li[xy(G.s)][0]+", level "+G.s+". Consumed: "+Yv.toString()+". Tree boost: "+K(cp()),Zv.J(0)&&(ka+=". Resin added: "+Zv.toString()+". Total resin ready: "+FH().toString()),3==On()&&(ka+=". Winter resin bonus: "+
K(Jj(By(),1))),$v.J(0)&&(ka+=". Twigs from mistletoe added: "+$v.toString()),2==On()&&(ka+=". Autumn twigs bonus: "+K(Jj(Qz(),1))),9==G.s&&(ka+=". The tree is almost an adult tree now."),T(ka,sP,109168563));2==G.s?qu(12):3==G.s?AR(-13,void 0,"The tree reached level "+G.s+' and is providing a choice, see the new upgrade that provides two choices under "upgrades".'):4==G.s?qu(14):6==G.s?qu(15):8==G.s&&AR(-16,void 0,"The tree reached level "+G.s+' and is providing another choice, see the new upgrade that provides two choices under "upgrades".');
gi=void 0;0<G.s&&0==G.s%5&&(!G.challenge||V[G.challenge].ng&&10<=G.s&&(V[G.challenge].dd||G.s<=G.Oa))&&(PB&&5==G.s&&qu(2),PB&&15==G.s&&qu(18),gi=IU(G.s),e=!0);10==G.s&&G.challenge&&V[G.challenge].ng&&(gi=IU(G.s),e=!0,G.Qa[5]&&T("The tree dropped the level 5 fruit at level 10 during this challenge",sP,1340887270));1==G.s?qu(6):G.s==ty&&qu(7);if(G.challenge&&void 0!=V[G.challenge].ia){if(G.s==V[G.challenge].ia[0]){R=V[G.challenge];mb=G.P[G.challenge];if(0==mb.Nb||G.ga<mb.Nb)mb.Nb=Math.max(.01,G.ga);
if(1<R.ja){var Nm=R.hj();if(0==mb.le[Nm]||G.ga<mb.le[Nm])mb.le[Nm]=Math.max(.01,G.ga)}}G.s==V[G.challenge].ei()&&(R=V[G.challenge],mb=G.P[G.challenge],R.vl()?T("challenge target level reached"):(UM(),qu(26)),1<R.ia.length&&G.s>=R.ip()&&(0==mb.yd||G.ga<mb.yd)&&(mb.yd=Math.max(.01,G.ga)),1<R.ja&&(Nm=R.hj(),0==mb.me[Nm]||G.ga<mb.me[Nm]))&&(mb.me[Nm]=Math.max(.01,G.ga))}if(gi)for(C=0;C<gi.length;C++)G.Qa[5]&&T("fruit dropped: "+gi[C].toString()+". "+gi[C].vi(),sP,1284767498);Yv=wy();if(G.challenge!=Kl)break}if(G.challenge&&
void 0==V[G.challenge].ia&&!G.Ii&&V[G.challenge].nn()){G.Ii=1;R=V[G.challenge];mb=G.P[G.challenge];if(0==mb.Nb||G.ga<mb.Nb)mb.Nb=Math.max(.01,G.ga);R.vl()?T("challenge goal completed"):(UM(),qu(26))}if(0<G.na){var QB=Uz(G.U+1);if(G.b.Ma(QB)){G.U++;G.ci=G.time;ka="Ethereal tree leveled up to: "+Li[xy(G.U)][0]+", level "+G.U+". Consumed: "+QB.toString();ka+=". Higher ethereal tree levels can unlock more ethereal upgrades and ethereal crops";G.b.wa(QB);T(ka,tP,48352772);$N(G.U);1==G.U&&qu(-22);for(C=
0;C<G.U-1;C++)void 0==G.Qi[C]&&(G.Qi[C]=0),void 0==G.Cg[C]&&(G.Cg[C]=P()),void 0==G.Ni[C]&&(G.Ni[C]=0),void 0==G.Pi[C]&&(G.Pi[C]=0),void 0==G.Mi[C]&&(G.Mi[C]=c(0)),void 0==G.Oi[C]&&(G.Oi[C]=c(0));G.Qi[G.U-1]=G.kf;G.Cg[G.U-1]=P(G.ma);G.Cg[G.U-1].f=c(G.eb.f);G.Cg[G.U-1].B=c(G.eb.B);G.Ni[G.U-1]=G.Oa;G.Pi[G.U-1]=G.na;G.Mi[G.U-1]=c(Jj(G.df,1));G.Oi[G.U-1]=c(G.Yg)}1<=G.U&&mx(Gv);2<=G.U&&(mx(nw),mx(zv));3<=G.U&&(mx(Ov),mx(gw));4<=G.U&&(mx(Hv),mx(sw),mx(Av));5<=G.U&&mx(Pv);6<=G.U&&(mx(Bv),mx(hw));7<=G.U&&
(mx(Iv),mx(Qv));8<=G.U&&(mx(tw),mx(yw),mx(Cv));9<=G.U&&mx(iw);10<=G.U&&(mx(ow),mx(Rv));11<=G.U&&mx(Jv);12<=G.U&&(mx(jw),mx(uw));13<=G.U&&(mx(zw),mx(Sv));14<=G.U&&mx(Kv);15<=G.U&&mx(kw);16<=G.U&&mx(vw);17<=G.U&&mx(Tv);18<=G.U&&mx(Lv);19<=G.U&&(mx(lw),mx(Aw));20<=G.U&&mx(ww);21<=G.U&&mx(qw);22<=G.U&&(mx(Mv),mx(ew));23<=G.U&&mx(mw);24<=G.U&&mx(xw);26<=G.U&&mx(pw)}ZD()&&(JU(EC),G.da[EC].I&&JU(PC),G.da[PC].I&&JU(gD),G.da[PC].I&&JU(FC),G.da[FC].I&&JU(QC),G.da[QC].I&&JU(hD),G.da[QC].I&&JU(GC),G.da[GC].I&&
JU(RC),G.da[RC].I&&JU(iD),G.da[RC].I&&JU(DD),G.da[iD].I&&JU(rD),G.da[iD].I&&JU(HC),G.da[HC].I&&JU(SC),G.da[SC].I&&JU(jD),G.da[jD].I&&JU(sD),G.da[jD].I&&JU(IC),G.da[IC].I&&JU(TC),G.da[TC].I&&JU(kD),G.da[TC].I&&JU($C),G.da[kD].I&&JU(tD),G.da[kD].I&&JU(JC),G.da[JC].I&&JU(UC),G.da[UC].I&&JU(lD),G.da[UC].I&&JU(aD),G.da[lD].I&&JU(uD),G.da[lD].I&&JU(KC),G.da[KC].I&&JU(VC),G.da[VC].I&&JU(mD),G.da[VC].I&&JU(bD),G.da[mD].I&&JU(vD),G.da[bD].I&&JU(ED),G.da[mD].I&&JU(LC),G.da[LC].I&&JU(WC),G.da[WC].I&&JU(nD),
G.da[WC].I&&JU(cD),G.da[nD].I&&JU(wD),G.da[nD].I&&JU(qC),G.da[cD].I&&JU(FD),G.da[wD].I&&JU(MC),G.da[MC].I&&JU(XC),G.da[XC].I&&JU(oD),G.da[XC].I&&JU(dD),G.da[oD].I&&JU(xD),G.da[oD].I&&JU(JD),G.da[dD].I&&JU(GD),G.da[JD].I&&JU(MD),G.da[MD].I&&JU(NC),G.da[NC].I&&JU(YC),G.da[YC].I&&JU(pD),G.da[YC].I&&JU(eD),G.da[pD].I&&JU(yD),G.da[pD].I&&JU(KD),G.da[eD].I&&JU(HD),G.da[KD].I&&JU(ND),G.da[ND].I&&JU(TD),G.da[TD].I&&JU(OC),G.da[OC].I&&JU(ZC),G.da[ZC].I&&JU(fD),G.da[ZC].I&&JU(qD),G.da[fD].I&&JU(ID),G.da[qD].I&&
JU(zD),G.da[qD].I&&JU(LD),G.da[LD].I&&JU(OD),G.da[OD].I&&JU(YD),fn()&&LU(),G.pd.ba(G.Xi)&&(G.Xi=G.pd.clone()));if(G.Kf)if(0<=G.lb){if($f=aC[G.lb],re=G.Kb[G.lb],$f&&re){var TL=re.time;re.time+=h;var aw=$f.getTime();if(G.pc){var Om=G.pc;Om=Math.min(Om,h);Om=Math.min(Om,aw-re.time);0<Om&&(re.time+=Om,G.pc-=Om)}var UL=Math.min(re.time,aw);UL>TL&&(G.Yi+=UL-TL);if(re.time>=aw){var VL=re.time-aw;G.pc+=VL;G.Hg+=VL;re.time=0;re.$++;G.lb=-1;T("Ethereal mistletoe upgrade completed: "+la($f.name),sP,172897358,
.75);G.sk++;Tu++}}}else G.pc+=h,G.Hg+=h;if(G.challenge==Kl&&(k=G.za,ya&&(k.lg+=h,k.Te+=h),A&&(Zl(),Fa.f.ba(k.he.f)&&(Fa.f=new c(0)),Fa.B.ba(k.he.B)&&(Fa.B=new c(0)),!k.bc&&k.uc))){if(!Xl()&&(G.time>Yl()||$a)){if($a){var bw=Yl()-G.time;0<bw&&(G.xb-=bw,G.Lb-=bw,G.zb-=bw)}Cm()}if(Xl()){var WL=Em();WL&&Fa.u(WL)}}jl(Vb);jl(Fa);G.b.u(Fa);O&&1==lU&&!eU&&(eU=P(Vb));for(C=0;C<os.length;C++)if(Ib=os[C],Wa=Bn[Ib],wa=G.o[Ib],wa.c&&G.challenge==ju&&su(Wa)&&(wa.c=!1),!(wa.c||G.challenge==cn&&!Wa.Vf||G.challenge==
xu&&Wa.Ie||G.challenge==ju&&su(Wa)||Ib==wt&&G.challenge&&!V[G.challenge].Ec)&&Wa.kl()){if(wa.c)!G.Qa[2]&&wa.lh||T('Received: "'+Wa.Ee()+'"',uP,2043573365);else{wa.c=!0;G.vh++;G.$l++;1==G.vh&&qu(8);if(G.Qa[2]||!wa.lh){var XL='Upgrade available: "'+Wa.Ee()+'"';Wa.kn&&(XL+=": "+Wa.kn);T(XL,uP,193917138)}if(Wa.Ie||Wa.Uf)if(mb=G.D[Wa.Ra])vc=mb.oa+1,Wa.Uf&&vc++,mb.Ke<vc&&(mb.Ke=vc)}wa.lh=!0}1!=G.o[ku].count||G.D[ms].c||(G.D[ms].c=!0);if(0<G.na&&0<G.Kg){var NV=0==G.gj,YL=0;for(C=0;C<Rw.length;C++)Ib=Rw[C],
!G.S[Ib].c&&Sw[Ib].kl()&&(G.S[Ib].c=!0,G.gj++,YL++,T('Ethereal upgrade available: "'+Sw[Ib].Ee()+'"',tP,833862648));YL&&NV&&qu(9)}for(C=0;C<cF.length;C++)Ib=cF[C],!G.oc[Ib].Bb&&dF[Ib].Sn()&&(G.Kh++,G.oc[Ib].Bb=!0,T("Achievement unlocked: "+la(dF[Ib].name)+" (+"+K(dF[Ib].gh)+")",uP,34776048,.75),tQ(Ib),1==G.Kh&&AR(-11,void 0,'You got your first achievement! Achievements give a slight production boost. See the "achievements" tab.'));if(0<G.na)for(C=0;C<mu.length;C++)R=V[mu[C]],mb=G.P[mu[C]],!mb.c&&
R.cn()&&(mb.c=!0,qu(24),T("Unlocked challenge: "+la(R.name),uP,66240736,.75),XM(R.index));G.ma.u(Fa);G.gb.u(Fa);G.eb=ml(G.eb,G.b);G.bf=ml(G.bf,G.b);G.Ih=ml(G.Ih,Vb);G.Ef=ml(G.Ef,Vb);var cw=HH(),dw=IH();cw.ba(G.Bd.h)&&(G.Bd.h=cw,G.re.h=c(G.s),G.se.h=c(G.ga),cw.ba(G.Ph.h)&&(G.Ph.h=cw,G.zk.h=c(G.s),G.Ak.h=c(G.ga)));dw.ba(G.Bd.K)&&(G.Bd.K=dw,G.re.K=c(G.s),G.se.K=c(G.ga),dw.ba(G.Ph.K)&&(G.Ph.K=dw,G.zk.K=c(G.s),G.Ak.K=c(G.ga)))}WB(G);0==G.sh&&G.challenge==cn&&qu(25);G.vk++;G.sh++;var RB=m.getTime();RB>
vU+180&&iV()&&(G.Ql++,OJ(function(){RB>Math.max(G.Qk,Math.max(G.Vi,G.Wi))+172800?(T('Auto-saved state locally. Reminder: make a manual savegame backup or risk losing everything. Use "export save" under settings.',qJ,0,0),G.Qk=m.getTime()):G.Qa[0]&&T("Auto-saved state locally",aK,0,0)}),vU=RB);!eT&&iV()&&G.jh&&lK&&OJ();lK=u;var ZL=G.Ca-H;hU=300<ZL&&!y?!0:!1;iU+=ZL;eT=hU&&10<I;if(p&&!hU){var $L=G.b.sub(w),aM="";0<lU&&(aM=". The season changed "+lU+" times");var bM="";0<kU&&(bM=". The tree leveled up "+
kU+" times");var OV=iU;$L=G.b.sub(jU);T("Large time delta: "+m.R(OV,!0,4,!0)+", gained at once: "+$L.toString()+aM+bM,aK,0,0)}if(1==r&&1>=lU){var cM="";if(eU){var PV=P({f:eU.f,B:eU.B}),QV=P({f:Vb.f,B:Vb.B});cM=". Income before: "+PV.toString()+". Income now: "+QV.toString();eU=void 0}T("The season changed to "+Um[On()]+cM,sP,17843969,.75)}var dM=!1;0<v&&(G.Ve=!1,dM=!0);hU||(lU&&G.Qh++,kU=lU=0,jU=P(G.b),iU=0);VT();e&&aP();dM&&eP();nb();for(C=0;C<aV.length;C++)aV[C]()||(aV.splice(C,1),C--);eT||(D&&
void 0!=D.tb?window.setTimeout(Hm,.01):q&&window.setTimeout(Hm,.4*ia))}}var jV=void 0,pN,iL=-1,hL=-1,nN;function $K(){nN=!1;jV&&(ob(jV,hc),jV=void 0)}
function oN(a){$K();var b=kV,d=lV;if(b||d){var e=0<=a?Pm[a]:void 0;nN=!0;pN=a;a=iL;var f=hL;var g=0>a||0>f||void 0==a||void 0==f?new CG(void 0,void 0,1):G.G[f][a];a=!Yo(g);f=Yo(g)&&d&&!b;var h=Yo(g)&&b&&!d,k=Yo(g)&&b&&d&&S(g).g<G.Ib[S(g).type];k&&(e=hq[S(g).type][G.Ib[S(g).type]]);var l=Yo(g)&&b&&d&&S(g).g>=G.Ib[S(g).type];l&&(e=S(g));if(a||f||h||k||l){var p=b?d?"Shift+ctrl":"Shift":"Ctrl",q=a?"planting":f?"deleting":h?"replacing":l?"selecting":"upgrading";jV=new F(hc,.2,.85,.8,.95);jV.a.style.backgroundColor=
a?"#dfd":f?"#fdd":"#ffd";jV.a.style.zIndex=100;var n=new F(jV,[0,0,0],[.5,0,-.35],.99,[.5,0,.35]);n.a.style.color="#000";sa(n.a);if(f)b=S(g).Wa(g),n.a.j.innerHTML=p+"+"+q+"<br><br>recoup: "+b.toString();else if(e){b=new F(jV,.01,[.5,0,-.35],[0,0,.7],[.5,0,.35]);b=pb("0%","0%","100%","100%",b.a);qb(e.image[4],b);var u=function(){var x=P(0);Yo(g)&&(x=S(g).Wa(g));x=e.O().sub(x);var y=x.Sa(G.b),r=p+"+"+q+"<br>"+la(e.name);l||(r+="<br>"+(y?"":'<font color="#888">')+"Cost: "+x+" ("+Tb(x)+")"+(y?"":"</font>"));
n.a.j.innerHTML=r};u();IM(function(){if(!kV&&!lV||!nN)return!1;u();return!0})}else n.a.j.innerHTML=p+"+"+q+"<br><br>none set";E(jV.a,$K)}}}var mV=void 0,IN,lL=-1,mL=-1,GN;function aL(){GN=!1;mV&&(ob(mV,hc),mV=void 0)}
function HN(a){aL();var b=kV,d=lV;if(b||d){var e=0<=a?Uu[a]:void 0;GN=!0;IN=a;var f=lL,g=mL;var h=0>f||0>g||void 0==f||void 0==g?new CG(void 0,void 0,2):G.xa[g][f];f=!Yo(h);g=Yo(h)&&d&&!b;var k=Yo(h)&&b&&!d,l=Yo(h)&&b&&d&&S(h).g<G.Zd[S(h).type];l&&(e=lv[S(h).type][G.Zd[S(h).type]]);var p=Yo(h)&&b&&d&&S(h).g>=G.Zd[S(h).type];p&&(e=S(h));if(f||g||k||l||p)if(!f||g||k||l||p||void 0!=a){var q=b?d?"Shift+ctrl":"Shift":"Ctrl",n=f?"planting":g?"deleting":k?"replacing":p?"selecting":"upgrading";mV=new F(hc,
.2,.85,.8,.95);mV.a.style.backgroundColor=f?"#dfd":g?"#fdd":"#ffd";mV.a.style.zIndex=100;var u=new F(mV,[0,0,0],[.5,0,-.35],.99,[.5,0,.35]);u.a.style.color="#000";sa(u.a);if(g)a=S(h).O(-1).i(1),u.a.j.innerHTML=q+"+"+n+"<br><br>recoup: "+a.toString();else if(e){a=new F(mV,.01,[.5,0,-.35],[0,0,.7],[.5,0,.35]);a=pb("0%","0%","100%","100%",a.a);qb(e.image[4],a);var x=function(){var y=P(0);Yo(h)&&(y=S(h).O(-1).i(1));y=e.O().sub(y);var r=y.Sa(G.b),v=q+"+"+n+"<br>"+la(e.name);p||(v+="<br>"+(r?"":'<font color="#888">')+
"Cost: "+y+" ("+Tb(y)+")"+(r?"":"</font>"));u.a.j.innerHTML=v};x();IM(function(){if(!kV&&!lV||!GN)return!1;x();return!0})}else u.a.j.innerHTML=q+"+"+n+"<br><br>none set";E(mV.a,aL)}}}var nV=void 0,ZN,oL=-1,nL=-1,XN;function oV(){XN=!1;nV&&(ob(nV,hc),nV=void 0)}
function YN(a){oV();var b=kV,d=lV;if(b||d){var e=0<=a?Nz[a]:void 0;XN=!0;ZN=a;a=oL;var f=nL;var g=0>a||0>f||void 0==a||void 0==f?new CG(void 0,void 0,3):G.va[f][a];a=!Yo(g);f=Yo(g)&&d&&!b;var h=Yo(g)&&b&&!d,k=Yo(g)&&b&&d&&S(g).g<G.Ge[S(g).type];k&&(e=tC[S(g).type][G.Ge[S(g).type]]);var l=Yo(g)&&b&&d&&S(g).g>=G.Ge[S(g).type];l&&(e=S(g));if(a||f||h||k||l){var p=b?d?"Shift+ctrl":"Shift":"Ctrl",q=a?"planting":f?"deleting":h?"replacing":l?"selecting":"upgrading";nV=new F(hc,.2,.85,.8,.95);nV.a.style.backgroundColor=
a?"#dfd":f?"#fdd":"#ffd";nV.a.style.zIndex=100;var n=new F(nV,[0,0,0],[.5,0,-.35],.99,[.5,0,.35]);n.a.style.color="#000";sa(n.a);if(f)b=S(g).O(-1).i(1),n.a.j.innerHTML=p+"+"+q+"<br><br>recoup: "+b.toString();else if(e){b=new F(nV,.01,[.5,0,-.35],[0,0,.7],[.5,0,.35]);b=pb("0%","0%","100%","100%",b.a);qb(e.image[4],b);var u=function(){var x=P(0);Yo(g)&&(x=S(g).O(-1).i(1));x=e.O().sub(x);var y=x.Sa(G.b),r=p+"+"+q+"<br>"+la(e.name);l||(r+="<br>"+(y?"":'<font color="#888">')+"Cost: "+x+" ("+Tb(x)+")"+
(y?"":"</font>"));n.a.j.innerHTML=r};u();IM(function(){if(!kV&&!lV||!XN)return!1;u();return!0})}else n.a.j.innerHTML=p+"+"+q+"<br><br>none set";E(nV.a,oV)}}}var kV=!1,lV=!1;function pV(){if(G.ra==gL&&0==Ua){var a=kV?G.qb:UH();oN(a)}G.ra==dL&&0==Ua&&(a=kV?G.Wb:void 0,HN(a));G.ra==NK&&0==Ua&&(a=kV?G.Jb:XH(),YN(a))}document.addEventListener("keydown",function(a){if("Shift"==a.key||"Control"==a.key||"Meta"==a.key){"Shift"==a.key&&(kV=!0);if("Control"==a.key||"Meta"==a.key)lV=!0;pV();hb()}});
document.addEventListener("keyup",function(a){if("Shift"==a.key||"Control"==a.key||"Meta"==a.key){"Shift"==a.key&&(kV=!1);if("Control"==a.key||"Meta"==a.key)lV=!1;kV||lV?pV():($K(),aL(),oV())}});window.addEventListener("blur",function(){lV=kV=!1;$K();aL();oV()});function qV(a){for(var b=[],d=0;d<a.length;d++)b[d]=YH[a[d]];for(d=0;3>d;d++){a=b;var e=d,f=a.length,g=f>>1,h=f+1>>1;e++;for(var k=0;k<f;k++)a[k]^=e&63,e>>=1;for(k=1;k<a.length;k++)a[k]=a[k]+a[k-1]&63;for(k=a.length-1;0<k;k--)a[k-1]=a[k-1]+a[k]&63;for(k=0;k<f;k++)a[k]=(a[k]<<1|a[k]>>5)&63;e=[];for(k=0;k<g;k++)e[2*k]=a[k],e[2*k+1]=a[k+g];f&1&&(e[f-1]=a[f-1]);for(k=0;k<f;k++)a[k]=e[k];for(k=0;k<h;k++){g=2*k;if(g>=f)break;e=(2*k+1)%f;if((a[g]&1)==(a[e]&1)){var l=a[g];a[g]=a[e];a[e]=l}}}a="";for(d=0;d<
b.length;d++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[d]];return a}var rV=nJ;nJ=function(a){a=qV(a);return qV(rV(a))};function sV(a,b){if(!a&&!b)return!0;if(void 0!=a.f){if(a.Ub(b))return!0;a=el(a);b=el(b);if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(!sV(a[d],b[d]))return!1}else if(void 0!=a.A){if(!sV(a.A,b.A)||!sV(a.e,b.e))return!1}else return isNaN(a)&&isNaN(b)?!0:a==b;return!0}
function tV(a,b){return sV(a.b,b.b)&&sV(a.C,b.C)&&sV(a.F,b.F)&&sV(a.qa,b.qa)&&sV(a.pa,b.pa)&&sV(a.Ca,b.Ca)&&sV(a.nd,b.nd)&&sV(a.Da,b.Da)&&sV(a.s,b.s)&&sV(a.U,b.U)&&sV(a.challenge,b.challenge)&&sV(a.$c,b.$c)&&sV(a.h,b.h)&&sV(a.K,b.K)&&sV(a.D[Eq].oa,b.D[Eq].oa)&&sV(a.lb,b.lb)&&sV(a.pc,b.pc)&&sV(a.beta,b.beta)&&(a.challenge!=Kl||(a=a.za,b=b.za,a&&b&&a.bc==b.bc))?!0:!1}
function uV(a,b){b.b=m.clone(a.b);b.C=a.C;b.F=a.F;b.qa=a.qa;b.pa=a.pa;b.Ca=a.Ca;b.nd=a.nd;b.Da=a.Da;b.s=a.s;b.U=a.U;b.challenge=a.challenge;b.$c=a.$c;b.h=a.h;b.K=a.K;b.D||(b.D=[]);b.D[Eq]||(b.D[Eq]={});b.D[Eq].oa=a.D[Eq].oa;b.lb=a.lb;b.pc=a.pc;b.beta=a.beta;a.challenge==Kl&&(a=a.za,b.za||(b.za={}),b.za.bc=a.bc)}var vV,wV,xV=Hm;Hm=function(a){tV(G,vV)&&tV(G,wV)||tV(vV,wV)&&uV(vV,G);xV(a);vV={};uV(G,vV);wV={};uV(G,wV)};function yV(a){bU?a():window.setTimeout(a)}var zV=vJ;
vJ=function(a){vV={};uV(a,vV);wV={};uV(a,wV);zV(a)};function AV(a,b,d){a?b&&b(a):d&&d()}function BV(a,b,d){a=lJ(a);yV(B(AV,a,b,d))}zJ=function(a,b,d){a.xj=tk;a.precision=uk;yV(B(BV,a,b,d))};function RV(a,b,d){a.beta?d&&d({jn:!0,yc:9}):a&&!a.jn?(vJ(a),b&&b(a)):d&&d(a)}function SV(a,b,d){a=pJ(a);yV(B(RV,a,b,d))}AJ=function(a,b,d){yV(B(SV,a,b,d))};window.onbeforeunload=function(){var a=yV;yV=function(b){b()};OJ();yV=a};
function TV(){PF=!0;Da({title:"Support",Ia:!0}).content.a.innerHTML='If you wish to support the development of this game through a donation, you can do so through PayPal:<br/><br/>\n<form action="https://www.paypal.com/donate" method="post" target="_blank">\n<input type="hidden" name="hosted_button_id" value="JGDBGRGDEZ4XJ" />\n<input type="image" src="https://www.paypalobjects.com/en_US/CH/i/btn/btn_donateCC_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />\n<img alt="" border="0" src="https://www.paypal.com/en_CH/i/scr/pixel.gif" width="1" height="1" />\n</form>\n<br/><br/>You can also engage with the community:<br/>Reddit: <a target="_blank" href="https://www.reddit.com/r/etherealfarm/">https://www.reddit.com/r/etherealfarm/</a><br/>Discord: <a target="_blank" href="https://discord.gg/9eaTxXvMT2">https://discord.gg/9eaTxXvMT2</a><br/>Fandom wiki: <a target="_blank" href="https://ethereal-farm.fandom.com/wiki/Ethereal_Farm_Wiki">https://ethereal-farm.fandom.com/wiki/Ethereal_Farm_Wiki</a><br/><br/>';return!1}
var UV=SJ;SJ=function(){var a=""+UV();a+='If you wish to support the development of this game through a donation, you can <a href=# onclick="'+TV.name+'(); event.preventDefault();">do so here</a>.';return a+"<br><br>"};var VV=0,WV=13,XV=2,YV=1,mJ=262144*(VV+2)+64*WV+XV;function UJ(){var a=""+VV+"."+WV+"."+XV;0<YV&&(a+=String.fromCharCode(97+YV));window.global_is_beta&&(a+=" BETA");return a}document.title=(window.global_is_beta?"Beta Ethereal Farm":"Ethereal Farm")+" v"+UJ();T("Welcome to Ethereal Farm v"+UJ(),qJ,0,0);
window.global_is_beta&&window.setTimeout(function(){T("This is a beta version. Savegames can be exported to the beta from the main game, but beta saves can never be imported into the main game, beta versions are for temporary testing of new features only.",qJ,0,0)},1E3);var ia=333;function ZV(){m.Dp(function(){Hm()})}
(function(a,b){var d=m.Hd(ol);d||(d=m.Hd(sl))&&console.log("local storage was corrupted, loaded from last undo save");if(d){var e=mJ;4<d.length&&$H(d)&&(e=4096*YH[d[2]]+64*YH[d[3]]+YH[d[4]],e<mJ&&m.hg(d,rl));AJ(d,function(f){hK();Hm();a(f);f=m.Hd(ql);(!f||!f.length||YH[d[6]]>=YH[f[6]])&&m.hg(d,ql)},function(f){b(f);if(22<d.length&&$H(d)&&"E"==d[0]&&"F"==d[1]){m.Hd(pl)||m.hg(d,pl);for(var g=WJ(),h=0;h<g.length;h++)T(g[h][0]+" : "+g[h][1],ZJ,0,0);0==g.length&&T("current: "+d,ZJ,0,0);g="Loading failed. Copy the saves in the dialog for recovery, or else you may lose it forever. If the dialog got closed, refresh to see it again, or copypaste the saves printed above instead, they are the same recovery saves, make sure to copy all (it is scrolled up and to the right).";
f&&4==f.yc&&(g+=" Loading fail reason: format structure");f&&5==f.yc&&(g+=" Loading fail reason: decompression");f&&6==f.yc&&(g+=" Loading fail reason: checksum mismatch");f&&7==f.yc&&(g+=" Loading fail reason: savegame is from later version than current game version");f&&8==f.yc&&(g+=" Loading fail reason: savegame is from an early preview version of the game and no longer supported");T(g,ZJ,0,0);VJ(!0);XJ=!0}})}else b&&b(void 0)})(function(){T("Loaded local save",aK,0,0);ZV()},function(){vJ(jH());
hK();ZV()});eK=m.Hd(sl,"");function iV(){return XJ?0<G.ej:0<G.na||0<G.De||0<G.Kh||0<G.Lh||0<G.bj?!0:!1}var bU=!1;window.onbeforeunload=function(){bU=!0;if(G.jh){for(var a=0;a<Va.length;a++)if(Va[a].onclose)Va[a].onclose();iV()&&OJ()}};
